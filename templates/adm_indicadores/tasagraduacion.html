{% extends "basebs.html" %}
{% load sga_extras %}
{% block heading %}
    <script src="/static/js/highcharts.js"></script>
    <script src="/static/js/exporting.js"></script>
    <script src="/static/js/data.js"></script>
    {#    <script src="https://code.highcharts.com/highcharts-more.js"></script>#}
    <script type="text/javascript">
        $(function() {
            $("#generargraficas").click(function(){
                bloqueointerface();
                anioinicio = $("#id_inicio").val()
                aniofin = $("#id_fin").val()
                id_carrera = $("#id_carrera").val()
                if (anioinicio==0 || aniofin==0){
                    smoke.alert("Seleccione campo");
                    $.unblockUI();
                }else{
                    location.href = "/adm_indicadores?action=generagrafica&anioinicio="+anioinicio+"&aniofin="+aniofin+"&carr="+id_carrera;
                }
            });
            $("#descargarexcel").click(function(){
                anioinicio = $("#id_inicio").val()
                aniofin = $("#id_fin").val()
                if (anioinicio==0 || aniofin==0){
                    smoke.alert("Seleccione campo");
                }else{
                    location.href = "/adm_indicadores?action=descargarexcel&anioinicio="+anioinicio+"&aniofin="+aniofin;
                }
            });
            {% if mostrar == 1 %}
                {#                Highcharts.chart('container', {#}
                {#                    chart: {#}
                {#                        plotBackgroundColor: null,#}
                {#                        plotBorderWidth: 0,#}
                {#                        plotShadow: false,#}
                {#                        type: 'pie',#}
                {#                        events: {#}
                {#                            load: function () {#}
                {#                                var label = this.renderer.label("<strong>\n" +#}
                {#                                    "                    Total alumnos sin graduarse: {{ totalingresaron }}<br>\n" +#}
                {#                                    "                    Total alumnos se graduaron: {{ totalgraduados }}\n" +#}
                {#                                    "                </strong>")#}
                {#                                    .css({#}
                {#                                        width: '1500px',#}
                {#                                        fontSize: '10px'#}
                {#                                    })#}
                {#                                    .attr({#}
                {#                                        'stroke': 'silver',#}
                {#                                        'stroke-width': 1,#}
                {#                                        'r': 2,#}
                {#                                        'padding': 5#}
                {#                                    })#}
                {#                                    .add();#}
                {#                                label.align(Highcharts.extend(label.getBBox(), {#}
                {#                                    align: 'center',#}
                {#                                    x: 20,#}
                {#                                    verticalAlign: 'bottom',#}
                {#                                    y: 10#}
                {#                                }), null, 'spacingBox');#}
                {#                            }#}
                {#                        },#}
                {#                    },#}
                {#                    credits: {#}
                {#                        //desabilita el texto de la pagina de la grafica#}
                {#                        enabled: false#}
                {#                    },#}
                {#                    title: {#}
                {#                        text: 'Estudiantes inicio 1er nivel {{ totalmuestra }}',#}
                {#                        color: '#FFAC33'#}
                {#                    },#}
                {#                    tooltip: {#}
                {#                        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'#}
                {#                    },#}
                {#                    plotOptions: {#}
                {#                        pie: {#}
                {#                            allowPointSelect: true,#}
                {#                            cursor: 'pointer',#}
                {#                            dataLabels: {#}
                {#                                enabled: true,#}
                {#                                format: '<b>{point.name}</b>: {point.percentage:.1f} %',#}
                {#                                style: {#}
                {#                                    color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'#}
                {#                                }#}
                {#                            }#}
                {#                        }#}
                {#                    },#}
                {#                    series: [{#}
                {#                        name: 'Porcentaje',#}
                {#                        colorByPoint: true,#}
                {#                        data: [{#}
                {#                            name: 'No graduados',#}
                {#                            color: '#000080',#}
                {#                            y: {{ porcentajeingresos|floatformat:2 }}#}
                {#                        }, {#}
                {#                            name: 'Graduados',#}
                {#                            color: '#808000',#}
                {#                            y: {{ porcentajegraduados|floatformat:2 }}#}
                {#                        }]#}
                {#                    }]#}
                {#                });#}
                Highcharts.chart('containeretnia', {
                    chart: {
                        plotBackgroundColor: null,
                        plotBorderWidth: null,
                        plotShadow: false,
                        type: 'pie',
                        events: {
                            load: function () {
                                var label = this.renderer.label("<div><strong>\n" +
                                    "{% for listaet in listadoetnia %}\n"+
                                        "{{ listaet.0 }} ({{ listaet.2 }}) |\n"+
                                        "{% if forloop.counter == 5 or forloop.counter == 10 %} <br>{% endif %}  \n"+
                                        "{% endfor %}\n" +
                                    "</strong></div>")
                                    .css({
                                        width: '1500px',
                                        fontSize: '10px'
                                    })
                                    .attr({
                                        'stroke': 'silver',
                                        'stroke-width': 1,
                                        'r': 2,
                                        'padding': 5
                                    })
                                    .add();
                                label.align(Highcharts.extend(label.getBBox(), {
                                    align: 'center',
                                    x: 20,
                                    verticalAlign: 'bottom',
                                    y: 10
                                }), null, 'spacingBox');
                            }
                        },
                    },
                    credits: {
                        //desabilita el texto de la pagina de la grafica
                        enabled: false
                    },


                    title: {
                        text: 'Estudiantes inicio 1er nivel - Etnia {{ totalmuestra }}',
                        color: '#FFAC33'
                    },
                    tooltip: {
                        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                    },
                    plotOptions: {
                        pie: {
                            allowPointSelect: true,
                            cursor: 'pointer',
                            dataLabels: {
                                enabled: true,
                                format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                                style: {
                                    color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                                }
                            }
                        }
                    },
                    series: [{
                        name: 'Estudiantes inicio 1er nivel - Porcentaje',
                        colorByPoint: true,
                        data: [
                            {% for listaet in listadoetnia %}
                                {
                                    name: '{{ listaet.0 }}',
                                    y: {{ listaet.1|floatformat:2 }}
                                },
                            {% endfor %}

                        ]
                    }]
                });
                Highcharts.chart('containerdiscapacidad', {
                    chart: {
                        plotBackgroundColor: null,
                        plotBorderWidth: null,
                        plotShadow: false,
                        type: 'pie'
                        ,
                        events: {
                            load: function () {
                                var label = this.renderer.label("<strong>{% for listadis in listadodiscapacidad %}{{ listadis.0 }} ({{ listadis.2 }}) |{% endfor %}\n" +
                                    "                </strong> ")
                                    .css({
                                        width: '1500px',
                                        fontSize: '10px'
                                    })
                                    .attr({
                                        'stroke': 'silver',
                                        'stroke-width': 1,
                                        'r': 2,
                                        'padding': 5
                                    })
                                    .add();
                                label.align(Highcharts.extend(label.getBBox(), {
                                    align: 'center',
                                    x: 40,
                                    verticalAlign: 'bottom',
                                    y: 15
                                }), null, 'spacingBox');
                            }
                        },
                    },
                    {#                    legend: {y: -50}, // position between axis and legend#}
                    {#                    credits: {#}
                    {#                        text: "{% for listadis in listadodiscapacidad %} {{ listadis.0 }} ({{ listadis.2 }}) |  {% endfor %}",#}
                    {#                        href: null,#}
                    {#                        position: {#}
                    {#                            align: 'center',#}
                    {#                            y: -5 // position of credits#}
                    {#                        },#}
                    {#                        style: {#}
                    {#                            fontSize: '10pt' // you can style it!#}
                    {#                        }#}
                    {#                    },#}
                    credits: {
                        //desabilita el texto de la pagina de la grafica
                        enabled: false
                    },
                    title: {
                        text: 'Estudiantes inicio 1er nivel - Discapacidad {{ totalmuestra }}',
                        color: '#FFAC33'
                    },
                    tooltip: {
                        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                    },
                    plotOptions: {
                        pie: {
                            allowPointSelect: true,
                            cursor: 'pointer',
                            dataLabels: {
                                enabled: true,
                                format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                                style: {
                                    color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                                }
                            }
                        }
                    },
                    series: [{
                        name: 'Porcentaje',
                        colorByPoint: true,
                        data: [
                            {% for listadis in listadodiscapacidad %}
                                {
                                    name: '{{ listadis.0 }}',
                                    y: {{ listadis.1|floatformat:2 }}
                                },
                            {% endfor %}
                        ]
                    }]
                });
                Highcharts.chart('containersocioeconomico', {
                    chart: {
                        plotBackgroundColor: null,
                        plotBorderWidth: null,
                        plotShadow: false,
                        type: 'pie',
                        events: {
                            load: function () {
                                var label = this.renderer.label("<strong>\n" +
                                    "                    {% for socioecon in listadosocioeconomico %}{{ socioecon.0 }} ({{ socioecon.2 }}) |{% endfor %}</strong> ")
                                    .css({
                                        width: '1500px',
                                        fontSize: '10px'
                                    })
                                    .attr({
                                        'stroke': 'silver',
                                        'stroke-width': 1,
                                        'r': 2,
                                        'padding': 5
                                    })
                                    .add();
                                label.align(Highcharts.extend(label.getBBox(), {
                                    align: 'center',
                                    x: 20,
                                    verticalAlign: 'bottom',
                                    y: 10
                                }), null, 'spacingBox');
                            }
                        },
                    },
                    credits: {
                        //desabilita el texto de la pagina de la grafica
                        enabled: false
                    },
                    title: {
                        text: 'Estudiantes inicio 1er nivel - Grupo socioeconómico {{ totalmuestra }}',
                        color: '#FFAC33'
                    },
                    tooltip: {
                        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                    },
                    plotOptions: {
                        pie: {
                            allowPointSelect: true,
                            cursor: 'pointer',
                            dataLabels: {
                                enabled: true,
                                format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                                style: {
                                    color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                                }
                            }
                        }
                    },
                    series: [{
                        name: 'Porcentaje',
                        colorByPoint: true,
                        data: [
                            {% for socioecon in listadosocioeconomico %}
                                {
                                    name: '{{ socioecon.0 }}',
                                    y: {{ socioecon.1|floatformat:2 }}
                                },
                            {% endfor %}
                        ]
                    }]
                });
                Highcharts.chart('containercredo', {
                    chart: {
                        plotBackgroundColor: null,
                        plotBorderWidth: null,
                        plotShadow: false,
                        type: 'pie',
                        events: {
                            load: function () {
                                var label = this.renderer.label("<strong>{% for credo in listadocredo %} {{ credo.0 }} ({{ credo.2 }}) | {% endfor %}</strong> ")
                                    .css({
                                        width: '1500px',
                                        fontSize: '10px'
                                    })
                                    .attr({
                                        'stroke': 'silver',
                                        'stroke-width': 1,
                                        'r': 2,
                                        'padding': 5
                                    })
                                    .add();
                                label.align(Highcharts.extend(label.getBBox(), {
                                    align: 'center',
                                    x: 20,
                                    verticalAlign: 'bottom',
                                    y: 10
                                }), null, 'spacingBox');
                            }
                        },
                    },
                    credits: {
                        //desabilita el texto de la pagina de la grafica
                        enabled: false
                    },
                    title: {
                        text: 'Estudiantes inicio 1er nivel - Credo {{ totalmuestra }}',
                        color: '#FFAC33'
                    },
                    tooltip: {
                        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                    },
                    plotOptions: {
                        pie: {
                            allowPointSelect: true,
                            cursor: 'pointer',
                            dataLabels: {
                                enabled: true,
                                format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                                style: {
                                    color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                                }
                            }
                        }
                    },
                    series: [{
                        name: 'Estudiantes inicio 1er nivel - Porcentaje',
                        colorByPoint: true,
                        data: [
                            {% for listacre in listadocredo  %}
                                {
                                    name: '{{ listacre.0 }}',
                                    y: {{ listacre.1|floatformat:2 }}
                                },
                            {% endfor %}

                        ]
                    }]
                });
                Highcharts.chart('containerpolitica', {
                    chart: {
                        plotBackgroundColor: null,
                        plotBorderWidth: null,
                        plotShadow: false,
                        type: 'pie',
                        events: {
                            load: function () {
                                var label = this.renderer.label("<strong>{% for preferenciapolitica in listadopreferenciapolitica %} {% if forloop.counter == 5 or forloop.counter == 10 %} <br>{% endif %}</strong> <strong>{{ preferenciapolitica.0 }} ({{ preferenciapolitica.2 }}) | {% endfor %}</strong> ")
                                    .css({
                                        width: '1500px',
                                        fontSize: '10px'
                                    })
                                    .attr({
                                        'stroke': 'silver',
                                        'stroke-width': 1,
                                        'r': 2,
                                        'padding': 5
                                    })
                                    .add();
                                label.align(Highcharts.extend(label.getBBox(), {
                                    align: 'center',
                                    x: 20,
                                    verticalAlign: 'bottom',
                                    y: 10
                                }), null, 'spacingBox');
                            }
                        },
                    },
                    credits: {
                        //desabilita el texto de la pagina de la grafica
                        enabled: false
                    },
                    title: {
                        text: 'Estudiantes inicio 1er nivel - Preferencia política {{ totalmuestra }}',
                        color: '#FFAC33'
                    },
                    tooltip: {
                        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                    },
                    plotOptions: {
                        pie: {
                            allowPointSelect: true,
                            cursor: 'pointer',
                            dataLabels: {
                                enabled: true,
                                format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                                style: {
                                    color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                                }
                            }
                        }
                    },
                    series: [{
                        name: 'Estudiantes inicio 1er nivel - Porcentaje',
                        colorByPoint: true,
                        data: [
                            {% for preferenciapolitica in listadopreferenciapolitica %}
                                {
                                    name: '{{ preferenciapolitica.0 }}',
                                    y: {{ preferenciapolitica.1|floatformat:2 }}
                                },
                            {% endfor %}

                        ]
                    }]
                });
                Highcharts.chart('containersexo', {
                    chart: {
                        plotBackgroundColor: null,
                        plotBorderWidth: null,
                        plotShadow: false,
                        type: 'pie',
                        events: {
                            load: function () {
                                var label = this.renderer.label("<strong> Hombres: {{ totalingresaronhombres    }}| Mujeres: {{ totalingresaronmujeres    }}</strong>")
                                    .css({
                                        width: '1500px',
                                        fontSize: '10px'
                                    })
                                    .attr({
                                        'stroke': 'silver',
                                        'stroke-width': 1,
                                        'r': 2,
                                        'padding': 5
                                    })
                                    .add();
                                label.align(Highcharts.extend(label.getBBox(), {
                                    align: 'center',
                                    x: 20,
                                    verticalAlign: 'bottom',
                                    y: 10
                                }), null, 'spacingBox');
                            }
                        },
                    },
                    credits: {
                        //desabilita el texto de la pagina de la grafica
                        enabled: false
                    },
                    title: {
                        text: 'Estudiantes inicio 1er nivel - Sexo {{ totalmuestra }}'
                    },
                    tooltip: {
                        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                    },
                    plotOptions: {
                        pie: {
                            allowPointSelect: true,
                            cursor: 'pointer',
                            dataLabels: {
                                enabled: true,
                                format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                                style: {
                                    color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                                }
                            }
                        }
                    },
                    series: [{
                        name: 'Porcentaje',
                        colorByPoint: true,
                        data: [{
                            name: 'Hombres',
                            color: '#000080',
                            y: {{ porcingresaronhombres|floatformat:2 }}
                        }, {
                            name: 'Mujeres',
                            color: '#808000',
                            y: {{ porctotalingresaronmujeres|floatformat:2 }}
                        }]
                    }]
                });
                Highcharts.chart('containersexogenero', {
                    chart: {
                        plotBackgroundColor: null,
                        plotBorderWidth: null,
                        plotShadow: false,
                        type: 'pie',
                        events: {
                            load: function () {
                                var label = this.renderer.label("<strong> Hombres: {{ totalingresaronhombresgenero   }}| Mujeres: {{ totalingresaronmujeresgenero   }}| LGTBI: {{ totalingresaronlgtbi  }}</strong>")
                                    .css({
                                        width: '1500px',
                                        fontSize: '10px'
                                    })
                                    .attr({
                                        'stroke': 'silver',
                                        'stroke-width': 1,
                                        'r': 2,
                                        'padding': 5
                                    })
                                    .add();
                                label.align(Highcharts.extend(label.getBBox(), {
                                    align: 'center',
                                    x: 20,
                                    verticalAlign: 'bottom',
                                    y: 10
                                }), null, 'spacingBox');
                            }
                        },
                    },
                    credits: {
                        //desabilita el texto de la pagina de la grafica
                        enabled: false
                    },
                    title: {
                        text: 'Estudiantes inicio 1er nivel - Preferencia género {{ totalmuestra }}'
                    },
                    tooltip: {
                        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                    },
                    plotOptions: {
                        pie: {
                            allowPointSelect: true,
                            cursor: 'pointer',
                            dataLabels: {
                                enabled: true,
                                format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                                style: {
                                    color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                                }
                            }
                        }
                    },
                    series: [{
                        name: 'Porcentaje',
                        colorByPoint: true,
                        data: [{
                            name: 'Hombres',
                            color: '#000080',
                            y: {{ porcingresaronhombresgenero|floatformat:2 }}
                        }, {
                            name: 'Mujeres',
                            color: '#808000',
                            y: {{ porctotalingresaronmujeresgenero|floatformat:2 }}
                        },{
                            name: 'LGTBI',
                            color: '#808000',
                            y: {{ porctotalingresaronlgtbigenero|floatformat:2 }}
                        }]
                    }]
                });
                Highcharts.chart('containerdiscapacidadbarra', {
                    data: {
                        table: 'datatable'
                    },
                    chart: {
                        type: 'column'
                    },
                    credits: {
                        //desabilita el texto de la pagina de la grafica
                        enabled: false
                    },
                    title: {
                        text: 'Tasa de graduación - Discapacidad'
                    },
                    yAxis: {
                        allowDecimals: false,
                        title: {
                            text: '<strong>Cantidad de estudiantes </strong>'
                        }
                    },
                    tooltip: {
                        formatter: function () {
                            return '<b>' + this.series.name + '</b><br/>' +
                                this.point.y;
                        }
                    }
                });
                Highcharts.chart('containeretniabarra', {
                    data: {
                        table: 'datatableetnia'
                    },
                    credits: {
                        //desabilita el texto de la pagina de la grafica
                        enabled: false
                    },
                    chart: {
                        type: 'column'
                    },
                    title: {
                        text: 'Tasa de graduación - Etnia'
                    },
                    yAxis: {
                        allowDecimals: false,
                        title: {
                            text: '<strong>Cantidad de estudiantes </strong>'
                        }
                    },
                    tooltip: {
                        formatter: function () {
                            return '<b>' + this.series.name + '</b><br/>' +
                                this.point.y;
                        }
                    }
                });
                Highcharts.chart('containersexobarra', {
                    data: {
                        table: 'datatablesexo'
                    },
                    credits: {
                        //desabilita el texto de la pagina de la grafica
                        enabled: false
                    },
                    chart: {
                        type: 'column'
                    },
                    title: {
                        text: 'Tasa de graduación - Sexo'
                    },
                    yAxis: {
                        allowDecimals: false,
                        title: {
                            text: '<strong>Cantidad de estudiantes </strong>'
                        }
                    },
                    tooltip: {
                        formatter: function () {
                            return '<b>' + this.series.name + '</b><br/>' +
                                this.point.y;
                        }
                    }
                });
                Highcharts.chart('containersexopreferenciabarra', {
                    data: {
                        table: 'datatablesexopreferencia'
                    },
                    credits: {
                        //desabilita el texto de la pagina de la grafica
                        enabled: false
                    },
                    chart: {
                        type: 'column'
                    },
                    title: {
                        text: 'Tasa de graduación - Preferencia género'
                    },
                    yAxis: {
                        allowDecimals: false,
                        title: {
                            text: '<strong>Cantidad de estudiantes </strong>'
                        }
                    },
                    tooltip: {
                        formatter: function () {
                            return '<b>' + this.series.name + '</b><br/>' +
                                this.point.y;
                        }
                    }
                });
                Highcharts.chart('containersocioeconomicobarra', {
                    data: {
                        table: 'datatablesocioeconomico'
                    },
                    chart: {
                        type: 'column'
                    },
                    credits: {
                        //desabilita el texto de la pagina de la grafica
                        enabled: false
                    },
                    title: {
                        text: 'Tasa de graduación - Grupo socioeconómico'
                    },
                    yAxis: {
                        allowDecimals: false,
                        title: {
                            text: '<strong>Cantidad de estudiantes </strong>'
                        }
                    },
                    tooltip: {
                        formatter: function () {
                            return '<b>' + this.series.name + '</b><br/>' +
                                this.point.y;
                        }
                    }
                });
                Highcharts.chart('containergraduadosbarra', {
                    data: {
                        table: 'datatablegraduados'
                    },
                    chart: {
                        type: 'column'
                    },
                    credits: {
                        //desabilita el texto de la pagina de la grafica
                        enabled: false
                    },
                    title: {
                        text: 'Tasa de graduación - Estudiantes {{ porcentajegraduados }}%'
                    },
                    yAxis: {
                        allowDecimals: false,
                        title: {
                            text: '<strong>Cantidad de estudiantes </strong>'
                        }
                    },
                    tooltip: {
                        formatter: function () {
                            return '<b>' + this.series.name + '</b><br/>' +
                                this.point.y;
                        }
                    }
                });
                Highcharts.chart('containercredobarra', {
                    data: {
                        table: 'datatablecredo'
                    },
                    chart: {
                        type: 'column'
                    },
                    credits: {
                        //desabilita el texto de la pagina de la grafica
                        enabled: false
                    },
                    title: {
                        text: 'Tasa de graduación - Credo'
                    },
                    yAxis: {
                        allowDecimals: false,
                        title: {
                            text: '<strong>Cantidad de estudiantes </strong>'
                        }
                    },
                    tooltip: {
                        formatter: function () {
                            return '<b>' + this.series.name + '</b><br/>' +
                                this.point.y;
                        }
                    }
                });
                Highcharts.chart('containerpoliticabarra', {
                    data: {
                        table: 'datatablepolitica'
                    },
                    credits: {
                        //desabilita el texto de la pagina de la grafica
                        enabled: false
                    },
                    chart: {
                        type: 'column'
                    },
                    title: {
                        text: 'Tasa de graduación - Preferencia politica'
                    },
                    yAxis: {
                        allowDecimals: false,
                        title: {
                            text: '<strong>Cantidad de estudiantes </strong>'
                        }
                    },
                    tooltip: {
                        formatter: function () {
                            return '<b>' + this.series.name + '</b><br/>' +
                                this.point.y;
                        }
                    }
                });

                Highcharts.chart('containergraduadosxaniobarra', {
                    data: {
                        table: 'datatablegraduadosxanio'
                    },
                    chart: {
                        type: 'column'
                    },
                    credits: {
                        //desabilita el texto de la pagina de la grafica
                        enabled: false
                    },
                    title: {
                        text: 'Tasa de graduación - por año'
                    },
                    yAxis: {
                        allowDecimals: false,
                        title: {
                            text: '<strong>Cantidad de estudiantes </strong>'
                        }
                    },
                    tooltip: {
                        formatter: function () {
                            return '<b>' + this.series.name + '</b><br/>' +
                                this.point.y;
                        }
                    }
                });
            {% endif %}
        });
    </script>
{% endblock %}
{% block atras %}/adm_indicadores{% endblock %}
{% block canvas %}
    <div class='row-fluid' align="center">
        <div class='span12'>
            <h4>{{ title }}</h4>
        </div>
    </div>
    <div class='row-fluid'>
        <div class='span2'><strong>AÑO INICIO:</strong>
            <select id='id_inicio' name="id_inicio" style="width: 200px">
                <option value="0">SELECCIONE</option>
                {% for anio in listaanios %}
                    <option value="{{ anio }}" {% if anio == anioinicio %} selected {% endif %}>{{ anio }}</option>
                {% endfor %}
            </select>
        </div>
        <div class='span2'><strong>AÑO GRADUACIÓN:</strong>
            <select id='id_fin' name="id_fin" style="width: 200px">
                <option value="0">SELECCIONE</option>
                {% for anio in listaanios %}
                    <option value="{{ anio }}"  {% if anio == aniofin %} selected {% endif %}>{{ anio }}</option>
                {% endfor %}
            </select>
        </div>
        <div class='span2'><strong>CARRERAS:</strong>
            <select id='id_carrera' name="id_carrera" style="width: 200px">
                <option value="0">TODOS</option>
                {% for carrera in carreras %}
                    <option value="{{ carrera.id }}" {% if carrera.id == idcarrera %} selected {% endif %}>{{ carrera }}</option>
                {% endfor %}
            </select>
        </div>

        <div class='span4'><br>
            <a href="#" id="generargraficas" class='btn btn-warning'><span class="fa fa-bar-chart" ></span> Generar Gráficas</a>
            <a href="#" id="descargarexcel" class='btn btn-warning'><span class="fa fa-file-excel-o" ></span> Descargar</a>
        </div>
    </div>
    {% if mostrar == 1 %}
        <div class="span12" style="text-align: center;border: 1px solid #e3e3e3;padding: 5px;border-radius: 5px">
            <table id="datatablegraduados" border="1">
                <thead>
                <tr>
                    <th>Estudiantes</th>
                    <th>Ingresaron </th>
                    <th>Graduados </th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <th><strong>Estudiantes </strong></th>
                    <td>{{ totalmuestra }}</td>
                    <td>{{ totalgraduados }}</td>
                </tr>
                </tbody>
            </table>
            <div id="containergraduadosbarra" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
        </div><br>
        <div class="span12" style="text-align: center;border: 1px solid #e3e3e3;padding: 5px;border-radius: 5px">
            <table id="datatablegraduadosxanio" border="1">
                <thead>
                <tr>
                    <th>Años</th>
                    <th>Cantidad </th>
                </tr>
                </thead>
                <tbody>

                {%  for resul in totalgradxanio %}
                    <tr>
                        <td>{{ resul.0 }}</td>
                        <td>{{ resul.1 }}</td>
                    </tr>
                {% endfor %}

                </tbody>
            </table>
            <div id="containergraduadosxaniobarra" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
        </div>

        <div class="span12" style="text-align: center;border: 1px solid #e3e3e3;padding: 5px;border-radius: 5px">
            <table id="datatableetnia" border="1" width="100%">
                <thead>
                <tr>
                    <th>Etnia</th>
                    <th>Ingresaron {{ anioinicio }}</th>
                    <th>Graduados {{ aniofin }}</th>
                </tr>
                </thead>
                <tbody>
                {% for listaet in listadoetnia %}
                    <tr>
                        <th><strong>{{ listaet.0 }} {{ listaet.3 }} % </strong></th>
                        <td>{{ listaet.2 }}</td>
                        <td>{{ listaet.4|floatformat:"0" }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
            <div id="containeretniabarra" style="min-width: 310px; height: 440px; margin: 0 auto"></div>
        </div>
        <div class="span12" style="text-align: center;border: 1px solid #e3e3e3;padding: 5px;border-radius: 5px">
            <table id="datatable" border="1">
                <thead>
                <tr>
                    <th>Discapacidad</th>
                    <th>Ingresaron {{ anioinicio }}</th>
                    <th>Graduados {{ aniofin }}</th>
                </tr>
                </thead>
                <tbody>
                {% for listadis in listadodiscapacidad %}
                    <tr>
                        <th><strong>{{ listadis.0 }} {{ listadis.3 }} % </strong></th>
                        <td>{{ listadis.2 }}</td>
                        <td>{{ listadis.4|floatformat:"0" }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
            <div id="containerdiscapacidadbarra" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
        </div>
        <div class="span12" style="text-align: center;border: 1px solid #e3e3e3;padding: 5px;border-radius: 5px">
            <table id="datatablesexo" border="1">
                <thead>
                <tr>
                    <th>Sexo</th>
                    <th>Ingresaron {{ anioinicio }}</th>
                    <th>Graduados {{ aniofin }}</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <th><strong>Hombre {{ tasagraduadoshombres }} % </strong></th>
                    <td>{{ totalingresaronhombres }}</td>
                    <td>{{ totalgraduadoshombres }}</td>
                </tr>
                <tr>
                    <th><strong>Mujer {{ tasagraduadosmujeres }} % </strong></th>
                    <td>{{ totalingresaronmujeres }}</td>
                    <td>{{ totalgraduadosmujeres }}</td>
                </tr>
                </tbody>
            </table>
            <div id="containersexobarra" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
        </div>
        <div class="span12" style="text-align: center;border: 1px solid #e3e3e3;padding: 5px;border-radius: 5px">
            <table id="datatablesexopreferencia" border="1">
                <thead>
                <tr>
                    <th>Preferencia género</th>
                    <th>Ingresaron {{ anioinicio }}</th>
                    <th>Graduados {{ aniofin }}</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <th><strong>Hombre {{ tasagraduadoshombresgenero }} % </strong></th>
                    <td>{{ totalingresaronhombresgenero }}</td>
                    <td>{{ totalgraduadoshombresgenero }}</td>
                </tr>
                <tr>
                    <th><strong>Mujer {{ tasagraduadosmujeresgenero }} % </strong></th>
                    <td>{{ totalingresaronmujeresgenero }}</td>
                    <td>{{ totalgraduadosmujeresgenero }}</td>
                </tr>
                <tr>
                    <th><strong>LGTBI {{ tasagraduadoslgtbigenero }} % </strong></th>
                    <td>{{ totalingresaronlgtbi }}</td>
                    <td>{{ totalgraduadoslgtbigenero }}</td>
                </tr>
                </tbody>
            </table>
            <div id="containersexopreferenciabarra" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
        </div>
        <div class="span12" style="text-align: center;border: 1px solid #e3e3e3;padding: 5px;border-radius: 5px">
            <table id="datatablesocioeconomico" border="1">
                <thead>
                <tr>
                    <th>Grupo Socioeconómico</th>
                    <th>Ingresaron {{ anioinicio }}</th>
                    <th>Graduados {{ aniofin }}</th>
                </tr>
                </thead>
                <tbody>
                {% for socioecon in listadosocioeconomico %}
                    <tr>
                        <th><strong>{{ socioecon.0 }} {{ socioecon.3 }} % </strong></th>
                        <td>{{ socioecon.2 }}</td>
                        <td>{{ socioecon.4|floatformat:"0" }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
            <div id="containersocioeconomicobarra" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
        </div>
        <div class="span12" style="text-align: center;border: 1px solid #e3e3e3;padding: 5px;border-radius: 5px">
            <table id="datatablecredo" border="1">
                <thead>
                <tr>
                    <th>Grupo credos</th>
                    <th>Ingresaron {{ anioinicio }}</th>
                    <th>Graduados {{ aniofin }}</th>
                </tr>
                </thead>
                <tbody>
                {% for credo in listadocredo %}
                    <tr>
                        <th><strong>{{ credo.0 }} {{ credo.3 }} % </strong></th>
                        <td>{{ credo.2 }}</td>
                        <td>{{ credo.4|floatformat:"0" }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
            <div id="containercredobarra" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
        </div>
        <div class="span12" style="text-align: center;border: 1px solid #e3e3e3;padding: 5px;border-radius: 5px">
            <table id="datatablepolitica" border="1">
                <thead>
                <tr>
                    <th>Grupo preferencia política</th>
                    <th>Ingresaron {{ anioinicio }}</th>
                    <th>Graduados {{ aniofin }}</th>
                </tr>
                </thead>
                <tbody>
                {% for preferenciapolitica in listadopreferenciapolitica %}
                    <tr>
                        <th><strong>{{ preferenciapolitica.0 }} {{ preferenciapolitica.3 }} % </strong></th>
                        <td>{{ preferenciapolitica.2 }}</td>
                        <td>{{ preferenciapolitica.4|floatformat:"0" }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
            <div id="containerpoliticabarra" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
        </div>
        {#        <div class="span12" style="text-align: center;border: 1px solid #e3e3e3;padding: 5px;border-radius: 5px">#}
        {#            <div id="container" style="min-width: 310px; height: 500px; max-width: 600px; margin: 0 auto">#}
        {#            </div>#}
        {#            <div style="text-align: left;height: 50px;">#}
        {#            </div>#}
        {#        </div>#}

        <div class="span12" style="text-align: center;border: 1px solid #e3e3e3;padding: 5px;border-radius: 5px">
            <div id="containeretnia" style="min-width: 310px; height: 500px; max-width: 600px; margin: 0 auto">
            </div>
            <div style="text-align: left;height: 50px;">
            </div>
        </div>

        <div class="span12" style="text-align: center;border: 1px solid #e3e3e3;padding: 5px;border-radius: 5px">
            <div id="containerdiscapacidad" style="min-width: 310px; height: 500px; max-width: 600px; margin: 0 auto">
            </div>
            <div style="text-align: left;height: 100px;">
            </div>
        </div>

        <div class="span12" style="text-align: center;border: 1px solid #e3e3e3;padding: 5px;border-radius: 5px">
            <div id="containersexo" style="min-width: 310px; height: 500px; max-width: 600px; margin: 0 auto">
            </div>
            <div style="text-align: left;height: 50px;">
            </div>
        </div>
        <div class="span12" style="text-align: center;border: 1px solid #e3e3e3;padding: 5px;border-radius: 5px">
            <div id="containersexogenero" style="min-width: 310px; height: 500px; max-width: 600px; margin: 0 auto">
            </div>
            <div style="text-align: left;height: 50px;">
            </div>
        </div>

        <div class="span12" style="text-align: center;border: 1px solid #e3e3e3;padding: 5px;border-radius: 5px">
            <div id="containersocioeconomico" style="min-width: 310px; height: 500px; max-width: 600px; margin: 0 auto">
            </div>
            <div style="text-align: left;height: 50px;">
            </div>
        </div>

        <div class="span12" style="text-align: center;border: 1px solid #e3e3e3;padding: 5px;border-radius: 5px">
            <div id="containercredo" style="min-width: 310px; height: 500px; max-width: 600px; margin: 0 auto">
            </div>
            <div style="text-align: left;height: 50px;">
            </div>
        </div>

        <div class="span12" style="text-align: center;border: 1px solid #e3e3e3;padding: 5px;border-radius: 5px">
            <div id="containerpolitica" style="min-width: 310px; height: 500px; max-width: 600px; margin: 0 auto">
            </div>
            <div style="text-align: left;height: 50px;">
            </div>
        </div>
    {% endif %}
{% endblock %}
