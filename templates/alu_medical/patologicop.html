{% extends "ajaxformbs.html" %}
{% block extraheading %}
    <script type="text/javascript">
        $(function(){
            chequeaFormulario = function() {
                if (!$("#id_vacunas").is(':checked')) {
                    $("#id_nombrevacunas").attr("disabled", true).val("").removeClass("validate[required]");
                } else {
                    $("#id_nombrevacunas").attr("disabled", false).addClass("validate[required]");
                }

                if (!$("#id_enfermedades").is(':checked')) {
                    $("#id_nombreenfermedades").attr("disabled", true).val("").removeClass("validate[required]");
                } else {
                    $("#id_nombreenfermedades").attr("disabled", false).addClass("validate[required]");
                }

                if (!$("#id_alergiamedicina").is(':checked')) {
                    $("#id_nombremedicinas").attr("disabled", true).val("").removeClass("validate[required]");
                } else {
                    $("#id_nombremedicinas").attr("disabled", false).addClass("validate[required]");
                }

                if (!$("#id_alergiaalimento").is(':checked')) {
                    $("#id_nombrealimentos").attr("disabled", true).val("").removeClass("validate[required]");
                } else {
                    $("#id_nombrealimentos").attr("disabled", false).addClass("validate[required]");
                }

                if (!$("#id_cirugias").is(':checked')) {
                    $("#id_fechacirugia").attr("disabled", true).val("").removeClass("validate[required]");
                    $("#id_nombrecirugia").attr("disabled", true).val("").removeClass("validate[required]");
                } else {
                    $("#id_fechacirugia").attr("disabled", false).val("01-01-1980").addClass("validate[required]");
                    $("#id_nombrecirugia").attr("disabled", false).addClass("validate[required]");
                }

                if (!$("#id_aparato").is(':checked')) {
                    $("#id_tipoaparato").attr("disabled", true).val("").removeClass("validate[required]");
                } else {
                    $("#id_tipoaparato").attr("disabled", false).addClass("validate[required]");
                }
            };

            $("#id_vacunas").click(chequeaFormulario);
            $("#id_enfermedades").click(chequeaFormulario);
            $("#id_alergiamedicina").click(chequeaFormulario);
            $("#id_alergiaalimento").click(chequeaFormulario);
            $("#id_cirugias").click(chequeaFormulario);
            $("#id_aparato").click(chequeaFormulario);

            chequeaFormulario();

            $("#id_fechacirugia").datepicker({format:"dd-mm-yyyy"}).on('changeDate', function(ev){ $(this).datepicker('hide'); });
        });
    </script>
{% endblock %}
{% block atras %}/alu_medical{% endblock %}
{% block titulo %}{{ title }}{% endblock %}
{% block formaction %}/alu_medical{% endblock %}
{% block formdestination %}/alu_medical{% endblock %}
{% block formextra %}
    <input type='hidden' name='action' value='patologicop'/>
    <input type='hidden' name='id' value="{{ inscripcion.id }}"/>
{% endblock %}
{% block formback %}/alu_medical{% endblock %}
{% block buttonname %}Guardar{% endblock %}