{% load sga_extras %}
<div class="col-md-6">
    <div class="row">
        <div class="col-6">
            <div class="headtitle">
                <h3 class="texto-blue" style="margin-bottom: -3px">Hora Actual</h3>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">
            {% for aula in aulas|slice:':5' %}
                {% with dethorario=aula|args:dia|args:fecha|call:"reservacion_activa_actual" %}
                    {% if dethorario %}
                        <div class="card mb-3 h-100" style="{% if forloop.counter|divisibleby:2 %}background: #1C3247{% else %}background: #FE9900{% endif %};max-width: 500px; max-height: 100px; border-top-left-radius: 20px; border-bottom-left-radius: 20px; border-top-right-radius: 20px; border-bottom-right-radius: 20px;">
                            <div class="row g-0">
                                <div class="col-md-2" style="max-height: 100px;border-top-left-radius: 20px; border-bottom-left-radius: 20px;">
                                    <h3 style="color: white; text-align: center; margin-top: 30px;font-size: 12px!important;">{{ aula.nombre }}</h3>
                                </div>
                                <div class="col-md-2 d-flex" style="max-height: 100px;background: white;border-top-left-radius: 20px; border-bottom-left-radius: 20px; margin-top: -1px">
                                    <div class="card-body align-items-center my-5 ms-1" style="max-height: 100px;padding: 0px!important;">
                                        <h5 style="font-size: 12px!important">
                                            {{ dethorario.comienza|time:'H:i ' }} a {{ dethorario.termina|time:'H:i ' }}
                                        </h5>
                                    </div>
                                </div>
                                <div class="col-md-8" style="max-height: 100px;background: white; border-left: 1px solid rgba(175,175,175,0.45); line-height: 12px; margin-top: -1px; border-top-right-radius: 20px; border-bottom-right-radius: 20px">
                                    <div class="card-body" style="max-height: 100px;padding: 15px!important;">
                                        <p class="card-title" style="font-size:12px">
                                            <b>
                                                {% if dethorario.horario.materia %}
                                                    {{ dethorario.horario.materia.asignatura.nombre|lower|capfirst }} - {{ dethorario.horario.materia.paralelomateria }}
                                                {% else %}
                                                    {{ dethorario.horario.concepto|lower|capfirst }}
                                                {% endif %}
                                            </b>
                                        </p>
                                        <p class="card-text" style="margin-bottom: 4px;font-size:12px">  {{ dethorario.horario.persona.nombre_completo_inverso|title|capfirst }}</p>

                                    </div>
                                </div>
                            </div>
                        </div>
                    {% else %}
                        <div class="card mb-3 h-100" style="{% if forloop.counter|divisibleby:2 %}background: #1C3247{% else %}background: #FE9900{% endif %};max-width: 500px; max-height: 100px; border-top-left-radius: 20px; border-bottom-left-radius: 20px; border-top-right-radius: 20px; border-bottom-right-radius: 20px;">
                            <div class="row g-0">
                                <div class="col-md-2" style="border-top-left-radius: 20px; border-bottom-left-radius: 20px; margin-bottom: 17px">
                                    <h3 style="color: white; text-align: center; margin-top: 30px;font-size:12px">{{ aula.nombre }}</h3>
                                </div>
                                <div class="col-md-2 d-flex" style="max-height: 100px;background: white; border-top-left-radius: 20px; border-bottom-left-radius: 20px; margin-top: -1px">
                                    <div class="card-body my-5 ms-1" style="max-height: 100px;padding: 15px!important;margin-top: 7px!important;">
                                        <img src="/static/images/iconssga/calendario_icon.svg" class="img-fluid rounded-start h-100" alt="..." style="margin-top: 1px">
                                    </div>
                                </div>
                                <div class="col-md-8" style="max-height: 100px;background: white; border-left: 1px solid rgba(175,175,175,0.45); line-height: 8px; margin-top: -1px; border-top-right-radius: 20px; border-bottom-right-radius: 20px">
                                    <div class="card-body" style="max-height: 100px;padding: 15px!important;">
                                        <h2 class="card-title" style="color: #FE9900; margin-top: 5px;">Disponible</h2>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endif %}
                {% endwith %}
            {% endfor %}
        </div>
        <div class="col-md-6">
            {% for aula in aulas|slice:'5:10' %}
                {% with dethorario=aula|args:dia|args:fecha|call:"reservacion_activa_actual" %}
                    {% if dethorario %}
                        <div class="card mb-3 h-100" style="{% if forloop.counter|divisibleby:2 %}background: #1C3247{% else %}background: #FE9900{% endif %};max-width: 500px; max-height: 100px; border-top-left-radius: 20px; border-bottom-left-radius: 20px; border-top-right-radius: 20px; border-bottom-right-radius: 20px;">
                            <div class="row g-0">
                                <div class="col-md-2" style="max-height: 100px;border-top-left-radius: 20px; border-bottom-left-radius: 20px;">
                                    <h3 style="color: white; text-align: center; margin-top: 30px;font-size:12px">{{ aula.nombre }}</h3>
                                </div>
                                <div class="col-md-2 d-flex" style="max-height: 100px;background: white;border-top-left-radius: 20px; border-bottom-left-radius: 20px; margin-top: -1px">
                                    <div class="card-body align-items-center my-5 ms-1" style="max-height: 100px;padding: 0px!important;">
                                        <h5 style="font-size: 12px!important">
                                            {{ dethorario.comienza|time:'H:i ' }} a {{ dethorario.termina|time:'H:i ' }}
                                        </h5>
                                    </div>
                                </div>
                                <div class="col-md-8" style="max-height: 100px;background: white; border-left: 1px solid rgba(175,175,175,0.45); line-height: 12px; margin-top: -1px; border-top-right-radius: 20px; border-bottom-right-radius: 20px">
                                    <div class="card-body" style="max-height: 100px;padding: 15px!important;">
                                        <p class="card-title" style=";font-size:12px">
                                            <b>
                                                {% if dethorario.horario.materia %}
                                                    {{ dethorario.horario.materia.asignatura.nombre|lower|capfirst }} - {{ dethorario.horario.materia.paralelomateria }}
                                                {% else %}
                                                    {{ dethorario.horario.concepto|lower|capfirst }}
                                                {% endif %}
                                            </b>
                                        </p>
                                        <p class="card-text" style="margin-bottom: 4px;font-size:12px">  {{ dethorario.horario.persona.nombre_completo_inverso|title|capfirst }}</p>
                                        {#                                                    <p class="card-text"><h5 style="color: #FE9900;font-size: 12px!important"> De {{ dethorario.comienza|time:'h:i a' }} a {{ dethorario.termina|time:'h:i a' }}</h5></p>#}
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% else %}
                        <div class="card mb-3 h-100" style="{% if forloop.counter|divisibleby:2 %}background: #1C3247{% else %}background: #FE9900{% endif %};max-width: 500px; max-height: 100px; border-top-left-radius: 20px; border-bottom-left-radius: 20px; border-top-right-radius: 20px; border-bottom-right-radius: 20px;">
                            <div class="row g-0">
                                <div class="col-md-2" style="border-top-left-radius: 20px; border-bottom-left-radius: 20px; margin-bottom: 17px">
                                    <h3 style="color: white; text-align: center; margin-top: 30px;font-size:12px">{{ aula.nombre }}</h3>
                                </div>
                                <div class="col-md-2 d-flex" style="max-height: 100px;background: white; border-top-left-radius: 20px; border-bottom-left-radius: 20px; margin-top: -1px">
                                    <div class="card-body my-5 ms-1" style="max-height: 100px;padding: 15px!important;margin-top: 7px!important;">
                                        <img src="/static/images/iconssga/calendario_icon.svg" class="img-fluid rounded-start h-100" alt="..." style="margin-top: 1px">
                                    </div>
                                </div>
                                <div class="col-md-8 h-100" style="max-height: 100px;background: white; border-left: 1px solid rgba(175,175,175,0.45); line-height: 8px; margin-top: -1px; border-top-right-radius: 20px; border-bottom-right-radius: 20px">
                                    <div class="card-body h-100" style="padding: 15px!important;">
                                        <h2 class="card-title h-100" style="color: #FE9900; margin-top: 5px;">Disponible</h2>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endif %}
                {% endwith %}
            {% endfor %}
        </div>
    </div>
</div>
<div class="col-md-6">
    <div class="row">
        <div class="col-6">
            <div class="headtitle">
                <h3 class="texto-blue" style="margin-bottom: -3px">Siguiente Hora</h3>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">
            {% for aula in aulas|slice:':5' %}
                {% with dethorario=aula|args:dia|args:fecha|call:"siguiente_reservacion" %}
                    {% if dethorario %}
                        <div class="card mb-3 h-100" style="{% if forloop.counter|divisibleby:2 %}background: #1C3247{% else %}background: #FE9900{% endif %};max-width: 500px; max-height: 100px; border-top-left-radius: 20px; border-bottom-left-radius: 20px; border-top-right-radius: 20px; border-bottom-right-radius: 20px;">
                            <div class="row g-0">
                                <div class="col-md-2" style="border-top-left-radius: 20px; border-bottom-left-radius: 20px;">
                                    <h3 style="color: white; text-align: center; margin-top: 30px;font-size:12px">{{ aula.nombre }}</h3>
                                </div>
                                <div class="col-md-2 d-flex" style="max-height: 100px;background: white;border-top-left-radius: 20px; border-bottom-left-radius: 20px; margin-top: -1px">
                                    <div class="card-body align-items-center my-5 ms-1" style="max-height: 100px;padding: 0px!important;">
                                        <h5 style="font-size: 12px!important">{{ dethorario.comienza|time:'H:i' }} a {{ dethorario.termina|time:'H:i' }}</h5>
                                    </div>
                                </div>
                                <div class="col-md-8" style="background: white; border-left: 1px solid rgba(175,175,175,0.45); line-height: 12px; margin-top: -1px; border-top-right-radius: 20px; border-bottom-right-radius: 20px">
                                    <div class="card-body" style="padding: 15px!important;">
                                        <p class="card-title" style=";font-size:12px">
                                            <b>
                                                {% if dethorario.horario.materia %}
                                                    {{ dethorario.horario.materia.asignatura.nombre|lower|capfirst }} - {{ dethorario.horario.materia.paralelomateria }}
                                                {% else %}
                                                    {{ dethorario.horario.concepto|lower|capfirst }}
                                                {% endif %}
                                            </b>
                                        </p>
                                        <p class="card-text" style="margin-bottom: 4px;font-size:12px">  {{ dethorario.horario.persona.nombre_completo_inverso|title|capfirst }}</p>
                                        {#                                                    <p class="card-text"><h5 style="color: #FE9900;font-size: 12px!important"> De {{ dethorario.comienza|time:'h:i a' }} a {{ dethorario.termina|time:'h:i a' }}</h5></p>#}
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% else %}
                        <div class="card mb-3 h-100" style="{% if forloop.counter|divisibleby:2 %}background: #1C3247{% else %}background: #FE9900{% endif %};max-width: 500px; max-height: 100px; border-top-left-radius: 20px; border-bottom-left-radius: 20px; border-top-right-radius: 20px; border-bottom-right-radius: 20px;">
                            <div class="row g-0">
                                <div class="col-md-2" style="border-top-left-radius: 20px; border-bottom-left-radius: 20px; margin-bottom: 17px">
                                    <h3 style="color: white; text-align: center; margin-top: 30px;font-size: 12px">{{ aula.nombre }}</h3>
                                </div>
                                <div class="col-md-2 d-flex" style="max-height: 100px;background: white; border-top-left-radius: 20px; border-bottom-left-radius: 20px; margin-top: -1px">
                                    <div class="card-body my-5 ms-1" style="max-height: 100px;padding: 15px!important;margin-top: 7px!important;">
                                        <img src="/static/images/iconssga/calendario_icon.svg" class="img-fluid rounded-start h-100" alt="..." style="margin-top: 1px">
                                    </div>
                                </div>
                                <div class="col-md-8" style="background: white; border-left: 1px solid rgba(175,175,175,0.45); line-height: 8px; margin-top: -1px; border-top-right-radius: 20px; border-bottom-right-radius: 20px">
                                    <div class="card-body" style="padding: 15px!important;">
                                        <h2 class="card-title" style="color: #FE9900; margin-top: 5px;">Disponible</h2>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endif %}
                {% endwith %}
            {% endfor %}
        </div>
        <div class="col-md-6">
            {% for aula in aulas|slice:'5:10' %}
                {% with dethorario=aula|args:dia|args:fecha|call:"siguiente_reservacion" %}
                    {% if dethorario %}
                        <div class="card mb-3 h-100" style="{% if forloop.counter|divisibleby:2 %}background: #1C3247{% else %}background: #FE9900{% endif %};max-width: 500px; max-height: 100px; border-top-left-radius: 20px; border-bottom-left-radius: 20px; border-top-right-radius: 20px; border-bottom-right-radius: 20px;">
                        <div class="row g-0">
                            <div class="col-md-2" style="border-top-left-radius: 20px; border-bottom-left-radius: 20px;">
                                <h3 style="color: white; text-align: center; margin-top: 30px;font-size:12px">{{ aula.nombre }}</h3>
                            </div>
                                <div class="col-md-2 d-flex" style="max-height: 100px;background: white;border-top-left-radius: 20px; border-bottom-left-radius: 20px; margin-top: -1px">
                                    <div class="card-body align-items-center my-5 ms-1" style="max-height: 100px;padding: 0px!important;">
                                        <h5 style="font-size: 12px!important">{{ dethorario.comienza|time:'H:i' }} a {{ dethorario.termina|time:'H:i' }}</h5>
                                    </div>
                                </div>
                                <div class="col-md-8" style="background: white; border-left: 1px solid rgba(175,175,175,0.45); line-height: 12px; margin-top: -1px; border-top-right-radius: 20px; border-bottom-right-radius: 20px">
                                    <div class="card-body" style="padding: 15px!important;">
                                        <p class="card-title" style=";font-size:12px">
                                            <b>
                                                {% if dethorario.horario.materia %}
                                                    {{ dethorario.horario.materia.asignatura.nombre|lower|capfirst }} - {{ dethorario.horario.materia.paralelomateria }}
                                                {% else %}
                                                    {{ dethorario.horario.concepto|lower|capfirst }}
                                                {% endif %}
                                            </b>
                                        </p>
                                        <p class="card-text" style="margin-bottom: 4px;font-size:12px">  {{ dethorario.horario.persona.nombre_completo_inverso|title|capfirst }}</p>
{#                                        <p class="card-text"><h5 style="color: #FE9900;font-size: 12px!important"> De {{ dethorario.comienza|time:'h:i a' }} a {{ dethorario.termina|time:'h:i a' }}</h5></p>#}
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% else %}
                        <div class="card mb-3 h-100" style="{% if forloop.counter|divisibleby:2 %}background: #1C3247{% else %}background: #FE9900{% endif %};max-width: 500px; max-height: 100px; border-top-left-radius: 20px; border-bottom-left-radius: 20px; border-top-right-radius: 20px; border-bottom-right-radius: 20px;">
                            <div class="row g-0">
                                <div class="col-md-2" style="border-top-left-radius: 20px; border-bottom-left-radius: 20px; margin-bottom: 17px">
                                    <h3 style="color: white; text-align: center; margin-top: 30px;font-size: 12px">{{ aula.nombre }}</h3>
                                </div>
                                <div class="col-md-2 d-flex" style="max-height: 100px;background: white; border-top-left-radius: 20px; border-bottom-left-radius: 20px; margin-top: -1px">
                                    <div class="card-body my-5 ms-1" style="max-height: 100px;padding: 15px!important;margin-top: 7px!important;">
                                        <img src="/static/images/iconssga/calendario_icon.svg" class="img-fluid rounded-start h-100" alt="..." style="margin-top: 1px">
                                    </div>
                                </div>
                                <div class="col-md-8" style="background: white; border-left: 1px solid rgba(175,175,175,0.45); line-height: 8px; margin-top: -1px; border-top-right-radius: 20px; border-bottom-right-radius: 20px">
                                    <div class="card-body" style="padding: 15px!important;">
                                        <h2 class="card-title" style="color: #FE9900; margin-top: 5px;">Disponible</h2>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endif %}
                {% endwith %}
            {% endfor %}
            </div>
        </div>

    </div>
</div>