{% extends "basebs.html" %}
{% load sga_extras %}
{% block heading %}
    <script type="text/javascript">
        $(function() {

            var totaleshorasdoc=0
            var totaleshorasinv=0
            var totaleshorasgest=0
            var totalhorasgenerales=0

            {#$("#id_horasges").val()#}
            $(".totalhorasdoc").each(function(){
                idtotdoc = $(this).val()
                totaleshorasdoc=parseFloat(totaleshorasdoc) + parseFloat(idtotdoc);
            });
            $(".totalhorasinv").each(function(){
                idtotinv = $(this).val()
                totaleshorasinv=parseFloat(totaleshorasinv) + parseFloat(idtotinv);
            });
            $(".totalhorasges").each(function(){
                idtotges = $(this).val()
                totaleshorasgest=parseFloat(totaleshorasgest) + parseFloat(idtotges);
            });
            totalhorasgenerales = totaleshorasdoc + totaleshorasinv + totaleshorasgest
            $("#id_totalgeneralhoras").html(totalhorasgenerales)

            $(".addcriteriodocente").click(function () {
                var ancho = $(window).width()-300;
                var alto = $(window).height()-200;
                bloqueointerface();
                $.ajax({
                    type: "POST",
                    url: "/pro_laboratoriocronograma",
                    data: {"action": "preferenciacriteriosdocentes"},
                    success: function(data) {
                        $.unblockUI();
                        if (data.result=='ok'){
                            $("#criteriosdocentesbody").html(data.data);
                            $("#criteriosdocentes").modal({backdrop:'static', width: ancho, height: alto}).modal('show');
                        } else {
                            $("#criteriosdocentes").modal("hide");
                        }
                    },
                    error: function() {
                        $.unblockUI();
                        smoke.alert("Error de conexiÃ³n.");
                        $("#criteriosdocentes").hide();
                    },
                    dataType: "json"
                });
            });
            $("#criteriosdocentes_save").click(function () {
                var opcion = '1';
                var lista = '';
                var valida = 0;
                $( ".selecciondoc" ).each(function( index ) {
                    if ($(this).is(':checked')){
                        var codigo = $(this).attr('cod');
                        var horas = $("#id_numhorasdoc"+codigo).val();
                        if (horas==0){
                            valida = 1
                        }
                        lista += codigo + '_' + horas + ',';
                    }
                });
                if (valida==1){
                    smoke.alert('Seleccione horas');
                    return false;
                }
                if (lista.length > 0){
                    lista = lista.substring(0, lista.length-1);
                    bloqueointerface();
                    $.ajax({
                        type:"POST",
                        url:"/pro_laboratoriocronograma",
                        data:{'action':'addactividadpreferencia', 'lista': lista, 'opcion': opcion },
                        error:function(){
                            smoke.alert("Error.");
                            $.unblockUI();
                        },
                        success:function(data){
                            if (data.result=="ok") {
                                $("#criteriosdocentes").modal("hide");
                                $.unblockUI();
                                location.href = "/pro_laboratoriocronograma?action=preferenciaactividad&t=1";
                            } else {
                                smoke.alert(data.mensaje);
                            }
                        }
                    });
                }
            });
            $("#criteriosinvestigacion_save").click(function () {
                var opcion = '2';
                var lista = '';
                var valida = 0;
                $( ".seleccioninv" ).each(function( index ) {
                    if ($(this).is(':checked')){
                        var codigo = $(this).attr('cod');
                        var horas = $("#id_numhorasinv"+codigo).val();
                        if (horas==0){
                            valida = 1
                        }
                        lista += codigo + '_' + horas + ',';
                    }
                });
                if (valida==1){
                    smoke.alert('Seleccione horas');
                    return false;
                }
                if (lista.length > 0){
                    lista = lista.substring(0, lista.length-1);
                    bloqueointerface();
                    $.ajax({
                        type:"POST",
                        url:"/pro_laboratoriocronograma",
                        data:{'action':'addactividadpreferencia', 'lista': lista, 'opcion': opcion },
                        error:function(){
                            smoke.alert("Error.");
                            $.unblockUI();
                        },
                        success:function(data){
                            if (data.result=="ok") {
                                $("#criteriosinvestigacion").modal("hide");
                                $.unblockUI();
                                location.href = "/pro_laboratoriocronograma?action=preferenciaactividad&t=2";
                            } else {
                                smoke.alert(data.mensaje);
                            }
                        }
                    });
                }
            });
            $("#criteriosgestion_save").click(function () {
                var opcion = '3';
                var lista = '';
                var valida = 0;
                $( ".seleccionges" ).each(function( index ) {
                    if ($(this).is(':checked')){
                        var codigo = $(this).attr('cod');
                        var horas = $("#id_numhorasges"+codigo).val();
                        if (horas==0){
                            valida = 1
                        }
                        lista += codigo + '_' + horas + ',';
                    }
                });
                if (valida==1){
                    smoke.alert('Seleccione horas');
                    return false;
                }
                if (lista.length > 0){
                    lista = lista.substring(0, lista.length-1);
                    bloqueointerface();
                    $.ajax({
                        type:"POST",
                        url:"/pro_laboratoriocronograma",
                        data:{'action':'addactividadpreferencia', 'lista': lista, 'opcion': opcion },
                        error:function(){
                            smoke.alert("Error.");
                            $.unblockUI();
                        },
                        success:function(data){
                            if (data.result=="ok") {
                                $("#criteriosgestion").modal("hide");
                                $.unblockUI();
                                location.href = "/pro_laboratoriocronograma?action=preferenciaactividad&t=3";
                            } else {
                                smoke.alert(data.mensaje);
                            }
                        }
                    });
                }
            });
            $("#criteriosdocentes_cerrar").click(function () {
                $("#criteriosdocentes").modal("hide");
                location.href = "/pro_laboratoriocronograma?action=preferenciaactividad&t=1";
                {#return false;#}
            });
            $("#criteriosinvestigacion_cerrar").click(function () {
                $("#criteriosinvestigacion").modal("hide");
                location.href = "/pro_laboratoriocronograma?action=preferenciaactividad&t=2";
                {#location.reload();#}
                {#return false;#}
            });
            $("#criteriosgestion_cerrar").click(function () {
                $("#criteriosgestion").modal("hide");
                location.href = "/pro_laboratoriocronograma?action=preferenciaactividad&t=3";
                {#return false;#}
            });
            $(".deleteactividad").click(function(){
                var iditem = $(this).attr('ida');
                bloqueointerface();
                $.ajax({
                    type: "POST",
                    url: "/pro_laboratoriocronograma",
                    data: {'action': 'conactividaddocente', 'id': iditem },
                    error: function () {
                        $.unblockUI();
                        smoke.alert("Error al obtener los datos.");
                    },
                    success: function (data) {
                        $.unblockUI();
                        if (data.result == "ok") {
                            $('#delleyenda').html(data.actividad)
                            $('#idmatpreferencia').val(data.idactividad)
                            $('#delmodelpreferencia').modal({'width': 800}).modal('show');
                        } else {
                            smoke.alert(data.mensaje);
                        }
                    }
                });
            });
            $(".deleteactividadinv").click(function(){
                var iditem = $(this).attr('idainv');
                bloqueointerface();
                $.ajax({
                    type: "POST",
                    url: "/pro_laboratoriocronograma",
                    data: {'action': 'conactividadinvestigacion', 'id': iditem },
                    error: function () {
                        $.unblockUI();
                        smoke.alert("Error al obtener los datos.");
                    },
                    success: function (data) {
                        $.unblockUI();
                        if (data.result == "ok") {
                            $('#delleyendainv').html(data.actividad)
                            $('#idmatpreferenciainv').val(data.idactividad)
                            $('#delmodelpreferenciainv').modal({'width': 800}).modal('show');
                        } else {
                            smoke.alert(data.mensaje);
                        }
                    }
                });
            });
            $(".deleteactividadges").click(function(){
                var iditem = $(this).attr('idages');
                bloqueointerface();
                $.ajax({
                    type: "POST",
                    url: "/pro_laboratoriocronograma",
                    data: {'action': 'conactividadgestion', 'id': iditem },
                    error: function () {
                        $.unblockUI();
                        smoke.alert("Error al obtener los datos.");
                    },
                    success: function (data) {
                        $.unblockUI();
                        if (data.result == "ok") {
                            $('#delleyendages').html(data.actividad)
                            $('#idmatpreferenciages').val(data.idactividad)
                            $('#delmodelpreferenciages').modal({'width': 800}).modal('show');
                        } else {
                            smoke.alert(data.mensaje);
                        }
                    }
                });
            });
            $("#delpreferenciainv_cancel").click(function(){
                $('#delmodelpreferenciainv').modal('hide');
            });
            $("#delpreferenciages_cancel").click(function(){
                $('#delmodelpreferenciages').modal('hide');
            });
            $("#delpreferencia_formbutton").click(function(){
                $('#delmodelpreferencia').modal('hide');
                var idactividad = $("#idmatpreferencia").val()
                $.ajax({
                    type: "POST",
                    url: "/pro_laboratoriocronograma",
                    data: {'action': 'delactividadpreferencia', 'idactividad': idactividad},
                    error: function () {
                        $.unblockUI();
                        smoke.alert("Error al obtener los datos.");
                    },
                    success: function (data) {
                        if (data.result == "ok") {
                            $.unblockUI();
                            location.href = "/pro_laboratoriocronograma?action=preferenciaactividad&t=1";
                        } else {
                            smoke.alert(data.mensaje);
                        }
                    }
                });
            });
            $("#delpreferenciainv_formbutton").click(function(){
                $('#delmodelpreferenciainv').modal('hide');
                var idactividad = $("#idmatpreferenciainv").val()
                $.ajax({
                    type: "POST",
                    url: "/pro_laboratoriocronograma",
                    data: {'action': 'delactividadpreferencia', 'idactividad': idactividad},
                    error: function () {
                        $.unblockUI();
                        smoke.alert("Error al obtener los datos.");
                    },
                    success: function (data) {
                        if (data.result == "ok") {
                            $.unblockUI();
                            location.href = "/pro_laboratoriocronograma?action=preferenciaactividad&t=2";
                        } else {
                            smoke.alert(data.mensaje);
                        }
                    }
                });
            });
            $("#delpreferenciages_formbutton").click(function(){
                $('#delmodelpreferenciages').modal('hide');
                var idactividad = $("#idmatpreferenciages").val()
                $.ajax({
                    type: "POST",
                    url: "/pro_laboratoriocronograma",
                    data: {'action': 'delactividadpreferencia', 'idactividad': idactividad},
                    error: function () {
                        $.unblockUI();
                        smoke.alert("Error al obtener los datos.");
                    },
                    success: function (data) {
                        if (data.result == "ok") {
                            $.unblockUI();
                            location.href = "/pro_laboratoriocronograma?action=preferenciaactividad&t=3";
                        } else {
                            smoke.alert(data.mensaje);
                        }
                    }
                });
            });
            $("#delpreferencia_cancel").click(function(){
                $('#delmodelpreferencia').modal('hide');
            });

            $(".addcriterioinvestigacion").click(function () {
                var ancho = $(window).width()-300;
                var alto = $(window).height()-200;
                bloqueointerface();
                $.ajax({
                    type: "POST",
                    url: "/pro_laboratoriocronograma",
                    data: {"action": "preferenciacriteriosinvestigacion"},
                    success: function(data) {
                        $.unblockUI();
                        if (data.result=='ok'){
                            $("#criteriosinvestigacionbody").html(data.data);
                            $("#criteriosinvestigacion").modal({backdrop:'static', width: ancho, height: alto}).modal('show');
                        } else {
                            $("#criteriosinvestigacion").modal("hide");
                        }
                    },
                    error: function() {
                        $.unblockUI();
                        smoke.alert("Error de conexiÃ³n.");
                        $("#criteriosinvestigacion").hide();
                    },
                    dataType: "json"
                });
            });
            $(".addcriteriogestion").click(function () {
                var ancho = $(window).width()-300;
                var alto = $(window).height()-200;
                bloqueointerface();
                $.ajax({
                    type: "POST",
                    url: "/pro_laboratoriocronograma",
                    data: {"action": "preferenciacriteriosgestion"},
                    success: function(data) {
                        $.unblockUI();
                        if (data.result=='ok'){
                            $("#criteriosgestionbody").html(data.data);
                            $("#criteriosgestion").modal({backdrop:'static', width: ancho, height: alto}).modal('show');
                        } else {
                            $("#criteriosgestion").modal("hide");
                        }
                    },
                    error: function() {
                        $.unblockUI();
                        smoke.alert("Error de conexiÃ³n.");
                        $("#criteriosgestion").hide();
                    },
                    dataType: "json"
                });
            });

        });
        $(document).ready(function() {
            var table = $('#exampledoc').DataTable({
                "sPaginationType": "full_numbers",
                "sDom": 'T<"clear">lfrtip',
                "ordering": false,
                {#"searching": false,#}
                "paging":   false,
                "info":     false,
                "order": [[ 2, 'asc' ]],
                "columnDefs": [{ "visible": false,"targets": 0 }],
                "drawCallback": function ( settings ) {
                    var api = this.api();
                    var rows = api.rows( {page:'current'} ).nodes();
                    var last=null;
                    api.column(0, {page:'current'} ).data().each( function ( group, i ) {
                        if ( last !== group ) {
                            $(rows).eq( i ).before(
                                '<tr class="group"><td colspan="5" height="30" bgcolor= "#f1f1f1" style="text-align: justify;font-size: 8px"><strong><i class="fa fa-asterisk"><div></div></i> '+group+'</strong></td></tr>'
                            );
                            last = group
                        }
                    });
                    $('[data-toggle="tooltip"]').tooltip();
                }

            });
        } );
        $(document).ready(function() {
            var table = $('#exampleinv').DataTable({
                "sPaginationType": "full_numbers",
                "sDom": 'T<"clear">lfrtip',
                "ordering": false,
                {#"searching": false,#}
                "paging":   false,
                "info":     false,
                "order": [[ 2, 'asc' ]],
                "columnDefs": [{ "visible": false,"targets": 0 }],
                "drawCallback": function ( settings ) {
                    var api = this.api();
                    var rows = api.rows( {page:'current'} ).nodes();
                    var last=null;
                    api.column(0, {page:'current'} ).data().each( function ( group, i ) {
                        if ( last !== group ) {
                            $(rows).eq( i ).before(
                                '<tr class="group"><td colspan="5" height="30" bgcolor= "#f1f1f1" style="text-align: justify;font-size: 8px"><strong><i class="fa fa-asterisk"><div></div></i> '+group+'</strong></td></tr>'
                            );
                            last = group
                        }
                    });
                    $('[data-toggle="tooltip"]').tooltip();
                }

            });
        } );
        $(document).ready(function() {
            var table = $('#exampleges').DataTable({
                "sPaginationType": "full_numbers",
                "sDom": 'T<"clear">lfrtip',
                "ordering": false,
                {#"searching": false,#}
                "paging":   false,
                "info":     false,
                "order": [[ 2, 'asc' ]],
                "columnDefs": [{ "visible": false,"targets": 0 }],
                "drawCallback": function ( settings ) {
                    var api = this.api();
                    var rows = api.rows( {page:'current'} ).nodes();
                    var last=null;
                    api.column(0, {page:'current'} ).data().each( function ( group, i ) {
                        if ( last !== group ) {
                            $(rows).eq( i ).before(
                                '<tr class="group"><td colspan="5" height="30" bgcolor= "#f1f1f1" style="text-align: justify;font-size: 8px"><strong><i class="fa fa-asterisk"><div></div></i> '+group+'</strong></td></tr>'
                            );
                            last = group
                        }
                    });
                    $('[data-toggle="tooltip"]').tooltip();
                }

            });
            $(".grupoinvestigacion").click(function(){
                var id = $(this).attr("idp");
                var ancho = $(window).width()-500;
                var alto = $(window).height()-200;
                bloqueointerface();
                $.ajax({
                    type: "POST",
                    url: "/pro_laboratoriocronograma",
                    data: {"action": "grupoinvestigacion", "idp": id},
                    success: function(data) {
                        $.unblockUI();
                        if (data.result=='ok'){
                            $("#grupoinvestigacionbody").html(data.data);
                            $("#grupoinvestigacion").modal({backdrop:'static', width: ancho, height: alto}).modal('show');
                        } else {
                            $("#grupoinvestigacion").modal("hide");
                        }
                    },
                    error: function() {
                        $.unblockUI();
                        smoke.alert("Error de conexiÃ³n.");
                        $("#grupoinvestigacion").hide();
                    },
                    dataType: "json"
                });
            });
            $("#grupoinvestigacion_save").click(function () {
                var lista = '';
                var id_codigopreferencia = $("#id_codigopreferencia").val()
                $( ".selecgrupo" ).each(function( index ) {
                    if ($(this).is(':checked')){
                        var codigo = $(this).attr('codgrupo');
                        lista += codigo + ',';
                    }
                });

                if (lista.length > 0){
                    lista = lista.substring(0, lista.length-1);
                    bloqueointerface();
                    $.ajax({
                        type:"POST",
                        url:"/pro_laboratoriocronograma",
                        data:{'action':'addgrupoinvestigacion', 'lista': lista, 'id_codigopreferencia': id_codigopreferencia },
                        error:function(){
                            smoke.alert("Error.");
                            $.unblockUI();
                        },
                        success:function(data){
                            if (data.result=="ok") {
                                $("#grupoinvestigacion").modal("hide");
                                $.unblockUI();
                                location.href = "/pro_laboratoriocronograma?action=preferenciaactividad&t=2";
                            } else {
                                smoke.alert(data.mensaje);
                            }
                        }
                    });
                 }
            });
            $("#grupoinvestigacion_cerrar").click(function () {
                $("#grupoinvestigacion").modal("hide");
                return false;
            });
        } );
    </script>
{% endblock %}
{% block atras %}/pro_laboratoriocronograma{% endblock %}
{% block canvas %}
    <div class='row-fluid'>
        <div class='span12'>
            <h4>{{ title }}</h4>
            <a href="/pro_laboratoriocronograma?action=preferencia" class='btn btn-default btn-mini bloqueo_pantalla'>
                <i class="fa fa-list"></i> PREFERENCIA ASIGNATURAS
            </a>
            <a href="javascript:;" class='btn btn-success btn-mini'>
                <i class="fa fa-list"></i> PREFERENCIA CRITERIOS Y ACTIVIDADES
            </a>
            <a href="/pro_laboratoriocronograma?action=planificarhorario" class='btn btn-default btn-mini bloqueo_pantalla'>
                <i class="fa fa-list"></i> PREFERENCIA HORARIOS
            </a>
            <a href="/pro_laboratoriocronograma?action=preferenciaposgrado" class='btn btn-default btn-mini bloqueo_pantalla'>
                <i class="fa fa-list"></i> PREFERENCIA ASIGNATURAS POSGRADO
            </a>
            <h5>Horas totales: <span class="badge badge-info" id="id_totalgeneralhoras">0</span></h5>
        </div>
    </div>
{#    <div class='row-fluid'>#}
{#        <div class='span12' >#}
{#            <a class="confirmacionmodal btn btn-large btn-info" href="javascript:;" nhref="/pro_laboratoriocronograma?action=aceptapreferenciacriterio"><span class="fa fa-close"></span> No deseo aplicar preferencia asignatura de posgrado</a>#}
{#        </div>#}
{#    </div>#}
    <div class='row-fluid'>
        <div class='span12'>
            <div class="tabbable">
                <ul class="nav nav-tabs">
                    <li class="{% if t == 1 or not t %}active{% endif %}"><a href="#1" data-toggle="tab">DOCENCIA <span class="badge badge-info">{{ criteriodocencia|length }}</span></a></li>
                    <li class="{% if t == 2 %}active{% endif %}"><a href="#2" data-toggle="tab">INVESTIGACION <span class="badge badge-info">{{ criterioinvestigacion|length }}</span></a></li>
                    <li class="{% if t == 3 %}active{% endif %}"><a href="#3" data-toggle="tab">GESTION <span class="badge badge-info">{{ criteriogestion|length }}</span></a></li>
                </ul>
                <div class="tab-content">
                    <div class="tab-pane {% if t == 1 or not t %}active{% endif %}" id="1">
                        {% if accesopreferenciaactividad %}
                            <a href="javascript:;" class='btn btn-success btn-mini addcriteriodocente'><i class="fa fa-plus"> Adicionar</i></a>
                        {% endif %}
                        <table class='table table-bordered table-striped' id="exampledoc">
                            <thead>
                            <tr>
                                <th>CRITERIO</th>
                                <th style="text-align: justify;">ACTIVIDAD</th>
                                <th style="text-align: center; width: 30px;">MINIMO</th>
                                <th style="text-align: center; width: 30px;">MAXIMO</th>
                                <th style="text-align: center; width: 30px;">HORAS</th>
                                <th style="width: 50px;text-align: center;">ACCIONES</th>
                            </tr>
                            </thead>
                            <tbody>
                            {% if criteriodocencia %}
                                {% for docencia in criteriodocencia %}
                                    <tr>
                                        <td style="text-align: justify">
                                            {{ docencia.criteriodocenciaperiodo.actividad }}
                                        </td>
                                        <td style="text-align: justify;font-size: 8px;">
                                            <ul>
                                                <a class="fa fa-angle-double-right"></a> {{ docencia.criteriodocenciaperiodo.criterio }}
                                            </ul>
                                        </td>
                                        <td style="text-align: center;">{{ docencia.criteriodocenciaperiodo.minimo|floatformat:"0" }}</td>
                                        <td style="text-align: center;">{{ docencia.criteriodocenciaperiodo.maximo|floatformat:"0" }}</td>
                                        <td style="text-align: center;"><input class="totalhorasdoc" type="hidden" id="id_horasdoc" name="id_horasdoc" value="{{ docencia.horas|floatformat:"0" }}">{{ docencia.horas|floatformat:"0" }}</td>
                                        <td style="text-align: center;">
                                            {% if accesopreferenciaactividad %}
                                                <a class="btn btn-mini btn-danger tu deleteactividad" ida="{{ docencia.id }}" title="Eliminar" > Eliminar<span></span></a>
                                            {% endif %}
                                        </td>
                                    </tr>
                                {% endfor %}
                            {% else %}
                                <tr>
                                    <td colspan="15">NO TIENE ACTIVIDADES ASIGNADAS</td>
                                </tr>
                            {% endif %}
                            </tbody>
                        </table>
                    </div>
                    <div class="tab-pane {% if t == 2 %}active{% endif %}" id="2">
                        {% if accesopreferenciaactividad %}
                            <a href="javascript:;" class='btn btn-success btn-mini addcriterioinvestigacion'><i class="fa fa-plus"> Adicionar</i></a>
                        {% endif %}
                        <table class='table table-bordered table-striped' id="exampleinv">
                            <thead>
                            <tr>
                                <th>CRITERIO</th>
                                <th style="text-align: justify;">ACTIVIDAD</th>
                                <th style="text-align: center; width: 70px;">MINIMO</th>
                                <th style="text-align: center; width: 70px;">MAXIMO</th>
                                <th style="text-align: center; width: 70px;">Horas</th>
                                <th style="width: 120px;text-align: center;">Acciones</th>
                            </tr>
                            </thead>
                            <tbody>
                            {% if criterioinvestigacion %}
                                {% for docencia in criterioinvestigacion %}
                                    <tr>
                                        <td style="text-align: justify">
                                            {{ docencia.criterioinvestigacionperiodo.actividad }}
                                        </td>
                                        <td style="text-align: justify;font-size: 8px;">
                                            <ul>
                                                <a class="fa fa-angle-double-right"></a> {{ docencia.criterioinvestigacionperiodo.criterio }}
                                                {% if docencia.criterioinvestigacionperiodo.criterio.id == 33 %}
                                                    <a href="javascript:;" idp="{{ docencia.id }}" class="btn btn-info btn-mini grupoinvestigacion tu" data-original-title="Grupos de investigaciÃ³n">
                                                         <i class="fa fa-group"></i>
                                                    </a>
                                                {% endif %}
                                            </ul>
                                        </td>
                                        <td style="text-align: center;">{{ docencia.criterioinvestigacionperiodo.minimo|floatformat:"0" }}</td>
                                        <td style="text-align: center;">{{ docencia.criterioinvestigacionperiodo.maximo|floatformat:"0" }}</td>
                                        <td style="text-align: center;"><input type="hidden" class="totalhorasinv" id="id_horasinv" name="id_horasinv" value="{{ docencia.horas|floatformat:"0" }}">{{ docencia.horas|floatformat:"0" }}</td>
                                        <td style="text-align: center;">
                                            {% if accesopreferenciaactividad %}
                                                <a class="btn btn-mini btn-danger tu deleteactividadinv" idainv="{{ docencia.id }}" title="Eliminar" > Eliminar<span></span></a>
                                            {% endif %}
                                        </td>
                                    </tr>
                                {% endfor %}
                            {% else %}
                                <tr>
                                    <td colspan="15">NO TIENE ACTIVIDADES ASIGNADAS</td>
                                </tr>
                            {% endif %}
                            </tbody>
                        </table>
                    </div>
                    <div class="tab-pane {% if t == 3 %}active{% endif %}" id="3">
                        {% if accesopreferenciaactividad %}
                            <a href="javascript:;" class='btn btn-success btn-mini addcriteriogestion'><i class="fa fa-plus"> Adicionar</i></a>
                        {% endif %}
                        <table class='table table-bordered table-striped' id="exampleges">
                            <thead>
                            <tr>
                                <th>CRITERIO</th>
                                <th style="text-align: justify;">ACTIVIDAD</th>
                                <th style="text-align: center; width: 70px;">MINIMO</th>
                                <th style="text-align: center; width: 70px;">MAXIMO</th>
                                <th style="text-align: center; width: 70px;">Horas</th>
                                <th style="width: 120px;text-align: center;">Acciones</th>
                            </tr>
                            </thead>
                            <tbody>
                            {% if criteriogestion %}
                                {% for docencia in criteriogestion %}
                                    <tr>
                                        <td style="text-align: justify">
                                            {{ docencia.criteriogestionperiodo.actividad }}
                                        </td>
                                        <td style="text-align: justify;font-size: 8px;">
                                            <ul>
                                                <a class="fa fa-angle-double-right"></a> {{ docencia.criteriogestionperiodo.criterio }}
                                            </ul>
                                        </td>
                                        <td style="text-align: center;">{{ docencia.criteriogestionperiodo.minimo|floatformat:"0" }}</td>
                                        <td style="text-align: center;">{{ docencia.criteriogestionperiodo.maximo|floatformat:"0" }}</td>
                                        <td style="text-align: center;"><input type="hidden" class="totalhorasges" id="id_horasges" name="id_horasges" value="{{ docencia.horas|floatformat:"0" }}">{{ docencia.horas|floatformat:"0" }}</td>
                                        <td style="text-align: center;">
                                            {% if accesopreferenciaactividad %}
                                                <a class="btn btn-mini btn-danger tu deleteactividadges" idages="{{ docencia.id }}" title="Eliminar" > Eliminar<span></span></a>
                                            {% endif %}
                                        </td>
                                    </tr>
                                {% endfor %}
                            {% else %}
                                <tr>
                                    <td colspan="15">NO TIENE ACTIVIDADES ASIGNADAS</td>
                                </tr>
                            {% endif %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal static" id="criteriosdocentes" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Actividades docentes</h3>
        </div>
        <div class="modal-body" id="criteriosdocentesbody">
        </div>
        <div class="modal-footer">
            <a href="javascript:;" class="btn btn-success" id="criteriosdocentes_save"> Guardar</a>
            <a href="javascript:;" class="btn btn-default" id="criteriosdocentes_cerrar"> Cerrar</a>
        </div>
    </div>
    <div class="modal static" id="criteriosinvestigacion" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Actividades investigaciÃ³n</h3>
        </div>
        <div class="modal-body" id="criteriosinvestigacionbody">
        </div>
        <div class="modal-footer">
            <a href="javascript:;" class="btn btn-success" id="criteriosinvestigacion_save"> Guardar</a>
            <a href="javascript:;" class="btn btn-default" id="criteriosinvestigacion_cerrar"> Cerrar</a>
        </div>
    </div>
    <div class="modal static" id="criteriosgestion" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Actividades gestiÃ³n</h3>
        </div>
        <div class="modal-body" id="criteriosgestionbody">
        </div>
        <div class="modal-footer">
            <a href="javascript:;" class="btn btn-success" id="criteriosgestion_save"> Guardar</a>
            <a href="javascript:;" class="btn btn-default" id="criteriosgestion_cerrar"> Cerrar</a>
        </div>
    </div>
    <div class="modal fade static" id="delmodelpreferencia" style="min-height: 60px">
        <div class="modal-header">
            <h4 id="paneltitle">Eliminar Actividad Preferencia</h4>
        </div>
        <div class="modal-body" id="delmodelpreferenciapar-body">
            <input type='hidden' id="idmatpreferencia" name="idmatpreferencia" value=""/>
            <p style="margin-top: 10px;">Esta seguro(a) que desea eliminar materia de preferencia: <b id="delleyenda" style="text-align: justify"></b></p>
        </div>
        <div class="modal-footer">
            <p style="text-align: right; margin-bottom: 0">
                <a href="javascript:;" id="delpreferencia_formbutton" class='btn btn-danger btn-form'> Eliminar</a>
                <a href="javascript:;" id="delpreferencia_cancel" class="btn btn-info"> Cerrar</a>
            </p>
        </div>
    </div>
    <div class="modal fade static" id="delmodelpreferenciainv" style="min-height: 60px">
        <div class="modal-header">
            <h4 id="paneltitle">Eliminar Actividad Preferencia</h4>
        </div>
        <div class="modal-body" id="delmodelpreferenciainvpar-body">
            <input type='hidden' id="idmatpreferenciainv" name="idmatpreferenciainv" value=""/>
            <p style="margin-top: 10px;">Esta seguro(a) que desea eliminar materia de preferencia: <b id="delleyendainv" style="text-align: justify"></b></p>
        </div>
        <div class="modal-footer">
            <p style="text-align: right; margin-bottom: 0">
                <a href="javascript:;" id="delpreferenciainv_formbutton" class='btn btn-danger btn-form'> Eliminar</a>
                <a href="javascript:;" id="delpreferenciainv_cancel" class="btn btn-info"> Cerrar</a>
            </p>
        </div>
    </div>
    <div class="modal fade static" id="delmodelpreferenciages" style="min-height: 60px">
        <div class="modal-header">
            <h4 id="paneltitle">Eliminar Actividad Preferencia</h4>
        </div>
        <div class="modal-body" id="delmodelpreferenciagespar-body">
            <input type='hidden' id="idmatpreferenciages" name="idmatpreferenciages" value=""/>
            <p style="margin-top: 10px;">Esta seguro(a) que desea eliminar materia de preferencia: <b id="delleyendages" style="text-align: justify"></b></p>
        </div>
        <div class="modal-footer">
            <p style="text-align: right; margin-bottom: 0">
                <a href="javascript:;" id="delpreferenciages_formbutton" class='btn btn-danger btn-form'> Eliminar</a>
                <a href="javascript:;" id="delpreferenciages_cancel" class="btn btn-info"> Cerrar</a>
            </p>
        </div>
    </div>
    <div class="modal static" id="grupoinvestigacion" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Grupos de investigaciÃ³n</h3>
        </div>
        <div class="modal-body" id="grupoinvestigacionbody">
        </div>
        <div class="modal-footer">
            <a href="javascript:;" class="btn btn-success" id="grupoinvestigacion_save"> Guardar</a>
            <a href="javascript:;" class="btn btn-default" id="grupoinvestigacion_cerrar"> Cerrar</a>
        </div>
    </div>
{% endblock %}