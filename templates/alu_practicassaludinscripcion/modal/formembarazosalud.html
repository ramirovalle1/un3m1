{% extends 'alu_practicassaludinscripcion/modal/ajaxformmodal.html' %}
{% block extra_js %}
    <script src="/static/validaciones/funciones.js?v=2.0"></script>
    <script type="text/javascript">

        $(function () {

            let gestacion = document.querySelector('#id_gestacion')
            var archivo = document.getElementById("id_archivo");
            estagestacion = function () {
                if ($("#id_gestacion").is(":checked")) {
                    $("#id_fechaparto").attr({'disabled': 'disabled'});
                    $("#fieldset_fechaparto").hide();
                    {% if banderaarchivo %}
                        archivo.removeAttribute("required");
                    {% else %}
                        archivo.setAttribute("required", "true");
                    {% endif %}
                } else {
                     $("#fieldset_fechaparto").show();
                    $("#id_fechaparto").removeAttr('disabled');
                    archivo.removeAttribute("required");

                }
            };
            estagestacion();
            gestacion.onchange = function () {
                if ($(this).is(":checked")) {
                    $("#fieldset_fechaparto").hide();
                    {% if banderaarchivo %}
                        archivo.removeAttribute("required");
                    {% else %}
                        archivo.setAttribute("required", "true");
                    {% endif %}
                } else {
                    $("#fieldset_fechaparto").show();
                    archivo.removeAttribute("required");
                }
            };

        });
    </script>
{% endblock %}