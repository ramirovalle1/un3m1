{% extends "ajaxformbs.html" %}
{% load sga_extras %}
{% block heading %}
    <script type="text/javascript">
        $(function() {

            deleteactividad = function(codigoact) {
                bloqueointerface();
                $.ajax({
                    type: "POST",
                    url: "/pro_horarios_actividades",
                    data: {'action': 'delactividad', 'id': codigoact },
                    error: function () {
                        $.unblockUI();
                        {#smoke.alert("Error al obtener los datos.");#}
                        NotificationJG.error("Error al obtener los datos.");
                    },
                    success: function (data) {
                        $.unblockUI();
                        if (data.result == "ok") {
                            $('#leyenda').html(data.des)
                            $('#codigoturno').val(data.turno)
                            $('#codigodia').val(data.dia)
                            $('#leyenda').html(data.des)
                            $('#codigoactividad').val(data.idactividad)
                            $('#selectdelete').modal({'width': 800}).modal('show');
                        } else {
                            {#smoke.alert(data.mensaje);#}
                            NotificationJG.error(data.mensaje);
                        }
                    }
                });
            }
            addactividad = function(codigoturno,codigodia) {
                $("#codturno").val('');
                $("#coddia").val('');
                $("#codturno").val(codigoturno);
                $("#coddia").val(codigodia);
                $.ajax({
                    type: "GET",
                    url: "/pro_horarios_actividades",
                    data: {'action': 'listactividades'},
                    success: function (data) {
                        $("#idactividad").html(data).trigger('change');
                        if(($('#idactividad option').length)==1){
                            $("#alertaingresotemas").show();
                        }else{
                            $("#alertaingresotemas").hide();
                        }
                        $.unblockUI();
                    },
                    dataType: "html"
                });
                $("#alertaingrestemas").hide();
                $("#itemspaneltemas .incompletotemas").hide();
                $("#itemspaneltemas .incompletovalorestemas").hide();
                $("#adicionarycerrartemas").show();
                $("#guardar").hide();
                $("#itemspaneltemas").modal({backdrop:'static', width: '600px'}).modal('show');
                return false;
            }
            $("#adicionarycerraractividad").click(function() {
                var idactividades = $("#idactividad").val();
                var idactividad = idactividades.split("_");
                var idturno = $("#codturno").val()
                var iddia = $("#coddia").val()
                var virtual = 1
                if($("#actividadvirtual").is(':checked'))
                    virtual = 2
                if (idactividad[0] == 0 || idactividad[1] == 0){$("#itemspaneltemas .incompletotemas").show();return false;}
                $("#itemspaneltemas").modal("hide");
                bloqueointerface();
                $.ajax({
                    type: "POST",
                    url: "/pro_horarios_actividades",
                    data: {'action': 'addactividad', 'idactividad': idactividad[0], 'idturno': idturno, 'iddia': iddia, 'tipoactividad': idactividad[1], 'virtual': virtual},
                    error: function () {
                        $.unblockUI();
                        {#smoke.alert("Error al obtener los datos.");#}
                        NotificationJG.error("Error al obtener los datos.");
                    },
                    success: function (data) {
                        if (data.result == "ok") {

                            var cboactividad = $("#idactividad option:selected").text();
                            var nomactividad = cboactividad.split(":");
                            $('#nombreactividad'+idturno+'_'+iddia).html(nomactividad[1]+'<br><a href="javascript:;" class="btn btn-tini btn-danger eliminarobj tu" iturno="'+idturno+'" idia="'+iddia+'" descrip="'+nomactividad[1]+'" onclick="deleteactividad('+data.codiactividad+')"  idact="'+data.codiactividad+'" title="Eliminar"><i class="fa fa-remove"></i></a><a href="javascript:;" id="itemsadicionartema" class="btn btn-tini btn-warning">SOLICITADO</a>');
                            window.location.href = '/pro_horarios_actividades';
                            tooltips();
                            {#conectar_controlestemas();#}
                            $('#totalactividades').html(data.actividades);
                            if (data.puedenotificar){
                                $('#notificardirector').show()
                            } else {
                                $('#notificardirector').hide()
                            }
                        } else {
                            $.unblockUI();
                            {#smoke.alert(data.mensaje);#}
                            Swal.fire({
                                title: 'Conflicto en las horas!',
                                html: data.mensaje,
                                type: 'error',
                                confirmButtonColor: '#3085d6',
                                confirmButtonText: '<i class="fa fa-thumbs-up"></i> OK',
                            })
                            {#NotificationJG.error(data.mensaje);#}
                        }
                    }
                });
            });
            $("#adicionarycerraractividaddetalle").click(function() {
                var idactividades = $("#idactividad").val();
                var idactividad = idactividades.split("_");
                var idturno = $("#codturno").val()
                var iddia = $("#coddia").val()
                if (idactividad[0] == 0 || idactividad[1] == 0){$("#itemspaneltemas .incompletotemas").show();return false;}
                $("#itemspaneltemas").modal("hide");
                bloqueointerface();
                $.ajax({
                    type: "POST",
                    url: "/pro_horarios_actividades",
                    data: {'action': 'addactividaddetalle', 'idactividad': idactividad[0], 'idturno': idturno, 'iddia': iddia, 'tipoactividad': idactividad[1]},
                    error: function () {
                        $.unblockUI();
                        {#smoke.alert("Error al obtener los datos.");#}
                        NotificationJG.error("Error al obtener los datos.");
                    },
                    success: function (data) {
                        $.unblockUI();
                        if (data.result == "ok") {
                            var cboactividad = $("#idactividad option:selected").text();
                            var nomactividad = cboactividad.split(":");
                            $('#nombreactividad'+idturno+'_'+iddia).html(nomactividad[1]+'<a href="javascript:;" class="btn btn-tini btn-danger eliminarobj tu" iturno="'+idturno+'" idia="'+iddia+'" descrip="'+nomactividad[1]+'" onclick="deleteactividad('+data.codiactividad+')"  idact="'+data.codiactividad+'" title="Eliminar"><i class="fa fa-remove"></i></a><a href="javascript:;" id="itemsadicionartema" class="btn btn-tini btn-warning">SOLICITADO</a>');
                            {#                            window.location.href = '/pro_horarios_actividades';#}
                            tooltips();
                            conectar_controlestemas();
                        } else {
                            {#smoke.alert(data.mensaje);#}
                            NotificationJG.error(data.mensaje);
                        }
                    }
                });
            });
            $("#cerrartemas").click(function() {
                $("#itemspaneltemas .incompletotemas").hide();
                $("#itemspaneltemas .incompletovalotemas").hide();
                $("#itemspaneltemas").modal("hide");
            });
            addactividaddetalle = function(codigoturno,codigodia) {
                $("#codturno").val('');
                $("#coddia").val('');
                $("#codturno").val(codigoturno);
                $("#coddia").val(codigodia);
                $.ajax({
                    type: "GET",
                    url: "/pro_horarios_actividades",
                    data: {'action': 'listactividadesdestalle'},
                    success: function (data) {
                        $("#idactividad").html(data).trigger('change');
                        if(($('#idactividad option').length)==1){
                            $("#alertaingresotemas").show();
                        }else{
                            $("#alertaingresotemas").hide();
                        }
                        {#desbloqueoUi();#}
                    },
                    dataType: "html"
                });
                $("#alertaingrestemas").hide();
                $("#itemspaneltemas .incompletotemas").hide();
                $("#itemspaneltemas .incompletovalorestemas").hide();
                $("#adicionarycerrartemas").show();
                $("#guardar").hide();
                $("#itemspaneltemas").modal({backdrop:'static', width: '400px'}).modal('show');
                return false;
            }
            $("#eliminacionmodal_formbutton").click(function(){
                bloqueointerface();
                $('#selectdelete').modal('hide');
                var idturno = $('#codigoturno').val();
                var idia = $('#codigodia').val();
                $.ajax({
                    type: "POST",
                    url: "/pro_horarios_actividades",
                    data: {'action': 'eliminaractividad', 'idactividad': $('#codigoactividad').val()},
                    error: function () {
                        $.unblockUI();
                        {#smoke.alert("Error al obtener los datos.");#}
                        NotificationJG.error("Error al obtener los datos.");
                    },
                    success: function (data) {

                        if (data.result == "ok") {
                            location.reload();
                            {#                            {% if not elijedetalleactividad %}#}
                            {#                                $('#nombreactividad'+idturno+'_'+idia).html('<a href="javascript:;" id="itemsadicionartema" class="btn btn-tini btn-success" onclick="addactividad('+idturno+','+idia+')"><i class="fa fa-plus"></i></a>');#}
                            {#                            {% else %}#}
                            {#                                $('#nombreactividad'+idturno+'_'+idia).html('<a href="javascript:;" id="itemsadicionartema" class="btn btn-tini btn-success" onclick="addactividaddetalle('+idturno+','+idia+')"><i class="fa fa-plus"></i></a>');#}
                            {#                            {% endif %}#}
                        } else {
                            $.unblockUI();
                            {#smoke.alert(data.mensaje);#}
                            NotificationJG.error(data.mensaje);
                        }
                    }
                });
            });
            $(".eliminarobj").click(function () {
                var desactividad=$(this).attr('descrip');
                var iturno=$(this).attr('iturno')
                var idia=$(this).attr('idia')
                bloqueointerface();
                $.ajax({
                    type: "POST",
                    url: "/pro_horarios_actividades",
                    data: {'action': 'delactividad', 'id': $(this).attr('idact') },
                    error: function () {
                        $.unblockUI();
                        smoke.alert("Error al obtener los datos.");
                    },
                    success: function (data) {
                        $.unblockUI();
                        if (data.result == "ok") {
                            $('#leyenda').html(desactividad)
                            $('#codigoturno').val(iturno)
                            $('#codigodia').val(idia)
                            $('#leyenda').html(desactividad)
                            $('#codigoactividad').val(data.idactividad)
                            $('#selectdelete').modal({'width': 800}).modal('show');
                        } else {
                            smoke.alert(data.mensaje);
                        }
                    }
                });
            });
            $("#eliminacionmodal_cancel").click(function(){
                $('#selectdelete').modal('hide');
            });
            $(".mostrardetalleaprobacion").click(function() {
                $("#itemspaneldetalle").modal({backdrop:'static', width: '700px'}).modal('show');
            });
            $("#itemspaneldetalle .btn-cerrar").click(function() {
                $("#itemspaneldetalle").modal("hide");
                return false;
            });
        })
        function vistaprevia(idproprag){
            openwindow('POST' ,'/pro_horarios_actividades', {action:'horarioactividadespdf',idii:0}, '_blank');
            {#            openwindow('POST' ,'/malla', {action:'gg',id:idproprag}, '_blank');#}
        }

        {#        {% if puedenotificar %}#}
        function notificar_alertas(texto, action, id) {
            Swal.fire({
                title: texto,
                text: "Notificacion para el director de carrera",
                type: 'warning',
                showCancelButton: true,
                allowOutsideClick: false,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Si, deseo hacerlo',
                cancelButtonText: 'Cancelar'
            }).then((result) => {
                if (result.value) {
                    bloqueointerface();
                    $.ajax({
                        data: {
                            'action': action, 'id': id,
                        },
                        url: '{{ request.path }}',
                        type: "GET",
                        success: function (data) {
                            $.unblockUI();
                            var object = data
                            if (object.resp === true) {
                                Swal.fire({
                                    title: 'Notificación Enviada',
                                    text: "Esta acción no se puede revertir.",
                                    type: 'success',
                                    showCancelButton: false,
                                    allowOutsideClick: false,
                                    confirmButtonColor: '#3085d6',
                                    confirmButtonText: 'Ok'
                                }).then((result) => {
                                    if (result.value) {
                                        location.reload();
                                    }
                                })
                            }
                            else {
                                Swal.fire(object.mensaje, '', 'warning');
                            }
                        },
                        error: function () {
                            $.unblockUI();
                            smoke.alert("Error de conexión.")
                        },
                    });
                }
            })

        }
        function verturnos(dia, nombre){
            {#$('#turnosemana').html('');#}
            {#$('#paneltitle').html('Turnos disponibles para tutoria <br> para el dia'+' '+nombre);#}
            {#$('#addturno').modal({backdrop:'static', 'margin-top': '10px','width': 350}).modal('show').removeClass('fade').removeClass('in');#}
            if (dia > 0) {
                bloqueointerface();
                $.ajax({
                    type: "GET",
                    url: "/pro_horarios_actividades",
                    data: {'action': 'buscarturnos', 'dia': dia},
                    success: function (data) {
                        $.unblockUI();
                        let htmltext='';
                        if (data.result === 'ok') {
                            for (elemento in data.lista) {
                                htmltext+= '<i class="fa fa-arrow-right"></i> '+ data.lista[elemento][1]+'<br>'
                            }
                            {#$('#turnosemana').html(htmltext);#}
                            Swal.fire({
                                title: 'Turnos disponibles para tutoria <br>'+' '+nombre,
                                icon: 'info',
                                html: htmltext,
                                showCloseButton: true,
                                showCancelButton: false,
                                focusConfirm: false,
                                confirmButtonText: '<i class="fa fa-thumbs-up"></i> OK',
                                confirmButtonAriaLabel: 'Thumbs up, great!'
                            })
                        } else {
                            smoke.alert(data.mensaje);
                        }
                    },
                    error: function () {
                        $.unblockUI();
                        smoke.alert("Error de conexion.");
                    },
                    dataType: "json"
                });
            }

        }
        function vervencidas(dia, periodo, profesor, turno){
            if (dia > 0) {
                bloqueointerface();
                $.ajax({
                    type: "GET",
                    url: "/pro_horarios_actividades",
                    data: {'action': 'buscarvencidas', 'dia': dia, 'profesor': profesor, 'periodo': periodo, 'turno': turno},
                    success: function (data) {
                        $.unblockUI();
                        let htmltext='';
                        if (data.result === 'ok') {
                            for (elemento in data.lista) {
                                htmltext+= '<b>'+(parseInt(elemento)+1)+'</b>' + ') '+ data.lista[elemento][0]+'<br><b>Dede:</b> '+data.lista[elemento][1]+' <b>Hasta: </b>'+data.lista[elemento][2]+'<br>'}
                            Swal.fire({
                                title: 'Actividades Vencidas',
                                icon: 'info',
                                html: htmltext,
                                showCloseButton: true,
                                showCancelButton: false,
                                focusConfirm: false,
                                confirmButtonText: '<i class="fa fa-thumbs-up"></i> OK',
                                confirmButtonAriaLabel: 'Thumbs up, great!'
                            })
                        } else {
                            smoke.alert(data.mensaje);
                        }
                    },
                    error: function () {
                        $.unblockUI();
                        smoke.alert("Error de conexion.");
                    },
                    dataType: "json"
                });
            }

        }
        {#        {% endif %}#}
    </script>
{% endblock %}
{% block atras %}/{% endblock %}
{% block canvas %}
    <div class='row-fluid'>
        <div class='span12'>
            <h4>{{ title }}</h4>
            <h5>{{ profesor }}</h5>
        </div>
    </div>
    {% if periodo.visiblehorario %}
        <div class="row-fluid">
            <div class='span6' style="padding:8px">
                <a onclick="vistaprevia(0)" href="javascript:;" class='btn btn-warning'><i class="fa fa-print"></i> Imprimir</a>
                {#            {% if mostrar == 1 %}#}
                {#                <a href="javascript:;" class='btn btn-warning mostrardetalleaprobacion'><i class="fa fa-table"></i> Detalle Aprobación</a>#}
                {#            {% endif %}#}
                {#            <br><label class="label label-info">Seleccionar el periodo lectivo para imprimir</label>#}
            </div>
        </div>
        <br>
    {% endif %}
    {#    {% if sumaactividad > 0 %}#}
    {#         <div class="row-fluid">#}
    {#            <div class="span12">#}
    {#                ORIENTACIÓN Y ACOMPAÑAMIENTO A TRAVÉS DE TUTORÍAS PRESENCIALES O VIRTUALES, INDIVIDUALES O GRUPALES: <b> {{ suma }} de  {{ sumaactividad }} Horas.</b>#}
    {#            </div>#}
    {#        </div>#}
    {#    {% endif %}#}
    <div class="row-fluid">
        <div class="span12">
            HORAS DE ACTIVIDADES PLANIFICADAS: <b id="totalactividades">{{ actividades }}</b> <b>de  {{ horastotales }} Horas.</b>
        </div>
    </div>
    <div class="row-fluid">
        <div class="span12">
            <div class="alert alert-info">
                <strong>
                    <i class="fa fa-info"></i> Los turnos para tutoria acádemica se han validado para no generar conflicto con los horarios de clases
                    y actividades del estudiante, las actividades propias del profesor y
                    de las que puedan evitar que el estudiante acceda o solicite una tutoría académica, puede verificar las disponibilidad de estos turnos en el boton junto al nombre del dia en el horario
                </strong>
            </div>
        </div>
    </div>
    <div class="row-fluid">
        <div class="span12">
            <div class="alert alert-danger">
                <strong>
                    <i class="fa fa-info"></i> Estimado docente, recuerde que para mejor organización de su horario de actividades, se estableció un límite máximo de horas que usted puede planificar por día,
                    esto es: <br>
                    9 horas (DOCENTES DE TIEMPO COMPLETO)<br>
                    5 horas (DOCENTES DE TIEMPO PARCIAL)
                    <br><br>

                    <b>SU LÍMITE DE HORAS PARA PLANIFICAR POR DÍA ES DE: {{ horas }} horas (DOCENTES DE TIEMPO {% if horas < 9 %}PARCIAL{% else %}COMPLETO{% endif %} )</b>
                </strong>
            </div>
        </div>
    </div>
    <div class="row-fluid">
        <div class="span12">
            <div class="alert alert-success">
                <strong>
                    <i class="fa fa-info"></i> Estimado docente, en caso de tener actividades con fecha fin anterior a la fecha actual, dar clic en el botón de color amarillo en el día y turno correspondiente para visualizar las actividades mencionadas.
                </strong>
            </div>
        </div>
    </div>



    {#HORARIO TUTORÍAS#}
    {#    <div class="row-fluid">#}
    {#        <div class="span12">#}
    {#            <h3>HORARIO DE TUTORÍAS</h3>#}
    {#            <table class='table table-bordered table-striped'  >#}
    {#                <thead>#}
    {#                <tr>#}
    {#                    <th style="width: 50px"></th>#}
    {#                    <th style="width: 160px">Lunes</th>#}
    {#                    <th style="width: 160px">Martes</th>#}
    {#                    <th style="width: 160px">Miercoles</th>#}
    {#                    <th style="width: 160px">Jueves</th>#}
    {#                    <th style="width: 160px">Viernes</th>#}
    {#                    <th style="width: 160px">Sabado</th>#}
    {#                </tr>#}
    {#                </thead>#}
    {#                <tbody>#}
    {#                {% for turnotuto in turnostutoriacademica %}#}
    {#                    <tr>#}
    {#                        <td>{{ turnotuto.nombre_horario }}</td>#}
    {#                        {% for diatuto in semanatutoria %}#}
    {#                            <td style="text-align: center; ">#}
    {#                                {% with horariotutoria=turnotuto|args:diatuto.0|args:profesor|args:periodo|call:"horario_tutorias_academicas_tutor"%}#}
    {#                                    {%  if horariotutoria %}#}
    {#                                        <table class='cell table table-bordered' dia='{{ forloop.counter }}' turno='{{ turnotuto.id }}' style="margin-bottom: 5px">#}
    {#                                            {% for tuto in horariotutoria %}#}
    {#                                                <tr >#}
    {#                                                    <td style='background-color: #1b6d85; border: 1px solid #1b6d85;text-align: center; color:#ffffff'>#}
    {#                                                        <b class="smaller">#}
    {#                                                            ORIENTACIÓN Y ACOMPAÑAMIENTO A TRAVÉS DE TUTORÍAS PRESENCIALES O VIRTUALES, INDIVIDUALES O GRUPALES<br></b>#}
    {#                                                    </td>#}
    {#                                                </tr>#}
    {#                                            {% endfor %}#}
    {#                                        </table>#}
    {##}
    {#                                    {% endif %}#}
    {#                                {% endwith %}#}
    {#                            </td>#}
    {#                        {% endfor %}#}
    {#                    </tr>#}
    {#                {% endfor %}#}
    {#                </tbody>#}
    {#            </table>#}
    {#        </div>#}
    {#    </div>#}




    {#HORARIO GENERAL#}
    {% if puedenotificar and mostrar and estadoactividad.estadosolicitud != 2 %}
        <div class="row-fluid">
            <div class="span12">
                <a href="javascript:;" class="btn btn-info fa-1x" id="notificardirector"
                   onclick="{% if director %}notificar_alertas('DESEA NOTIFICAR AL DIRECTOR DE LA CARRERA', 'notidirector', '{{ p.pk }}'){% else %}Swal.fire('Estimado docente la carrera asignada no cuenta con director', '', 'warning');{% endif %}"
                ><i class="fa fa-telegram"></i> Notificar Director de Carrera</a>
                {% if director %}
                    <a class="btn btn-warning btn-mini tb" data-toggle="tooltip" title="Consultar director de carrera" onclick="mensajeFlotante('Información', '{{ director.persona }} <br> Carrera: {{ director.carrera }}')">
                        <i class="fa fa-question-circle"></i>
                    </a>
                {% else %}
                    <span class="label label-warning"> Estimado docente la carrera asignada no cuenta con director</span>
                {% endif %}
            </div>
        </div>

        {% if notificado %}
            <div class="alert alert-info" style="font-size: 14px"><b>EL DIRECTOR {{ notificacion.destinatario }} FUE NOTIFICADO {{ notificacion.fecha_creacion }}</b></div>
        {% endif %}
    {% endif %}

    <div class="row-fluid">
        <div class="span12">
            <table class='table table-bordered' >
                <tbody>
                <thead>
                <tr>
                    <th colspan="7">Horario de Actividades</th>
                </tr>
                <tr>
                    <th style="width: 15%"></th>
                    {% for diaturnog in semana %}
                        <th style="text-transform: uppercase;text-align: center; width: 14%">{{ diaturnog.1 }} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="javascript:;" class="btn btn-info btn-xs" onclick="verturnos({{ diaturnog.0}}, '{{ diaturnog.1 }}')" data-toggle="tooltip" title="Ver turnos disponibles para tutoria"><i class="fa fa-clock-o"></i></a></th>
                    {% endfor %}
                </tr>
                </thead>
                <tbody>
                {% for turnog in turnogeneral %}
                    <tr>
                        <td>
                            {{ turnog.comienza }} a {{ turnog.termina }}
                        </td>
                        {% for diaturnog in semana %}
                            <td style="padding: 2px; font-size: 9px">

                                {% with horariog=turnog|args:diaturnog.0|args:profesor|args:periodo|call:"horario_profesor_turno"  clasesactividades=turnog|args:diaturnog.0|args:profesor|args:periodo|call:"horario_profesor_actividad_turno"  clasesactividadesdetalle=turnog|args:diaturnog.0|args:profesor|args:periodo|call:"horario_profesor_actividadtutrovirtual"  total_horas_dia=turnog|args:diaturnog.0|args:profesor|args:periodo|call:"total_horas_dia" actividadesvencidas=turnog|args:periodo|args:diaturnog.0|args:profesor|call:'actividadesvencidasdia'%}
                                    {% if horariog %}
                                        {% for clase in horariog %}
                                            {{ clase.materia.asignatura.nombre }}-{{ clase.materia.asignatura.id }}<br>
                                            {{ clase.materia.tipo_profesor }}<br>
                                            {{ clase.inicio|date:'d-m-Y' }} al {{ clase.fin|date:'d-m-Y' }}
                                            <br><span class="label label-info">{{ clase.turno.comienza }} hasta {{ clase.turno.termina }}</span>
                                        {% endfor %}
                                    {% endif %}
                                    {#                                                {% if horariotutoria %}#}
                                    {#                                                    {% for tuto in horariotutoria %}#}
                                    {#                                                        <b class="smaller">#}
                                    {#                                                            ORIENTACIÓN Y ACOMPAÑAMIENTO A TRAVÉS DE TUTORÍAS PRESENCIALES O VIRTUALES, INDIVIDUALES O GRUPALES<br></b>#}
                                    {#                                                    {% endfor %}#}
                                    {#                                                {% endif %}#}
                                    {#                                                {% else %}#}
                                    {#                                                {% if not horariog and not horariotutoria %}#}
                                    {#                                                {% if not horariog %}#}
                                    <div id="nombreactividad{{ turnog.id }}_{{ diaturnog.0 }}">
                                        {% if actividadesvencidas.0 or actividadesvencidas.1 %}
                                            <a href="javascript:;" class="btn btn-warning btn-mini vencidas" data-toggle="tooltip"
                                               title="Ver actividades vencidas" onclick="vervencidas({{ diaturnog.0 }}, {{ periodo.pk }}, {{ profesor.pk }}, {{ turnog.id }})">
                                                <i class="fa fa-eye"></i></a>

                                        {% endif %}
                                        {% if clasesactividades or clasesactividadesdetalle %}
                                            {% if horariog %}
                                                <hr>
                                                <span class="label label-important"> Conflicto de horas</span>
                                                <hr>
                                            {% endif %}
                                            {% if clasesactividades %}
                                                {% for clasesacti in clasesactividades %}
                                                    {% if clasesacti.detalledistributivo %}
                                                        {% if clasesacti.actividaddetallehorario.criterio_vigente %}
                                                            {% if clasesacti.tipodistributivo == 1 or clasesacti.tipodistributivo == 4 %}
                                                                {% if actividadesvencidas.1 %}<br>{% endif %}{{ clasesacti.actividaddetallehorario.nombre }}
                                                                <br>
                                                                {#                                                                            <span class="label{% if clasesacti.modalidad == 1 %} label-success {% else %} label-info {% endif %}">{{ clasesacti.get_modalidad_display }}</span>#}
                                                                <br>
                                                                {% if clasesacti.estadosolicitud == 1 or clasesacti.estadosolicitud == 3 %}
                                                                    <a href='javascript:;'
                                                                       class='btn btn-tini btn-danger eliminarobj tu'
                                                                       iturno="{{ turnog.id }}"
                                                                       idia="{{ diaturnog.0 }}"
                                                                       descrip="{{ clasesacti.detalledistributivo.criteriodocenciaperiodo.criterio.nombre }}"
                                                                       idact="{{ clasesacti.id }}"
                                                                       title='Eliminar'><i
                                                                            class='fa fa-remove'></i></a>
                                                                {% endif %}
                                                                <a href="javascript:;"
                                                                   class="btn btn-tini btn-{% if clasesacti.estadosolicitud == 1 %}warning{% endif %}{% if clasesacti.estadosolicitud == 2 %}success{% endif %}{% if clasesacti.estadosolicitud == 3 %}danger{% endif %}">{{ clasesacti.get_estadosolicitud_display }}</a>
                                                                <br>{{ clasesacti.detalledistributivo.detalleactividadcriterio.desde|date:'d-m-Y' }} al {{ clasesacti.detalledistributivo.detalleactividadcriterio.hasta|date:'d-m-Y' }}
                                                                <br>
                                                                <span class="label label-info">{{ clasesacti.turno.comienza }} hasta {{ clasesacti.turno.termina }}</span>
                                                            {% endif %}
                                                            {% if clasesacti.tipodistributivo == 2 %}
                                                                {% if actividadesvencidas.1 %}<br>{% endif %}{{ clasesacti.detalledistributivo.criterioinvestigacionperiodo.criterio.nombre }}
                                                                {#                                                                            <br>#}
                                                                {#                                                                            <span class="label{% if clasesacti.modalidad == 1 %} label-success {% else %} label-info {% endif %}">{{ clasesacti.get_modalidad_display }}</span>#}
                                                                <br>
                                                                {% if clasesacti.estadosolicitud == 1 or clasesacti.estadosolicitud == 3 %}
                                                                    <a href='javascript:;'
                                                                       class='btn btn-tini btn-danger eliminarobj tu'
                                                                       iturno="{{ turnog.id }}"
                                                                       idia="{{ diaturnog.0 }}"
                                                                       descrip="{{ clasesacti.detalledistributivo.criterioinvestigacionperiodo.criterio.nombre }}"
                                                                       idact="{{ clasesacti.id }}"
                                                                       title='Eliminar'><i
                                                                            class='fa fa-remove'></i></a>
                                                                {% endif %}
                                                                <a href="javascript:;"
                                                                   class="btn btn-tini btn-{% if clasesacti.estadosolicitud == 1 %}warning{% endif %}{% if clasesacti.estadosolicitud == 2 %}success{% endif %}{% if clasesacti.estadosolicitud == 3 %}danger{% endif %}">{{ clasesacti.get_estadosolicitud_display }}</a>
                                                                <br>{{ clasesacti.detalledistributivo.detalleactividadcriterio.desde|date:'Y-m-d' }} al {{ clasesacti.detalledistributivo.detalleactividadcriterio.hasta|date:'Y-m-d' }}
                                                                <br>
                                                                <span class="label label-info">{{ clasesacti.turno.comienza }} hasta {{ clasesacti.turno.termina }}</span>
                                                            {% endif %}
                                                            {% if clasesacti.tipodistributivo == 3 %}
                                                                {% if diaturnog.0 == 2 %}
                                                                    {% if actividadesvencidas.0 or actividadesvencidas.1 %}
                                                                        {{ horariog }}
                                                                    {% endif %}

                                                                {% endif %}
                                                                {% if actividadesvencidas.1 %}<br>{% endif %}{{ clasesacti.detalledistributivo.criteriogestionperiodo.criterio.nombre }}
                                                                <br>
                                                                {% if clasesacti.estadosolicitud == 1 or clasesacti.estadosolicitud == 3 %}
                                                                    <a href='javascript:;'
                                                                       class='btn btn-tini btn-danger eliminarobj tu'
                                                                       iturno="{{ turnog.id }}"
                                                                       idia="{{ diaturnog.0 }}"
                                                                       descrip="{{ clasesacti.detalledistributivo.criteriogestionperiodo.criterio.nombre }}"
                                                                       idact="{{ clasesacti.id }}"
                                                                       title='Eliminar'><i
                                                                            class='fa fa-remove'></i></a>
                                                                {% endif %}
                                                                <a href="javascript:;"
                                                                   class="btn btn-tini btn-{% if clasesacti.estadosolicitud == 1 %}warning{% endif %}{% if clasesacti.estadosolicitud == 2 %}success{% endif %}{% if clasesacti.estadosolicitud == 3 %}danger{% endif %}">{{ clasesacti.get_estadosolicitud_display }}</a>
                                                                <br>{{ clasesacti.detalledistributivo.detalleactividadcriterio.desde|date:'d-m-Y' }} al {{ clasesacti.detalledistributivo.detalleactividadcriterio.hasta|date:'d-m-Y' }}
                                                                <br>
                                                                <span class="label label-info">{{ clasesacti.turno.comienza }} hasta {{ clasesacti.turno.termina }}</span>
                                                            {% endif %}

                                                        {% endif %}
                                                    {% endif %}
                                                {% endfor %}
                                            {% endif %}
                                            {% if clasesactividadesdetalle %}
                                                {% for clasesacti in clasesactividadesdetalle %}
                                                    {% if clasesacti.actividaddetallehorario.criterio_vigente %}
                                                        {% if clasesacti.actividaddetalle %}
                                                            {% if actividadesvencidas.0 %}<br>{% endif %}{{ clasesacti.actividaddetalle.nombre }}
                                                            {#                                                                        <span class="label{% if clasesacti.modalidad == 1 %} label-success {% else %} label-info {% endif %}">{{ clasesacti.get_modalidad_display }}</span>#}
                                                            {#                                                                            <br>#}
                                                            <br>
                                                            {% if clasesacti.estadosolicitud == 1 or clasesacti.estadosolicitud == 3 %}
                                                                <a href='javascript:;' class='btn btn-tini btn-danger eliminarobj tu' iturno="{{ turnog.id }}" idia="{{ diaturnog.0 }}" descrip="{{ clasesacti.actividaddetalle.nombre }}" idact="{{ clasesacti.id }}" title='Eliminar'><i class='fa fa-remove'></i></a>
                                                            {% endif %}
                                                            <a href="javascript:;" class="btn btn-tini btn-{% if clasesacti.estadosolicitud == 1 %}warning{% endif %}{% if clasesacti.estadosolicitud == 2 %}success{% endif %}{% if clasesacti.estadosolicitud == 3 %}danger{% endif %}">{{ clasesacti.get_estadosolicitud_display }}</a>
                                                            <br>{{ clasesacti.detalledistributivo.detalleactividadcriterio.desde|date:'d-m-Y' }} al {{ clasesacti.detalledistributivo.detalleactividadcriterio.hasta|date:'d-m-Y' }}
                                                            <br><span class="label label-info">{{ clasesacti.turno.comienza }} hasta {{ clasesacti.turno.termina }}</span>
                                                        {% endif %}
                                                    {% endif %}

                                                {% endfor %}
                                            {% endif %}
                                            {% if actividadesvencidas.0 and not actividadesvencidas.1%}
                                                {% if total_horas_dia and not diaturnog.0 == 7 and turnog.sesion.id == 17 and not horariog and actividades < horastotales%}
                                                    {% if not elijedetalleactividad %}
                                                        <a href="javascript:;" id="itemsadicionartema" class="btn btn-tini btn-success" onclick="addactividad({{ turnog.id }},{{ diaturnog.0 }})"><i class="fa fa-plus"></i></a>
                                                    {% else %}
                                                        <a href="javascript:;" id="itemsadicionartema" class="btn btn-tini btn-success" onclick="addactividaddetalle({{ turnog.id }},{{ diaturnog.0 }})"><i class="fa fa-plus"></i></a>
                                                    {% endif %}
                                                {% endif %}
                                            {% endif %}
                                        {% else %}
                                            {% if estadoactividad.estadosolicitud != 2 %}
                                                {% if total_horas_dia and not puedenotificar and not diaturnog.0 == 7 and turnog.sesion.id == 17 and not horariog and not clasesactividades and not clasesactividadesdetalle %}
                                                    {% if not elijedetalleactividad %}
                                                        <a href="javascript:;" id="itemsadicionartema" class="btn btn-tini btn-success" onclick="addactividad({{ turnog.id }},{{ diaturnog.0 }})"><i class="fa fa-plus"></i></a>
                                                    {% else %}
                                                        <a href="javascript:;" id="itemsadicionartema" class="btn btn-tini btn-success" onclick="addactividaddetalle({{ turnog.id }},{{ diaturnog.0 }})"><i class="fa fa-plus"></i></a>
                                                    {% endif %}
                                                    {% if total_horas_dia and not diaturnog.0 == 7 and turnog.sesion.id == 17 and not horariog  and actividadesvencidas.0 and actividades < horastotales%}
                                                        {% if not elijedetalleactividad %}
                                                            <a href="javascript:;" id="itemsadicionartema" class="btn btn-tini btn-success" onclick="addactividad({{ turnog.id }},{{ diaturnog.0 }})"><i class="fa fa-plus"></i></a>
                                                        {% else %}
                                                            <a href="javascript:;" id="itemsadicionartema" class="btn btn-tini btn-success" onclick="addactividaddetalle({{ turnog.id }},{{ diaturnog.0 }})"><i class="fa fa-plus"></i></a>
                                                        {% endif %}
                                                    {% endif %}

                                                {% elif actividadesvencidas.0 and  total_horas_dia and not diaturnog.0 == 7 and not horariog and actividades < horastotales %}
                                                    <a href="javascript:;" id="itemsadicionartema" class="btn btn-tini btn-success" onclick="addactividad({{ turnog.id }},{{ diaturnog.0 }})"><i class="fa fa-plus"></i></a>
                                                {% endif %}

                                            {% endif %}
                                        {% endif %}
                                        {#                                                {% endif %}#}
                                    </div>
                                    {#                                                {% endif %}#}
                                {% endwith %}

                            </td>
                        {% endfor %}
                    </tr>
                {% endfor %}

                <tr></tr>
                </tbody>
            </table>
        </div>
    </div>


    <div class="modal fade static" id="addturno" style="display: none; margin-top: 10px !important;">
        <div class="modal-header">
            <h3 id="paneltitle"></h3>
        </div>
        <div class="modal-body panelbody">
            <div id="turnosemana" style="width: 90%">
            </div>
        </div>
        <div class="modal-footer">
            <table class="pull-right">
                <tr>
                    <td id="aprobarcerrar"><a href="javascript:;" class="btn btn-agregarturno btn-success"> Guardar</a></td>
                    <td><a href="javascript:;" class="btn btn-cerrar btn-info">Cerrar</a></td>
                </tr>
            </table>
        </div>
    </div>




    {#HORARIO SESIONES#}
    {#    <div class='row-fluid'>#}
    {#        <div class='span12'>#}
    {#            {% if sesiones %}#}
    {#                {%  for sesion in sesiones %}#}
    {#                    <table class='table table-bordered' >#}
    {#                        <tbody>#}
    {#                        <thead>#}
    {#                        <tr>#}
    {#                            <th colspan="8">{{ sesion }}</th>#}
    {#                        </tr>#}
    {#                        <tr>#}
    {#                            <th></th>#}
    {#                            {% for dia in semana %}#}
    {#                                <th style="text-transform: uppercase;text-align: center;width: 160px;">{{ dia.1 }}</th>#}
    {#                            {% endfor %}#}
    {#                        </tr>#}
    {#                        </thead>#}
    {#                        {% with turnos=sesion|args:misclases|call:"turnos_actividades" %}#}
    {#                            {% for turno in turnos %}#}
    {#                                <tr>#}
    {#                                    <td>#}
    {#                                        {{ turno.comienza }} a {{ turno.termina }}--{{ turno.id }}#}
    {#                                    </td>#}
    {#                                    {% for dia in semana %}#}
    {#                                        {% with clasesactuales=turno|args:dia.0|args:profesor|args:periodo|call:"horario_profesor_periodo"  clasesactividades=turno|args:dia.0|args:profesor|args:periodo|call:"horario_profesor_actividad" clasesactividadesdetalle=turno|args:dia.0|args:profesor|args:periodo|call:"horario_profesor_actividadtutrovirtual" %}#}
    {#                                            <td style="padding: 2px; font-size: 9px">#}
    {#                                                {% if clasesactuales %}#}
    {#                                                    {% for clase in clasesactuales %}#}
    {#                                                        {{ clase.materia.asignatura.nombre }}-{{ clase.materia.asignatura.id }}--{{ clase.id }}<br>#}
    {#                                                        {{ clase.materia.tipo_profesor }}<br>#}
    {#                                                        {{ clase.inicio|date:'d-m-Y' }} al {{ clase.fin|date:'d-m-Y' }}#}
    {#                                                    {% endfor %}#}
    {#                                                {% else %}#}
    {#                                                    {% if clasesfuturas %}#}
    {##}
    {#                                                    {% else %}#}
    {#                                                        <div id="nombreactividad{{ turno.id }}_{{ dia.0 }}">#}
    {#                                                        {% if clasesactividades or clasesactividadesdetalle %}#}
    {#                                                            {% if clasesactividades %}#}
    {#                                                                {% for clasesacti in clasesactividades %}#}
    {#                                                                    {% if clasesacti.detalledistributivo %}#}
    {#                                                                        {%  if clasesacti.tipodistributivo == 1 %}#}
    {#                                                                            {{ clasesacti.detalledistributivo.criteriodocenciaperiodo.criterio.nombre }}#}
    {#                                                                            <br>#}
    {#                                                                            {% if clasesacti.estadosolicitud == 1 or clasesacti.estadosolicitud == 3 %}#}
    {#                                                                                <a href='javascript:;' class='btn btn-tini btn-danger eliminarobj tu' iturno="{{ turno.id }}" idia="{{ dia.0 }}" descrip="{{ clasesacti.detalledistributivo.criteriodocenciaperiodo.criterio.nombre }}" idact="{{ clasesacti.id }}" title='Eliminar'><i class='fa fa-remove'></i></a>#}
    {#                                                                            {% endif %}#}
    {#                                                                            <a href="javascript:;" class="btn btn-tini btn-{% if clasesacti.estadosolicitud == 1 %}warning{% endif %}{% if clasesacti.estadosolicitud == 2 %}success{% endif %}{% if clasesacti.estadosolicitud == 3 %}danger{% endif %}">{{ clasesacti.get_estadosolicitud_display }}</a>#}
    {#                                                                        {% endif %}#}
    {#                                                                        {%  if clasesacti.tipodistributivo == 2 %}#}
    {#                                                                            {{ clasesacti.detalledistributivo.criterioinvestigacionperiodo.criterio.nombre }}#}
    {#                                                                            <br>#}
    {#                                                                            {% if clasesacti.estadosolicitud == 1 or clasesacti.estadosolicitud == 3 %}#}
    {#                                                                                <a href='javascript:;' class='btn btn-tini btn-danger eliminarobj tu' iturno="{{ turno.id }}" idia="{{ dia.0 }}" descrip="{{ clasesacti.detalledistributivo.criterioinvestigacionperiodo.criterio.nombre }}" idact="{{ clasesacti.id }}" title='Eliminar'><i class='fa fa-remove'></i></a>#}
    {#                                                                            {% endif %}#}
    {#                                                                            <a href="javascript:;" class="btn btn-tini btn-{% if clasesacti.estadosolicitud == 1 %}warning{% endif %}{% if clasesacti.estadosolicitud == 2 %}success{% endif %}{% if clasesacti.estadosolicitud == 3 %}danger{% endif %}">{{ clasesacti.get_estadosolicitud_display }}</a>#}
    {#                                                                        {% endif %}#}
    {#                                                                        {%  if clasesacti.tipodistributivo == 3 %}#}
    {#                                                                            {{ clasesacti.detalledistributivo.criteriogestionperiodo.criterio.nombre }}#}
    {#                                                                            <br>#}
    {#                                                                            {% if clasesacti.estadosolicitud == 1 or clasesacti.estadosolicitud == 3 %}#}
    {#                                                                                <a href='javascript:;' class='btn btn-tini btn-danger eliminarobj tu' iturno="{{ turno.id }}" idia="{{ dia.0 }}" descrip="{{ clasesacti.detalledistributivo.criteriogestionperiodo.criterio.nombre }}" idact="{{ clasesacti.id }}" title='Eliminar'><i class='fa fa-remove'></i></a>#}
    {#                                                                            {% endif %}#}
    {#                                                                            <a href="javascript:;" class="btn btn-tini btn-{% if clasesacti.estadosolicitud == 1 %}warning{% endif %}{% if clasesacti.estadosolicitud == 2 %}success{% endif %}{% if clasesacti.estadosolicitud == 3 %}danger{% endif %}">{{ clasesacti.get_estadosolicitud_display }}</a>#}
    {#                                                                        {% endif %}#}
    {#                                                                    {% endif %}#}
    {#                                                                {% endfor %}#}
    {#                                                            {% endif %}#}
    {#                                                            {% if clasesactividadesdetalle %}#}
    {#                                                                {% for clasesacti in clasesactividadesdetalle %}#}
    {#                                                                    {% if clasesacti.actividaddetalle %}#}
    {#                                                                        {{ clasesacti.actividaddetalle.nombre }}#}
    {#                                                                        <br>#}
    {#                                                                        {% if clasesacti.estadosolicitud == 1 or clasesacti.estadosolicitud == 3 %}#}
    {#                                                                            <a href='javascript:;' class='btn btn-tini btn-danger eliminarobj tu' iturno="{{ turno.id }}" idia="{{ dia.0 }}" descrip="{{ clasesacti.actividaddetalle.nombre }}" idact="{{ clasesacti.id }}" title='Eliminar'><i class='fa fa-remove'></i></a>#}
    {#                                                                        {% endif %}#}
    {#                                                                        <a href="javascript:;" class="btn btn-tini btn-{% if clasesacti.estadosolicitud == 1 %}warning{% endif %}{% if clasesacti.estadosolicitud == 2 %}success{% endif %}{% if clasesacti.estadosolicitud == 3 %}danger{% endif %}">{{ clasesacti.get_estadosolicitud_display }}</a>#}
    {#                                                                    {% endif %}#}
    {#                                                                {% endfor %}#}
    {#                                                            {% endif %}#}
    {#                                                        {% else %}#}
    {#                                                            {% if estadoactividad.estadosolicitud != 2 %}#}
    {#                                                                {% if not elijedetalleactividad %}#}
    {#                                                                    <a href="javascript:;" id="itemsadicionartema" class="btn btn-tini btn-success" onclick="addactividad({{ turno.id }},{{ dia.0 }})"><i class="fa fa-plus"></i></a>#}
    {#                                                                {% else %}#}
    {#                                                                    <a href="javascript:;" id="itemsadicionartema" class="btn btn-tini btn-success" onclick="addactividaddetalle({{ turno.id }},{{ dia.0 }})"><i class="fa fa-plus"></i></a>#}
    {#                                                                {% endif %}#}
    {#                                                            {% endif %}#}
    {#                                                        {% endif %}#}
    {#                                                    {% endif %}#}
    {#                                                </div>#}
    {#                                                {% endif %}#}
    {#                                            </td>#}
    {#                                        {% endwith %}#}
    {#                                    {% endfor %}#}
    {#                                </tr>#}
    {#                            {% endfor %}#}
    {#                        {% endwith %}#}
    {#                        <tr></tr>#}
    {#                        </tbody>#}
    {#                    </table>#}
    {#                {% endfor %}#}
    {#            {% else %}#}
    {#                <div class="alert alert-error">#}
    {#                    <a  href="javascript:;" class="close" data-dismiss="alert">×</a>#}
    {#                    <h4 class="alert-heading">Informaci&oacute;n!</h4>#}
    {#                    Periodo de clases de la materia ha terminado.#}
    {#                </div>#}
    {#            {% endif %}#}
    {#        </div>#}
    {#    </div>#}
    <div class="modal fade static" id="mensajepanel" data-backdrop="static" data-keyboard="false" >
        <div class="modal-header">
            <h4>Mensaje</h4>
        </div>
        <div class="modal-body" style="height: 60px;">
            <div id='mensaje'>
            </div>
        </div>
        <div class="modal-footer" hidden="hidden">
            <a href="javascript:;" class="btn btn-cerrar btn-info">Cerrar</a>
        </div>
    </div>
    {#    **************       VENTANA PARA ADICIONAR ACTIVIDAD         ********#}
    {% if not elijedetalleactividad %}
        <div class="modal fade static" id="itemspaneltemas" style="display: none;">
            <div class="modal-header">
                <h3 class="paneltitle">Adicionar Actividades</h3>
            </div>
            <div class="modal-body panelbody">
                <div class="alert alert-info incompletotemas" style="display: none;">
                    <i class="fa fa-info-sign"></i> Complete todos los campos para continuar
                </div>
                <div class="alert alert-danger" id="incompletovalorestemas" style="display: none;">
                    <i class="fa fa-info-sign"></i> Revise los valores, la fecha/hora DESDE no debe ser mayor a la fecha/hora HASTA
                </div>
                <div class="alert alert-danger" id="alertaingresotemas" style="display: none;"> NO TIENE ACTIVIDADES</div>
                <div class="row-fluid">
                    <form id="formulario2" class='form-vertical' action="" method="POST" >
                        <select id="idactividad" class="imp-90 tdcorto" style="color: #002a80" name="idactividad">
                            <option value="0_0" >Seleccione la actividad </option>
                        </select>
                        {#                        <br><br>#}
                        {#                        <label><b>¿Actividad Virtual? </b>&nbsp; <input type="checkbox" id="actividadvirtual"></label>#}
                        <input type="hidden" name="codturno" id="codturno" value="0">
                        <input type="hidden" name="coddia" id="coddia" value="0">
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <a href="javascript:;" class="btn btn-success" id="adicionarycerraractividad"><i class="fa fa-plus"></i> Adicionar</a>
                <a href="javascript:;" class="btn btn-cerrar btn-info" id="cerrartemas">Cerrar</a>
            </div>
        </div>
    {% else %}
        <div class="modal fade static" id="itemspaneltemas" style="display: none;">
            <div class="modal-header">
                <h3 class="paneltitle">Adicionar Actividades</h3>
            </div>
            <div class="modal-body panelbody">
                <div class="alert alert-info incompletotemas" style="display: none;">
                    <i class="fa fa-info-sign"></i> Complete todos los campos para continuar
                </div>
                <div class="alert alert-danger" id="incompletovalorestemas" style="display: none;">
                    <i class="fa fa-info-sign"></i> Revise los valores, la fecha/hora DESDE no debe ser mayor a la fecha/hora HASTA
                </div>
                <div class="alert alert-danger" id="alertaingresotemas" style="display: none;"> NO TIENE ACTIVIDADES</div>
                <div class="row-fluid">
                    <form id="formulario2" class='form-vertical' action="" method="POST" >
                        <select id="idactividad" class="imp-90" style="color: #002a80" name="idactividad">
                            <option value="0_0" >Seleccione la actividad </option>
                        </select>
                        <input type="hidden" name="codturno" id="codturno" value="0">
                        <input type="hidden" name="coddia" id="coddia" value="0">
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <a href="javascript:;" class="btn btn-success" id="adicionarycerraractividaddetalle"><i class="fa fa-plus"></i> Adicionar</a>
                <a href="javascript:;" class="btn btn-cerrar btn-info" id="cerrartemas">Cerrar</a>
            </div>
        </div>
    {% endif %}
    <div class="modal fade static" id="selectdelete" style="min-height: 60px">
        <div class="modal-header">
            <h4 id="paneltitle">Eliminar Actividad</h4>
        </div>
        <div class="modal-body" id="selectdeletepar-body">
            <input type='hidden' id="codigoactividad" name="codigoactividad" value=""/>
            <input type="hidden" name="codigoturno" id="codigoturno" value="0">
            <input type="hidden" name="codigodia" id="codigodia" value="0">
            <p style="margin-top: 10px;">Esta seguro(a) que desea eliminar: <b id="leyenda"></b></p>
        </div>
        <div class="modal-footer">
            <p style="text-align: right; margin-bottom: 0">
                <a href="javascript:;" id="eliminacionmodal_formbutton" class='btn btn-danger btn-form'> {% block botonlabel %}Eliminar{% endblock %}</a>
                <a href="javascript:;" id="eliminacionmodal_cancel" class="btn btn-info"> Cerrar</a>
            </p>
        </div>
    </div>
    {#    <div class="modal fade static" id="itemspaneldetalle" style="display: none;">#}
    {#        <div class="modal-header">#}
    {#            <h3 class="paneltitle">Detalle</h3>#}
    {#        </div>#}
    {#        <div class="modal-body panelbodydetalle">#}
    {#            <table class='table table-bordered table-striped'  >#}
    {#                <thead>#}
    {#                <tr>#}
    {#                    <th style="width: 160px">Usuario Aprobación</th>#}
    {#                    <th style="width: 160px">Observación</th>#}
    {#                    <th style="width: 100px">Estado</th>#}
    {#                    <th style="width: 100px">Fecha</th>#}
    {#                </tr>#}
    {#                </thead>#}
    {#                <tbody>#}
    {#                {% for det in detalleestados %}#}
    {#                    <tr>#}
    {#                        <td>{{ det.personaaprueba }}</td>#}
    {#                        <td>{{ det.obseaprueba }}</td>#}
    {#                        <td>{{ det.get_estadosolicitud_display }}</td>#}
    {#                        <td>{{ det.fecha_creacion|date:"Y-m-d" }}</td>#}
    {#                    </tr>#}
    {#                {% endfor %}#}
    {#                </tbody>#}
    {#            </table>#}
    {##}
    {#        </div>#}
    {#        <div class="modal-footer">#}
    {#            <table class="pull-right">#}
    {#                <tr>#}
    {#                    <td><a href="javascript:;" class="btn btn-cerrar btn-info">Cerrar</a></td>#}
    {#                </tr>#}
    {#            </table>#}
    {#        </div>#}
    {#    </div>#}
{% endblock %}


