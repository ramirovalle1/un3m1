{% extends "base.html" %}
{% load sga_extras %}
{% block heading %}
    <link rel="stylesheet" href="/static/css/bloques.css?v=1">
    <link href="/static/css/table-responsive.css?1.0.0" type="text/css" rel="stylesheet" />
    <script type="text/javascript" src="/static/js/jquery.fancybox.pack.js?v=1.0.0"></script>
    <link rel="stylesheet" href="/static/css/jquery.fancybox.css?v=1.0.0" type="text/css" media="screen"/>
    <script type="text/javascript" src='/static/js/select2.js?v=1.0.0'></script>
    <link type='text/css' rel='stylesheet' href="/static/css/select2.css?v=1.0.0"/>
    <link href="/static/widget_ppp.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style>
        #app {padding-left: 1.5rem !important;padding-right: 1.5rem !important}
        .table_striped thead th:nth-child(2), .table_striped thead td:nth-child(2) {text-align: left !important;padding-left: 15px}

        .btn-success {background-color: #15ca9a !important}

        .btn_tipo:hover {
            transform: scale(1.05);
        {#background-color: var(--bs-warning) !important;#}
        {#border-color: white !important;#}
        }

        .dataTables_wrapper .dataTables_filter {
            display: none;
        }

        .btn_tipo.active {
            background-color: var(--bs-warning) !important;
            color:white !important;
        }

        .radius-20 {
            border-radius:20px!important;
        }

        /* Estilo de la barra de desplazamiento */
        ::-webkit-scrollbar {
            width: 10px; /* Ancho de la barra de desplazamiento */
            height: 10px;
        }

        /* Estilo del área de la barra de desplazamiento (track) */
        ::-webkit-scrollbar-track {
            background-color: #E7F0F8; /* Color de fondo */
        }

        /* Estilo del mango de la barra de desplazamiento (thumb) */
        ::-webkit-scrollbar-thumb {
        {#background-color: #b4b4b4; /* Color del mango */#}
            background-color: #A8B4BF; /* Color del mango */
        }

    </style>
    <script type="text/javascript" >
        $(function () {

            $(".fancybox").fancybox();
            $("#cod_carreracum").select2({minimumResultsForSearch: 5});
            $("#id_mes").select2({minimumResultsForSearch: 5});
        });
        {#busqueda = function(){#}
        {#            var term = $("#searchinput").val().trim().toUpperCase();#}
        {#            var mid =$("#malla_list").val();#}
        {#            var nid =$("#nivelmalla_list").val();#}
        {#            if (term.length > 0){#}
        {#                location.href = "/aprobar_silabo?s="+term+"&mid="+mid+"&nid="+nid;#}
        {#            }#}
        {#            return false;#}
        {#        };#}
        var busqueda = function (page/*=undefined*/) {
            var term = $("#searchinput").val().trim().toUpperCase();
            {#var idcoor = $("#coordinacion").val();#}
            var mid =$("#malla_list").val();
            var nid =$("#nivelmalla_list").val();
            page = typeof page == 'undefined' ? 1 : page;
			let url = `/aprobar_silabo?page=${page}`;
            bloqueointerface();
            if (term){
                url += `&s=${term}`;
			}
            if (mid){
                url += `&mid=${mid}`;
			}
            if (nid){
                url += `&nid=${nid}`;
			}
            location.href = url;
            return false;
        };
        $(function() {
            $(".subirvideomagistral").click(function(){
                var tipomensaje = $(this).attr('mensaje');
                var codsilabo = $(this).attr('codsilabo');
                smoke.confirm("¿Está seguro que desea " + tipomensaje + " opción de subir video magistral.?" +
                    "\n NOTA: Una vez activada la opción de subir video magistral, el Docente podrá subirlo en los recursos del sílabo.", function(e){
                    if (e){
                        bloqueointerface();
                        $.ajax({
                            type: "POST",
                            url: "/aprobar_silabo",
                            data: {'action': 'opcionvideomagistral','id':codsilabo },
                            error: function () {
                                $.unblockUI();
                                smoke.alert("Error al obtener los datos.");
                            },
                            success: function (data) {
                                if (data.result == "ok") {
                                    location.reload();
                                } else {
                                    $.unblockUI();
                                    smoke.alert(data.mensaje);
                                }
                            }
                        });
                    }
                }, {
                    ok: "SI,"+tipomensaje,
                    cancel: "NO,CANCELAR",
                    classname: "custom-class",
                    reverseButtons: true
                });

            });
            {#$("#id_fini_autor, #id_ffin_autor").datepicker({format:"yyyy-mm-dd"}).on('changeDate', function(ev){ $(this).datepicker('hide'); });#}
            $("#malla_list").select2();
            $("#nivelmalla_list").select2();

            $(".descargarsilaboszip").click(function() {
                  $.get("{{ request.path }}", {'action': 'descargarsilaboszip'}, function (data) {
                    if (data.result) {
                        mensajeSuccess(data.mensaje)
                    } else {
                        mensajeWarning(data.mensaje)
                    }
                }, 'json');
            });

            $("#search").click(function() {
                busqueda();
            });

            $('#searchinput').keyup(function(e) {
                if(e.keyCode == 13) {
                    busqueda();
                }
            });

            $("#malla_list").change(function () {
                var id;
                id = $(this).val();
                bloqueointerface();
                location.href = "/aprobar_silabo?mid="+id;
            });
            $("#nivelmalla_list").change(function () {
                var cid =$("#malla_list").val();
                var id = $(this).val();
                bloqueointerface();
                location.href = "/aprobar_silabo?nid="+id+"&mid="+cid;

            });
            $("#itemspanelsilabos .btn-cerrar").click(function() {
                $("#itemspanelsilabos").modal("hide");
                $.unblockUI();
                bloqueointerface();
                location.reload();
            });
            $(".listar_silabos").click(function() {
                var id = $(this).attr('idpm');
                bloqueointerface();
                $.get("/aprobar_silabo", {'action':'listar_silabos', 'id': id}, function(data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".panelbody").html(data.data);
                        $("#itemspanelsilabos").modal({backdrop:'static', width: '1000px'}).modal('show');
                    }else{
                        $.unblockUI();
                        smoke.alert(data.mensaje);
                    }
                }, 'json');
            });
            $("#itemspanelrecursos .btn-cerrarrecurso").click(function() {
                $("#itemspanelrecursos").modal("hide");
                $.unblockUI();
                bloqueointerface();
                location.reload();
            });
            $(".listar_recursos").click(function() {
                var id = $(this).attr('idpm');
                bloqueointerface();
                $.get("/aprobar_silabo", {'action':'listar_recursos', 'id': id}, function(data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".panelbodyrecursos").html(data.data);
                        $("#itemspanelrecursos").modal({backdrop:'static', width: '1000px'}).modal('show');
                    }
                }, 'json');
            });
            $("#detalleguiaspracticasmodal_cerrar").click(function(){
                $("#detalleguiaspracticasmodal").modal("hide");
            });
            $(".guiapracticas").click(function(){
                var id = $(this).attr('id');
                $.unblockUI();
                bloqueointerface();
                $.get("/aprobar_silabo", {'action':'guiapracticas', 'id': id}, function(data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $("#detalleguiaspracticasmodal_body").html(data.html);
                        $("#detalleguiaspracticasmodal").modal({"backdrop":"static", "width": "1250px"}).modal("show");
                        $('.confirmacionmodal').bind('click.conectar_confirmacion', conectar_confirmacion);
                    }else{
                        smoke.alert(data.mensaje);
                    }
                }, 'json');
            });
            $(".imprimirinformecumfac").click(function () {
                var idcum = $(this).attr('idcum');
                if (idcum == 3) {
                    $('#idoculto').hide();
                }
                $("#imprimirinformecumfac").modal({backdrop: 'static', width: '500px'}).modal('show');
            });
            $("#printrecursocumfac_cerrar").click(function() {
                $("#imprimirinformecumfac").modal("hide");
            });
            $("#cumplimiento_cerrar").click(function() {
                $("#imprimirinformecumplimiento").modal("hide");
            });
            $(".imprimirinformefac").click(function () {
                $("#imprimirinformefac").modal({backdrop: 'static', width: '500px'}).modal('show');
            });
            $("#printrecursofac_cerrar").click(function() {
                $("#imprimirinformefac").modal("hide");
            });
            $(".imprimirinformecumplimiento").click(function () {
                $("#imprimirinformecumplimiento").modal({backdrop: 'static', width: '500px'}).modal('show');
            });
            $("#printrecursocumfac_cerrar").click(function() {
                $("#imprimirinformecumfac").modal("hide");
            });
            $(".imprimirinformefac").click(function () {
                $("#imprimirinformefac").modal({backdrop: 'static', width: '500px'}).modal('show');
            });
            $("#printrecursofac_cerrar").click(function() {
                $("#imprimirinformefac").modal("hide");
            });

            $(".imprimirreporteaprobacionpoa").click(function () {
                {#$("#mFecha", $("#modalReportePOA")).datepicker({format:"yyyy-mm-dd"}).on('changeDate', function(ev){ $(this).datepicker('hide'); });#}
                {#$("#mFechadesde", $("#modalReportePOA")).datepicker({format:"yyyy-mm-dd"}).on('changeDate', function(ev){ $(this).datepicker('hide'); });#}
                $("#modalReportePOA").modal({backdrop: 'static', width: '500px'}).modal('show');
            });

            $(".action-cerrar", $("#modalReportePOA")).click(function() {
                $("#modalReportePOA").modal("hide");
            });
            $(".action-imprimir", $("#modalReportePOA")).click(function() {
                var fecha = $("#mFecha", $("#modalReportePOA")).val();
                {#var fechadesde = $("#mFechadesde", $("#modalReportePOA")).val();#}
                var id_facultad = $("#mFacultad", $("#modalReportePOA")).val();
                var periodoid = $("#mPeriodo", $("#modalReportePOA")).val();
                openwindow('POST' ,'/aprobar_silabo', {action:'reporteaprobacionsilabopoa',periodoid:periodoid,id_facultad:id_facultad,fecha:fecha}, '_blank');
            });

            $(".imprimirinforme").click(function () {
                $("#imprimirinforme").modal({backdrop: 'static', width: '500px'}).modal('show');
            });
            $("#printrecurso_cerrar").click(function() {
                $("#imprimirinforme").modal("hide");
            });


            $(".reporteseguimientosilabo").click(function() {
                $("#modalreporteseguimientosilabo").modal({backdrop:'static', width: '1000px'}).modal('show');
            });


            $('#cod_facultad').select2().on("select2:select", function(evt){
                let id = evt.params.data.id;
                $('#cod_carrera').empty().append('<option value="0">--TODAS LAS CARRERAS--</option>').val(0).trigger("change");
                var control = $(this);
                if (id.length > 0) {
                    bloqueointerface();
                    $.ajax({
                        type: "POST",
                        url: "/aprobar_silabo",
                        data: {'action': 'carrerascoordinacion', 'id': id},
                        success: function (data) {
                            $.unblockUI();
                            if (data.result == 'ok') {
                                for (elemento in data.lista) {
                                    $('#cod_carrera').append('<option value="' + data.lista[elemento][0] + '">' + data.lista[elemento][1] + '</option>');
                                }
                            } else {
                                control.val(0).trigger("change");
                                alertaWarning(data.mensaje);
                            }
                        },
                        error: function () {
                            $.unblockUI();
                            control.val(0).trigger("change");
                            alertaDanger("Error de conexion.");
                        },
                        dataType: "json"
                    });
                }

                $("#cod_facultad").attr({"value":(evt.params.data.id)});
            });

            $('#cod_facultadcum').select2().on("select2:select", function(evt){
                let id = evt.params.data.id;
                $('#cod_carrera').empty().append('<option value="0">--TODAS LAS CARRERAS--</option>').val(0).trigger("change");
                var control = $(this);
                if (id.length > 0) {
                    bloqueointerface();
                    $.ajax({
                        type: "POST",
                        url: "/aprobar_silabo",
                        data: {'action': 'carrerascoordinacion', 'id': id},
                        success: function (data) {
                            $.unblockUI();
                            if (data.result == 'ok') {
                                for (elemento in data.lista) {
                                    $('#cod_carreracum').append('<option value="' + data.lista[elemento][0] + '">' + data.lista[elemento][1] + '</option>');
                                }
                            } else {
                                control.val(0).trigger("change");
                                alertaWarning(data.mensaje);
                            }
                        },
                        error: function () {
                            $.unblockUI();
                            control.val(0).trigger("change");
                            alertaDanger("Error de conexion.");
                        },
                        dataType: "json"
                    });
                }

                $("#cod_facultadcum").attr({"value":(evt.params.data.id)});
            });

            ItemsDisplay = function (item) {
                if (item.name){
                    return $('<span>' + item.name+ '</span>');
                }else{
                    return '---------';
                }
            };

            $('#id_facultad_seguimientosilabo').select2().on("select2:select", function(evt){
                let id = evt.params.data.id;
                $('#id_carrera_seguimientosilabo').empty().append('<option value="0">--TODAS LAS CARRERAS--</option>').val(0).trigger("change");
                var control = $(this);
                if (id.length > 0) {
                    bloqueointerface();
                    $.ajax({
                        type: "POST",
                        url: "/aprobar_silabo",
                        data: {'action': 'carrerascoordinacion', 'id': id},
                        success: function (data) {
                            $.unblockUI();
                            if (data.result == 'ok') {
                                for (elemento in data.lista) {
                                    $('#id_carrera_seguimientosilabo').append('<option value="' + data.lista[elemento][0] + '">' + data.lista[elemento][1] + '</option>');
                                }
                            } else {
                                control.val(0).trigger("change");
                                alertaWarning(data.mensaje);
                            }
                        },
                        error: function () {
                            $.unblockUI();
                            control.val(0).trigger("change");
                            alertaDanger("Error de conexion.");
                        },
                        dataType: "json"
                    });
                }

                $("#id_facultad_seguimientosilabo").attr({"value":(evt.params.data.id)});
            });

            $('#id_carrera_seguimientosilabo').select2().on("select2:select", function(evt){
                let id = evt.params.data.id;
                $('#id_nivel_seguimientosilabo').empty().append('<option value="0">--TODOS LOS NIVELES--</option>').val(0).trigger("change");
                var control = $(this);
                if (id.length > 0) {
                    bloqueointerface();
                    $.ajax({
                        type: "POST",
                        url: "/aprobar_silabo",
                        data: {'action': 'niveles_carrera', 'id': id},
                        success: function (data) {
                            $.unblockUI();
                            if (data.result == 'ok') {
                                for (elemento in data.lista) {
                                    $('#id_nivel_seguimientosilabo').append('<option value="' + data.lista[elemento][0] + '">' + data.lista[elemento][1] + '</option>');
                                }
                            } else {
                                control.val(0).trigger("change");
                                alertaWarning(data.mensaje);
                            }
                        },
                        error: function () {
                            $.unblockUI();
                            control.val(0).trigger("change");
                            alertaDanger("Error de conexion.");
                        },
                        dataType: "json"
                    });
                }else{
                    $('#id_nivel_seguimientosilabo').val(0).trigger("change");
                }

                $("#id_carrera_seguimientosilabo").attr({"value":(evt.params.data.id)});
            });

            $("#id_nivel_seguimientosilabo").change(function () {
                var idnivel = $(this).val();
                var idcarrera = $("#id_carrera_seguimientosilabo").val()

                $("#id_paralelo_seguimientosilabo").html('').append('<option selected="selected" value="0">--TODOS LOS PARALELOS</option>');

                if (idnivel !== '0' && idcarrera !== '0') {
                    bloqueointerface();
                    $.ajax({
                        type: "POST",
                        url: "/aprobar_silabo",
                        data: {"action": "paralelos_carrera", "idnivel": idnivel,'idcarrera':idcarrera},
                        success: function (data) {
                            $.unblockUI();
                            if (data.result == 'ok') {
                                for (x = 0; x < data.lista.length; x++) {
                                    elemento = data.lista[x];
                                    $("#id_paralelo_seguimientosilabo").append('<option value="' + elemento[0] + '">' + elemento[1] + '</option>');
                                }
                            } else {
                                smoke.alert(data.mensaje);
                            }
                        },
                        error: function () {
                            $.unblockUI();
                            smoke.alert("Error de conexión.");
                        },
                        dataType: "json"
                    });
                }
            });



            $("#modalreporteseguimientosilabo_imprimir").click(function(){
                var idfacultad = $("#id_facultad_seguimientosilabo").val();
                var idcarrera = $("#id_carrera_seguimientosilabo").val();
                var idnivel = $("#id_nivel_seguimientosilabo").val();
                var idparalelo = $("#id_paralelo_seguimientosilabo").val();
                openwindow('POST' ,'/aprobar_silabo', {action:'generarreporteseguimientosilabo',idfacultad:idfacultad, idcarrera:idcarrera,idnivel:idnivel,idparalelo:idparalelo}, '_blank');
            });

            $("#modalreporteseguimientosilabo_imprimirpdf").click(function () {
                var idfacultad = $("#id_facultad_seguimientosilabo").val();
                var idcarrera = $("#id_carrera_seguimientosilabo").val();
                var idnivel = $("#id_nivel_seguimientosilabo").val();
                var idparalelo = $("#id_paralelo_seguimientosilabo").val();
                openwindow('POST' ,'/aprobar_silabo', {action: 'generarreporteseguimientosilabopdf',idfacultad:idfacultad, idcarrera:idcarrera,idnivel:idnivel,idparalelo:idparalelo },'_blank');

            });

            $("#modalreporteseguimientosilabo_cerrar").click(function () {
                $("#modalreporteseguimientosilabo").modal('hide');
                $("#modalreporteseguimientosilabo select").val(0).trigger("change");
            });

        });
        function vistaprevia(idm, ids){
            openwindow('POST' ,'/aprobar_silabo', {action:'mostrarsilabodigital',idm:idm, ids:ids}, '_blank');
        }
        function vistapreviavdos(idproprag){
            openwindow('POST' ,'/aprobar_silabo', {action:'silaboverdos_pdf',id:idproprag}, '_blank');
        }
        function vistapreviaposgrado(idm, ids){
            openwindow('POST' ,'/aprobar_silabo', {action:'silaboposgradopdf',idm:idm, ids:ids}, '_blank');
        }
        function vistapreviapro(id){
            openwindow('POST' ,'/aprobar_silabo', {action:'programaanalitico_pdf',id:id}, '_blank');
        }
        function vistapreviapro_postgrado(id){
            openwindow('POST' ,'/aprobar_silabo', {action:'programanaliticoposgrado_pdf',id:id}, '_blank');
        }
        function vistapreviaguipractica(ids){
            openwindow('POST' ,'/aprobar_silabo', {action:'practicapdf',ids:ids}, '_blank');
        }
        function vistareporterecursosilabocumfac(){
            var cod_facultad = $("#cod_facultad").val();
            var id_fini_autor = $("#id_fini_autor").val();
            var id_ffin_autor = $("#id_ffin_autor").val();
            var cod_parcial = $("#cod_parcial").val();
            {% if periodo.version_cumplimientorecurso %}
                {% if periodo.version_cumplimientorecurso == 1 %}
                    openwindow('POST' ,'/aprobar_silabo', {action:'reporterecursoscumfac',cod_facultad:cod_facultad,id_fini_autor:id_fini_autor,id_ffin_autor:id_ffin_autor}, '_blank');
                {% endif %}
                {% if periodo.version_cumplimientorecurso == 2 %}
                    openwindow('POST' ,'/aprobar_silabo', {action:'reporterecursoscumfacv2',cod_facultad:cod_facultad,id_fini_autor:id_fini_autor,id_ffin_autor:id_ffin_autor}, '_blank');
                {% endif %}
                {% if periodo.version_cumplimientorecurso == 3 %}
                    var cod_carrera = $("#cod_carrera").val();
                    {#openwindow('POST' ,'/aprobar_silabo', {action:'reporterecursoscompenente',cod_facultad:cod_facultad,id_fini_autor:id_fini_autor,id_ffin_autor:id_ffin_autor}, '_blank');#}
                    url = '/aprobar_silabo?action=reporterecursoscompenente&cod_facultad='+cod_facultad+'&cod_carrera='+cod_carrera+'&cod_parcial='+cod_parcial
                    bloqueointerface();
                    $.get(url, {}, function (data) {
                        $.unblockUI();
                        if (data.result) {
                            $('#btnNotificacionTareas').html(data.btn_notificaciones);
                            mensajeSuccess(data.mensaje)
                        } else {
                            mensajeWarning(data.mensaje)
                        }
                    }, "json");

                {% endif %}
            {% endif %}
        }

        function vistareportecumplimiento(){
            var cod_facultad = $("#imprimirinformecumplimiento #cod_facultadcum").val();
            var id_fini_autor = $("#imprimirinformecumplimiento #id_fini_autor").val();
            var id_ffin_autor = $("#imprimirinformecumplimiento #id_ffin_autor").val();
            var cod_carrera = $("#imprimirinformecumplimiento #cod_carreracum").val();
            var id_mes = $("#imprimirinformecumplimiento #id_mes").val();
            {#openwindow('POST' ,'/aprobar_silabo', {action:'reporterecursoscompenente',cod_facultad:cod_facultad,id_fini_autor:id_fini_autor,id_ffin_autor:id_ffin_autor}, '_blank');#}
            {#url = '/aprobar_silabo?action=reportemensualcumplimiento&cod_facultad='+cod_facultad+'&cod_carrera='+cod_carrera#}
            url = '/aprobar_silabo?action=reportemensualcumplimiento&cod_facultad='+cod_facultad+'&cod_carrera='+cod_carrera+'&id_mes='+id_mes
            bloqueointerface();
            $.get(url, {}, function (data) {
                $.unblockUI();
                if (data.result) {
                    $('#btnNotificacionTareas').html(data.btn_notificaciones);
                    mensajeSuccess(data.mensaje)
                } else {
                    mensajeWarning(data.mensaje)
                }
            }, "json");

        }

        function vistareporterecursosilabofac(){
            var id_facultad = $("#id_facultad").val();
            openwindow('POST' ,'/aprobar_silabo', {action:'reporterecursosfac',id_facultad:id_facultad}, '_blank');
        }
        function vistareporterecursosilabo(){
            var idcarrera = $("#id_carrera").val();
            openwindow('POST' ,'/aprobar_silabo', {action:'reporterecursos',idcarrera:idcarrera}, '_blank');
        }

    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0/js/i18n/es.js"></script>
{% endblock %}
{% block atras %}/{% endblock %}
{% block canvas %}
    <div class='row'>
        <div class='col-lg-12'>
            <div class="headtitle">
                <h3 class="texto-blue">{{ title }}</h3>
                <h6>Aprobación de sílabos</h6>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class='row'>
            <div class="col-sm-6 mb-1">
                <div class="btn-group">
                    <div class="dropbottom" style="text-align: right">
                        <button href="#" class="btn btn-default" style="padding-top: 1em!important;padding-bottom: 1em!important;" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Reportes <i class="fa fa-ellipsis-v" style="font-size:9px" aria-hidden="true"></i>
                        </button>
                        <ul class="dropdown-menu" x-placement="right-start" style="">
                            <li class="dropdown-item"><a href="/aprobar_silabo?action=listadosilabosdigitales"><i class="fa fa-file-excel-o"></i> Excel de Sílabos  </a></li>
                            <li class="dropdown-item"><a href="/aprobar_silabo?action=reportereactivo&periodo={{ periodo.id }}"><i class="fa fa-file-excel-o"></i> Excel de Reactivos</a></li>
                            {% if periodo.version_cumplimientorecurso %}
                                <li class="dropdown-item"><a class="imprimirinformecumfac" href="javascript:;" idcum="{{ periodo.version_cumplimientorecurso }}"><span class="fa fa-file-pdf-o"></span> Reporte consolidado de cumplimiento de actividades y recursos de aprendizaje</a></li>
                            {% endif %}
{#                            <li class="dropdown-item"><a class="imprimirinformecumplimiento" href="javascript:;" idcum="{{ periodo.version_cumplimientorecurso }}"><span class="fa fa-file-pdf-o"></span> Reporte mensual consolidado de cumplimiento del Docente</a></li>#}
                            <li class="dropdown-item"><a class="imprimirinformefac" href="javascript:;"><span class="fa fa-file-pdf-o"></span> Informe de recursos de sílabos por facultad</a></li>
                            <li class="dropdown-item"><a class="imprimirinforme" href="javascript:;"><span class="fa fa-file-pdf-o"></span> Informe de recursos de sílabos por carrera</a></li>
                            <li class="dropdown-item"><a class="imprimirreporteaprobacionpoa" href="javascript:;"><span class="fa fa-file-pdf-o"></span> Reporte de aprobación de sílabos por facultad (POA)</a></li>
                            <li class="dropdown-item"><a class="reporteseguimientosilabo" href="javascript:;"><span class="fa fa-file-pdf-o"></span> Reporte de seguimiento sílabo % total</a></li>
                        </ul>
                    </div>
                </div>
                <div class="btn-group">
                    <div class="dropbottom" style="text-align: right">
                        <button href="#" class="btn btn-default" style="padding-top: 1em!important;padding-bottom: 1em!important;" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Acciones <i class="fa fa-ellipsis-v" style="font-size:9px" aria-hidden="true"></i>
                        </button>
                        <ul class="dropdown-menu" x-placement="right-start" style="">
                            {% if perms.sga.puede_aprobar_guia_practicas %}
                                <li class="dropdown-item">
                                    <a type="button" class="dropdown-item" href="/aprobar_silabo?action=listaguiapractica">
                                        <i class="bi bi-folder2-open"></i>&nbsp;Aprobar guías de pràcticas
                                    </a>
                                </li>
                            {% endif %}
                            <li class="dropdown-item">
                                <a type="button" class="dropdown-item" href="/aprobar_silabo?action=configuracionrecursos">
                                    <i class="bi bi-list"></i>&nbsp;Formatos de recursos.
                                </a>
                            </li>
                            <li class="dropdown-item">
                                <a type="button" class="dropdown-item descargarsilaboszip">
                                    <i class="bi bi-file-zip"></i>&nbsp;Descargar Sílabos(zip).
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div >
            <form class="form-search" onsubmit="return busqueda()" style="width:100%">
                <div class="">
                    <div class="row">
                        <div class="col-sm-5">
                            {% if mallas %}
                                <select id='malla_list' class="select2" style="width: 100%;">
                                    <option  value="0">TODAS LAS CARRERAS</option>
                                    {% for malla in mallas %}
                                        <option value="{{ malla.id }}" {% if mid == malla.id %}selected="selected"{% endif %}>({{ malla.id }}) {{ malla.carrera.nombre_completo_inscripcion }} {% if malla.validamatricula %}(Valida para matrícula){% endif %}</option>
                                    {% endfor %}
                                </select>
                            {% endif %}
                        </div>
                        <div class="col-sm-2">
                            <select id='nivelmalla_list' selected="selected" style="width: 100%;">
                                <option value="0"  >TODOS LOS NIVELES</option>
                                {% for ni in nivelmalla %}
                                    <option value="{{ ni.id }}" {% if nid == ni.id %} selected="selected" {% endif %}>{{ ni }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="col-sm-5">
                            <div class="input-group">
                                <input type="text" id="searchinput" class="form-control searchinput"
                                       placeholder="Buscar por apellidos..." aria-label="Buscar"
                                       aria-describedby="button-addon2" name="s" value="{{ search }}">
                                <div class="input-group-append">
                                    <a href="javascript:;" class="btn btn-primary-old py-1 p-3 {% if search %}btn-search-before{% else %}btn-search{% endif %}" type="button" id="search">
                                        <i class="fa fa-search"></i>
                                    </a>
                                </div>
                                {% if search %}
                                    <div class="input-group-append">
                                        <a title="Ver todo" href="{{ request.path }}"
                                           class="btn btn-primary-old py-1 p-3 tr {% if not search %}btn-search-before{% else %}btn-search{% endif %} action_clean bloqueo_pantalla"><i
                                                class="fas fa-sync-alt" title="Limpiar"></i></a>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </form>
            <table class='table table_primary table_striped' width="100%">
                <thead>
                <tr>
                    <th>Asignatura</th>
                    <th style="width: 140px;text-align: center;">Documento Historicos</th>
                    <th style="width: 90px;text-align: center;">Sílabos Digital</th>
                    <th style="width: 120px;text-align: center;">Programa Analítico</th>

                    <th style="width: 250px;text-align: center;">Reactivos</th>
                    <th style="width: 80px">Acciones</th>
                </tr>
                </thead>
                <tbody>
                {% for profesormateria in profesormaterias %}
                    {% with silaboactual=profesormateria.materia|call:'silabo_actual' %}
                        <tr>
                            <td style="vertical-align: middle">
                                {% if persona.usuario.is_superuser %}
                                    <span class="label label-info">ID_SIL:
                                        {%  if profesormateria.tienecreadosilabo %}
                                            {{ silaboactual.id }}
                                        {% endif %}
                                </span>
                                {% endif %}
                                <h6 style="-webkit-margin-after:0rem">{{ profesormateria.materia.asignatura.nombre }}
                                    - {{ profesormateria.materia.asignaturamalla.nivelmalla }}
                                    {{ profesormateria.materia.paralelo }}
                                    {% if profesormateria.materia.nivel.carrera %}
                                        - {{ profesormateria.materia.nivel.carrera.alias }}
                                    {% elif profesormateria.materia.asignaturamalla.malla.carrera %}
                                        - {{ profesormateria.materia.asignaturamalla.malla.carrera.alias }}
                                    {% endif %}
                                </h6>
                                {% for profesor in profesormateria.materia.mis_profesores %}
                                    <p class="h6" style="font-size: 10px;color: #7C7C7C;margin-bottom:0rem; -webkit-margin-before:0rem; -webkit-margin-after:0rem"><strong>{{ profesor.tipoprofesor }}: </strong>{{ profesor.profesor.persona.nombre_completo_inverso }}</p>
                                {% endfor %}
                                <span style="color: #0e90d2">
                                <strong>
                                    {%  if profesormateria.tienecreadosilabo %}
                                        {% if silaboactual.codigoqr %}
                                            100
                                        {% else %}
                                            {{ silaboactual.estado_planificacion_clases }}
                                        {% endif %}
                                    {% else %}
                                        0
                                    {% endif %}
                                    % Planificado
                                </strong>
                            </span>
                                {% if silaboactual.codigoqr %}
                                    | <span style="font-weight: bold;color: #468847;">APROBADO</span>
                                {% else %}
                                    {% if profesormateria.tienecreadosilabo %}
                                        {% with estadoaprobacion=silaboactual|call:'estado_aprobacion' %}
                                            {%  if estadoaprobacion %}
                                                {% if estadoaprobacion.estadoaprobacion == aprobar %}
                                                    <span class="label label-success">{{ estadoaprobacion.get_estadoaprobacion_display }}</span>
                                                {% else %}
                                                    {% if estadoaprobacion.estadoaprobacion == rechazar %}
                                                        <span class="label label-important">{{ estadoaprobacion.get_estadoaprobacion_display }}</span>
                                                    {% else %}
                                                        <span class="label label-warning">{{ estadoaprobacion.get_estadoaprobacion_display }}</span>
                                                    {% endif %}
                                                {% endif %}
                                            {% endif %}
                                        {% endwith %}
                                    {% endif %}
                                {% endif %}

                                {%  if profesormateria.tienecreadosilabo %}
                                    {% if profesormateria.totalguiapractica > 0 %}
                                        <span class="label label-warning tu" title="Guías de prácticas">{{ profesormateria.totalguiapractica }} GP </span>
                                    {% endif %}
                                    {% if silaboactual.videomagistral %}
                                        <span class="label label-success tu" title="Docente puede subir video magistral">Tiene opción de subir video magistral</span>
                                        {% if profesormateria.materia.cerrado == False %}
                                            <a href="javascript:;" class="subirvideomagistral" codsilabo="{{ silaboactual.id }}" mensaje="DESACTIVAR"><i style="color: #0e90d2; font-size: 14px" class="fa fa-check"></i></a>
                                        {% endif %}
                                    {% else %}
                                        | <span style="font-weight: bold;color: #b94a48;">NO tiene opción de subir video magistral</span>
                                        {% if profesormateria.materia.cerrado == False %}
                                            <a href="javascript:;" class="subirvideomagistral" codsilabo="{{ silaboactual.id }}" mensaje="ACTIVAR"><i style="color: red; font-size: 14px" class="fa fa-close"></i></a>
                                        {% endif %}
                                    {% endif %}
                                {% endif %}
                            </td>
                            <td style="text-align: center; vertical-align: middle">
                                {% if profesormateria.tienesilaboword %}
                                    {#                                    <a href='/aprobar_silabo?action=versilabos&id={{ profesormateria.materia.id }}' class='btn btn-mini btn-success'><span class="fa fa-list"></span> Descargar silabo</a>#}
                                    <i style="color: #0e90d2; font-size: 14px" class="fa fa-check"></i>
                                {% else %}
                                    <i style="color: red; font-size: 14px" class="fa fa-close"></i>
                                {% endif %}
                            </td>
                            <td style="text-align: center; vertical-align: middle">
                                {% if profesormateria.tienecreadosilabo %}
                                    <i style="color: #0e90d2; font-size: 14px" class="fa fa-check"></i>
                                {% else %}
                                    <i style="color: red; font-size: 14px" class="fa fa-close"></i>
                                {% endif %}
                            </td>
                            <td style="text-align: center; vertical-align: middle">
                                {% if profesormateria.tienecreadosilabo %}
                                    <i style="color: #0e90d2; font-size: 14px" class="fa fa-check"></i>
                                {% else %}
                                    <i style="color: red; font-size: 14px" class="fa fa-close"></i>
                                {% endif %}
                            </td>

                            <td style="text-align: center; vertical-align: middle">
                                <table class="table table-bordered" style="margin-bottom: 0px;">
                                    <thead>
                                    <tr>
                                        {% for detalle in profesormateria.materia.detallemodeloevaluativo %}
                                            <th style="text-align: center; width: 125px" >Parcial {{ detalle.parcial }} </th>
                                        {% endfor %}
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        {% for detalle in profesormateria.materia.detallemodeloevaluativo %}
                                            <td style="text-align: center">
                                                {% with reactivo=profesormateria.materia|args:detalle|call:'tiene_reactivo' %}
                                                    {% if not reactivo %}
                                                        {% if perms.sga.puede_aprobar_silabo  %}
                                                            <a class="btn btn-mini btn-success confirmacionmodal tu"  href="javascript:;" nhref="/aprobar_silabo?action=confirmarreactivo&idmate={{ profesormateria.materia.id }}&iddetalle={{ detalle.id }}{% if search %}&s={{ search }}{% endif %}{% if nid %}&nid={{ nid }}{% endif %}{% if mid %}&mid={{ mid }}{% endif %}"><i class="fa fa-check-circle"></i> Entrega</a> <br>
                                                        {% endif %}
                                                    {% else %}
                                                        {% if perms.sga.puede_aprobar_silabo  %}
                                                            <a class="btn btn-mini btn-danger confirmacionmodal tu" href="javascript:;" nhref="/aprobar_silabo?action=eliminarconfirmacion&idmate={{ profesormateria.materia.id }}&iddetalle={{ detalle.id }}{% if search %}&s={{ search }}{% endif %}{% if nid %}&nid={{ nid }}{% endif %}{% if mid %}&mid={{ mid }}{% endif %}"><i class="fa fa-trash"></i> {{ reactivo.fecha|date:'Y-m-d' }}</a> <br>
                                                        {% endif %}
                                                    {% endif %}
                                                {% endwith %}
                                            </td>
                                        {% endfor %}
                                    </tr>
                                    </tbody>
                                </table>
                            </td>
                            <td style="text-align: center; vertical-align: middle">
                                <div class="dropdown dropstart">
                                    <a href="javascript:void(0);" class="btn-icon btn btn-ghost btn-sm rounded-circle" data-bs-toggle="dropdown" data-offset="-140" aria-haspopup="true" aria-expanded="false">
                                        <i class="fa fa-ellipsis-v"></i>
                                    </a>
                                    <div class="dropdown-menu">
                                        {% if profesormateria.tienecreadosilabo %}
                                            {% if profesormateria.tienesilaboword %}
                                                <li><a class="dropdown-item" href='/aprobar_silabo?action=versilabos&id={{ profesormateria.materia.id }}'><i class="fa fa-list-alt"></i> Descargar silabo historico</a></li>
                                            {% endif %}
                                            {% if profesormateria.tienecreadosilabo %}
                                                {% if profesormateria.materia.asignaturamalla.malla.carrera.coordinacion_carrera.id == 7 %}
                                                    {% if silaboactual.codigoqr %}
                                                        <li><a class="dropdown-item" target="_blank" href="https://sga.unemi.edu.ec/media/qrcode/silabodocente/qr_silabo_{{ silaboactual.id|encrypt }}.pdf?v={{ horasegundo }}"><i class="fa fa-qrcode" ></i> Sílabo digital QR</a></li>
                                                    {% else %}
                                                        <li><a class="dropdown-item" onclick="vistapreviaposgrado({{ profesormateria.materia.id }}, {{ silaboactual.id }})"><i class="fa fa-file-pdf-o" ></i> Sílabo digital</a></li>
                                                    {% endif %}
                                                {% else %}
                                                    {% if silaboactual.versionsilabo == 1 %}
                                                        <li><a class="dropdown-item" onclick="vistaprevia({{ profesormateria.materia.id }}, {{ silaboactual.id }})"><i class="fa fa-file-pdf-o" ></i> Sílabo digital v{{ silaboactual.versionsilabo }}</a></li>
                                                    {% endif %}
                                                    {% if silaboactual.versionsilabo == 2 %}
                                                        {% if silaboactual.codigoqr %}
                                                            <li><a class="dropdown-item" target="_blank" href="https://sga.unemi.edu.ec/media/qrcode/silabodocente/qr_silabo_{{ silaboactual.id|encrypt }}.pdf?v={{ horasegundo }}"><i class="fa fa-qrcode" ></i> Sílabo digital QR</a></li>
                                                        {% else %}
                                                            <li><a class="dropdown-item" onclick="vistapreviavdos('{{ silaboactual.id|encrypt }}')"><i class="fa fa-file-pdf-o" ></i> Sílabo digital v{{ silaboactual.versionsilabo }}</a></li>
                                                        {% endif %}
                                                    {% endif %}
                                                {% endif %}
                                            {% endif %}
                                            {% if profesormateria.tienecreadosilabo %}
                                                {% if profesormateria.materia.asignaturamalla.malla.carrera.coordinacion_carrera.id == 7 %}
                                                    <li><a class="dropdown-item" onclick="vistapreviapro_postgrado({{ profesormateria.materia.id}})" href="javascript:;"><i class="fa fa-file-pdf-o"></i> Programa Analítico</a></li>
                                                {% else %}
                                                    <li><a class="dropdown-item" onclick="vistapreviapro({{ profesormateria.materia.id}})" href="javascript:;"><i class="fa fa-file-pdf-o"></i> Programa Analítico</a></li>
                                                {% endif %}
                                                <li><a class="dropdown-item listar_silabos" idpm="{{ profesormateria.materia.id}}" href="javascript:;"><i class="fa fa-check"></i> Aprobar Sílabo</a></li>
                                                {% if periodo.tipo.id == 2 %}
                                                    {% if perms.sga.puede_aprobar_recurso %}
                                                        <li><a class="dropdown-item listar_recursos" idpm="{{ profesormateria.materia.id}}" href="javascript:;"><i class="fa fa-check"></i>Aprobar Recursos</a></li>
                                                    {% endif %}
                                                {% endif %}
                                                {% if silaboactual.esta_aprobado %}
                                                    <li><a class="dropdown-item" href='/aprobar_silabo?action=seguimientosilabo&id={{ profesormateria.materia.id }}'><i class="fa fa-eye"></i> Seguimiento Sílabo</a></li>
                                                {% endif %}
                                                {% if profesormateria.totalguiapractica > 0 %}
                                                    <li><a class="dropdown-item" onclick="vistapreviaguipractica('{{ silaboactual.id }}')" href="javascript:;"><i class="fa fa-file-pdf-o"></i> Imprimir guías de prácticas</a></li>
                                                    <li><a class="dropdown-item" id="{{ silaboactual.id }}" class="guiapracticas" href="javascript:;"><i class="fa fa-list"></i> Lista de guías de prácticas</a></li>
                                                {% endif %}
                                            {% endif %}
                                            {% if profesormateria.materia.idcursomoodle %}
                                                {% if profesormateria.materia.asignaturamalla.malla.modalidad_id == 1 or profesormateria.materia.asignaturamalla.malla.modalidad_id == 2 %}
                                                    <li><a class="dropdown-item" href="{{ periodo.urlmoodle }}/course/view.php?id={{ profesormateria.materia.idcursomoodle }}" target="_blank"><span class="fa fa-link"></span> Ir al curso de moodle</a></li>
                                                {% elif profesormateria.materia.asignaturamalla.malla.modalidad_id == 3 %}
                                                    <li><a class="dropdown-item" href="{{ periodo.urlmoodleenlinea }}/course/view.php?id={{ profesormateria.materia.idcursomoodle }}" target="_blank"><span class="fa fa-link"></span> Ir al curso de moodle</a></li>
                                                {% endif %}
                                            {% endif %}
                                        {% endif %}
                                    </div>
                                </div>
                            </td>
                        </tr>
                    {% endwith %}
                {% endfor %}
                </tbody>
            </table>
            {% if profesormaterias %}
                <div class="card-footer border-top-0">
                    {% include 'paginacionb4.html' %}
                </div>
            {% endif %}
        </div>
    </div>
    <div class="modal fade static" id="itemspanelsilabos" style="display: none;">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="paneltitle">Listado de sílabos registrados</h3>
                </div>
                <div class="modal-body panelbody" style="padding: 12px">
                </div>
                <div class="modal-footer">
                    <table class="pull-right">
                        <tr>
                            <td><a href="javascript:;" class="btn btn-cerrar btn-info">Cerrar</a></td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade static" id="itemspanelrecursos" style="display: none;">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="paneltitle">Listado de recursos registrados</h3>
                </div>
                <div class="modal-body panelbodyrecursos" style="padding: 12px">
                </div>
                <div class="modal-footer">
                    <table class="pull-right">
                        <tr>
                            <td><a href="javascript:;" class="btn btn-cerrarrecurso btn-info">Cerrar</a></td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade static" id="detalleguiaspracticasmodal" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Listado de guías de prácticas</h3>
        </div>
        <div class="modal-body" id="detalleguiaspracticasmodal_body"></div>
        <div class="modal-footer">
            <div style="float: right">
                <a href="javascript:;" id="detalleguiaspracticasmodal_cerrar" class="btn btn-info"> Cerrar</a>
            </div>
        </div>
    </div>
    <div class="modal fade static" id="imprimirinformefac" style="display: none;">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="paneltitleprintrecursofac">Reporte recursos sílabos</h3>
                </div>
                <div class="modal-body" id="printrecursofac_body">
                    <select name="id_facultad" id="id_facultad" class="select2" style="width: 100%;">
                        {% for coordinacion in persona.mis_coordinaciones %}
                            <option value="{{ coordinacion.id }}">{{ coordinacion.nombre }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="modal-footer">
                    <div style="float: left">
                        <a href="javascript:;" onclick="vistareporterecursosilabofac()" class="btn btn-warning"> Imprimir</a>
                        <a href="javascript:;" id="printrecursofac_cerrar" class="btn btn-danger"> Cerrar</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade static" id="imprimirinformecumfac" style="display: none;">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="paneltitleprintrecursofac">Reporte de cumplimiento actividades y recursos de aprendizaje</h3>
                </div>
                <div class="modal-body" id="printrecursofac_body">
                    <input placeholder="fecha desde" type="date" value="{{ periodo.inicio|date:"Y-m-d" }}" name="fini" id="id_fini_autor" style="width: 100px">
                    <input placeholder="fecha hasta" type="date" value="{{  periodo.fin|date:"Y-m-d" }}" name="ffin" id="id_ffin_autor" style="width: 100px">
                    <select name="cod_facultad" id="cod_facultad" class="select2" style="width: 100%;">
                        {% for coordinacion in persona.mis_coordinaciones %}
                            <option value="{{ coordinacion.id }}">{{ coordinacion.nombre }}</option>
                        {% endfor %}
                    </select>
                    <select name="cod_carrera" id="cod_carrera" class="select2" style="width: 100%;">
                        <option value="0">--TODAS LAS CARRERA--</option>
                    </select>
                    <select name="cod_parcial" id="cod_parcial" class="select2" style="width: 100%;">
                        <option value="1">--PRIMER PARCIAL--</option>
                        <option value="12">--TODOS LOS PARCIALES--</option>
                    </select><br><br>
                </div>
                <div class="modal-footer">
                    <div id="idoculto">
                        <table class='table table-bordered table-striped'>
                            <thead>
                            <th>UNIDADES</th>
                            <th>FECHA INICIO</th>
                            <th>FECHA FIN</th>
                            <th>TIPO PROFESOR</th>
                            </thead>
                            <tbody>
                            {% for uni in listadounidades %}
                                <tr>
                                    <td>{{ uni.0 }}</td>
                                    <td>{{ uni.2|date:"Y-m-d" }}</td>
                                    <td>{{ uni.3|date:"Y-m-d" }}</td>
                                    <td>{{ uni.4 }}</td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                    <div style="text-align: left">
                        <a href="javascript:;" onclick="vistareporterecursosilabocumfac()" class="btn btn-warning"> Imprimir</a>
                        <a href="javascript:;" id="printrecursocumfac_cerrar" class="btn btn-danger"> Cerrar</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade static" id="imprimirinformecumplimiento" style="display: none;">
        <div class="modal-dialog modal-dialog-centered modal-md" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="paneltitleprintrecursofac">Reporte mensual consolidado de cumplimiento</h3>
                </div>
                <div class="modal-body" id="printrecursofac_body">
                    <label for="id_mes">Selecciona un mes correspondiente al periodo en curso:</label>
                    <select name="id_mes" id="id_mes" class="select2" style="width: 100%;">
                        <option value="0">--Seleccione un mes--</option>
                        {% for mes in listadomeses %}
                            <option value="{{ mes.month }}" {% if mes.month == nMes %}selected{% endif %}>{{ mes|nombremes|title }}</option>
                        {% endfor %}
                    </select>
                    <label for="cod_facultadcum">Selecciona una coordinación:</label>
                    <select name="cod_facultadcum" id="cod_facultadcum" class="select2" style="width: 100%;">
                        {% for coordinacion in persona.mis_coordinaciones %}
                            <option value="{{ coordinacion.id }}">{{ coordinacion.nombre }}</option>
                        {% endfor %}
                    </select>
                    <label for="cod_carreracum">Selecciona una carrera:</label>
                    <select name="cod_carreracum" id="cod_carreracum" class="select2" style="width: 100%;">
                        <option value="0">--TODAS LAS CARRERAS--</option>
                    </select><br><br>
                </div>
                <div class="modal-footer">
                    <div style="text-align: left">
                        <a href="javascript:;" onclick="vistareportecumplimiento()" class="btn btn-warning"> Imprimir</a>
                        <a href="javascript:;" id="cumplimiento_cerrar" class="btn btn-danger"> Cerrar</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade static" id="imprimirinforme" style="display: none;">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="paneltitleprintrecurso">Reporte recursos sílabos</h3>
                </div>
                <div class="modal-body" id="printrecurso_body">
                    <select name="id_carrera" id="id_carrera" class="select2" style="width: 100%;">
                        {% for carrera in persona.mis_carreras %}
                            <option value="{{ carrera.id }}">{{ carrera.nombre }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="modal-footer">
                    <div style="float: left">
                        <a href="javascript:;" onclick="vistareporterecursosilabo()" class="btn btn-warning"> Imprimir</a>
                        <a href="javascript:;" id="printrecurso_cerrar" class="btn btn-danger"> Cerrar</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade static" id="modalReportePOA" style="display: none;">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="paneltitleprintrecurso">Reporte de aprobación de sílabos</h3>
                </div>
                <div class="modal-body" id="printrecurso_body">
                    <div class="row-fluid">
                        <div class="span3"><label>Periodo: </label></div>
                        <div class="span9">
                            <select name="mPeriodo" id="mPeriodo" class="select2">
                                {% for periodo2 in periodos %}
                                    <option value="{{ periodo2.id }}"
                                            {% if periodo2.id == periodo.id %}selected{% endif %}>{{ periodo2.nombre }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <div class="row-fluid">
                        <div class="span3"><label>Fecha de Corte (hasta): </label></div>
                        <div class="span9"><input placeholder="{{ d|date:'Y-m-d' }}" type="date" value="" name="mFecha" id="mFecha" style=""></div>
                    </div>
                    <div class="row-fluid">
                        <div class="span3"><label>Facultad: </label></div>
                        <div class="span9">
                            <select name="mFacultad" id="mFacultad" style="width: 100%;">
                                {% for coordinacion in persona.mis_coordinaciones %}
                                    <option value="{{ coordinacion.id }}">{{ coordinacion.nombre }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <div style="float: left">
                        <a href="javascript:;" class="btn btn-success action-imprimir"> Imprimir</a>
                        <a href="javascript:;" class="btn btn-danger action-cerrar"> Cerrar</a>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="modal fade static" id="modalreporteseguimientosilabo" style="display: none;">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="paneltitleprintrecursofac">Reporte de seguimiento a sílabos</h3>
                </div>
                <div class="modal-body" id="modalreporteseguimientosilabo_body">
                    <select name="id_facultad_seguimientosilabo" id="id_facultad_seguimientosilabo" class="select2" style="width: 100%;">
                        <option value="0">--TODAS LAS FACULTADES--</option>
                        {% for coordinacion in persona.mis_coordinaciones %}
                            <option value="{{ coordinacion.id }}">{{ coordinacion.nombre }}</option>
                        {% endfor %}
                    </select><br><br>
                    <select name="id_carrera_seguimientosilabo" id="id_carrera_seguimientosilabo" class="select2" style="width: 100%;">
                        <option value="0">--TODAS LAS CARRERA--</option>
                    </select><br><br>
                    <select name="id_nivel_seguimientosilabo" id="id_nivel_seguimientosilabo" class="select2" style="width: 100%;">
                        <option value="0">--TODOS LOS NIVEL--</option>
                    </select><br><br>
                    <select name="id_paralelo_seguimientosilabo" id="id_paralelo_seguimientosilabo" class="select2" style="width: 100%;">
                        <option value="0">--TODOS LOS PARALELO--</option>
                    </select><br><br>
                </div>
                <div class="modal-footer">
                    <div style="float: left">
                        <a href="javascript:;" id="modalreporteseguimientosilabo_imprimir" class="btn btn-warning"><i class="fa fa-file-excel-o"></i> Imprimir excel</a>
                        <a href="javascript:;" id="modalreporteseguimientosilabo_imprimirpdf" class="btn btn-success"><i class="fa fa-file-pdf-o"></i> Imprimir pdf</a>
                        <a href="javascript:;" id="modalreporteseguimientosilabo_cerrar" class="btn btn-danger"> Cerrar</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}
