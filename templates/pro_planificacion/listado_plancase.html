{% extends "ajaxformbs.html" %}
{% load sga_extras %}
{% block heading %}
    <script type="text/javascript">
        var itemsblib =1;
        var lista_items1 = [];
        var obj=0;
        var enf=0;
        var rec=0;
        var eva=0;

        $(function() {
            $("#id_objetivo").css({'text-transform': 'none'});
            $("#id_enfoque").css({'text-transform': 'none'});
            $("#id_enfoquedos").css({'text-transform': 'none'});
            $("#id_enfoquetres").css({'text-transform': 'none'});
            $("#id_recurso").css({'text-transform': 'none'});
            $("#id_evaluacion").css({'text-transform': 'none'});
            $("#id_subtema").css({'text-transform': 'none'});
            $("#id_subtema").addClass("validate[required]");
            $("#id_tema").addClass("validate[required]");
            $("#desplegar_obj").each(function () {
                $(this).trigger('click');
            });

            $(".eliminarcomponente").click(function(){
                var codcomp = $(this).attr('codcomp');
                smoke.confirm("¿Está seguro de eliminar componente.", function(e){
                    if (e){
                        bloqueointerface();
                        $.ajax({
                            type: "POST",
                            url: "/pro_planificacion",
                            data: {'action': 'deletecomponente','id':codcomp },
                            error: function () {
                                $.unblockUI();
                                smoke.alert("Error al obtener los datos.");
                            },
                            success: function (data) {
                                if (data.result == "ok") {
                                    location.reload();
                                } else {
                                    $.unblockUI();
                                    smoke.alert(data.mensaje);
                                }
                            }
                        });
                    }
                }, {
                    ok: "SI,ELIMINAR",
                    cancel: "NO,CANCELAR",
                    classname: "custom-class",
                    reverseButtons: true
                });

            });

            $(".editar_objetivo").click(function() {
                var id = $(this).attr('ids');
                $.get("/pro_planificacion", {'action':'editarobjetivoaprendizaje', 'ids': id}, function(data) {
                    var dato;
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $("#itemspanelo").modal({backdrop:'static', width: '610px'}).modal('show');
                        $("#id_objetivo").val(data.objetivo);
                        $("#idso").val(data.ids);
                    }
                }, 'json');

            });
            $("#itemspanelo .btn-cerrar").click(function() {
                $("#itemspanelo").modal("hide");
            });
            $("#itemspanelo #adicionarobj").click(function(){
                var cont = $("#id_objetivo").val();
                if (cont.length >0) {
                    var ids = $("#idso").val();
                    var formdata = new FormData($("#formobj")[0]);
                    try {
                        formdata.append("objetivo", JSON.stringify(cont));
                    } catch (err){
                        console.log(err.message);
                    }
                    bloqueointerface();
                    $.ajax({
                        type: "POST",
                        url: "/pro_planificacion",
                        data: formdata,
                        success: function(data) {
                            if (data.result == 'ok') {
                                bloqueointerface();
                                $("#itemspanelo").modal("hide");
                                location.href="/pro_planificacion?action=planclase&silaboid="+data.ids;
                            } else {
                                $.unblockUI();
                                smoke.alert(data.mensaje);
                            }
                        },
                        error: function() {
                            $.unblockUI();
                            smoke.alert("Error al enviar los datos.");
                        },
                        dataType: "json",
                        cache: false,
                        contentType: false,
                        processData: false
                    });
                }else{
                    smoke.alert("Es obligatirio llenar la información Objetivo Apendizaje");
                }
            });
            $(".editar_enfoque").click(function() {
                var id = $(this).attr('ids');
                $.get("/pro_planificacion", {'action':'editenfoquemetodologico', 'ids': id}, function(data) {
                    var dato;
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $("#itemspanelenf").modal({backdrop:'static', width: '610px'}).modal('show');
                        $("#id_enfoque").val(data.enfoque);
                        $("#id_enfoquedos").val(data.enfoquedos);
                        $("#id_enfoquetres").val(data.enfoquetres);
                        $("#idse").val(data.ids);
                    }
                }, 'json');

            });
            $("#itemspanelenf .btn-cerrar").click(function() {
                $("#itemspanelenf").modal("hide");
            });
            $("#itemspanelenf #adicionarenf").click(function(){
                var cont = $("#id_enfoque").val();
                var idenfoquedos = $("#id_enfoquedos").val();
                var idenfoquetres = $("#id_enfoquetres").val();
                if (cont.length >0) {
                    var ids = $("#idse").val();
                    var formdata = new FormData($("#formenf")[0]);
                    try {
                        formdata.append("enfoque", JSON.stringify(cont));
                        formdata.append("enfoquedos", JSON.stringify(idenfoquedos));
                        formdata.append("enfoquetres", JSON.stringify(idenfoquetres));
                    } catch (err) {
                        console.log(err.message);
                    }
                    bloqueointerface();
                    $.ajax({
                        type: "POST",
                        url: "/pro_planificacion",
                        data: formdata,
                        success: function (data) {
                            if (data.result == 'ok') {
                                bloqueointerface();
                                $("#itemspanelenf").modal("hide");
                                location.href = "/pro_planificacion?action=planclase&silaboid=" + data.ids;
                            } else {
                                $.unblockUI();
                                smoke.alert(data.mensaje);
                            }
                        },
                        error: function () {
                            $.unblockUI();
                            smoke.alert("Error al enviar los datos.");
                        },
                        dataType: "json",
                        cache: false,
                        contentType: false,
                        processData: false
                    });
                }else{
                    smoke.alert("Es obligatirio llenar la información Enfoque Metodológico");
                }
            });
            $(".editar_recurso").click(function() {
                var id = $(this).attr('ids');
                $.get("/pro_planificacion", {'action':'editrecursodidactico', 'ids': id}, function(data) {
                    var dato;
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $("#itemspanelrec").modal({backdrop:'static', width: '610px'}).modal('show');
                        $("#id_recurso").val(data.recurso);
                        $("#idsr").val(data.ids);
                    }
                }, 'json');
            });
            $("#itemspanelrec .btn-cerrar").click(function() {
                $("#itemspanelrec").modal("hide");
            });
            $("#itemspanelrec #adicionarrec").click(function(){
                var cont = $("#id_recurso").val();
                if (cont.length >0) {
                    var ids = $("#idsr").val();
                    var formdata = new FormData($("#formrec")[0]);
                    try {
                        formdata.append("recurso", JSON.stringify(cont));
                    } catch (err){
                        console.log(err.message);
                    }
                    bloqueointerface();
                    $.ajax({
                        type: "POST",
                        url: "/pro_planificacion",
                        data: formdata,
                        success: function(data) {
                            if (data.result == 'ok') {
                                bloqueointerface();
                                $("#itemspanelrec").modal("hide");
                                location.href="/pro_planificacion?action=planclase&silaboid="+data.ids;
                            } else {
                                $.unblockUI();
                                smoke.alert(data.mensaje);
                            }
                        },
                        error: function() {
                            $.unblockUI();
                            smoke.alert("Error al enviar los datos.");
                        },
                        dataType: "json",
                        cache: false,
                        contentType: false,
                        processData: false
                    });
                }else{
                    smoke.alert("Es obligatirio llenar la información Recursos Didácticos");
                }
            });

            $(".editar_evaluacion").click(function() {
                var id = $(this).attr('ids');

                $.get("/pro_planificacion", {'action':'editevaluacion', 'ids': id}, function(data) {
                    var dato;
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $("#itemspaneleva").modal({backdrop:'static', width: '610px'}).modal('show');
                        $("#id_evaluacion").val(data.evaluacion);
                        $("#idsv").val(data.ids);
                    }
                }, 'json');

            });
            $("#itemspaneleva .btn-cerrar").click(function() {
                $("#itemspaneleva").modal("hide");
            });
            $("#itemspaneleva #adicionareva").click(function(){
                var cont = $("#id_evaluacion").val();
                if (cont.length >0) {
                    var ids = $("#idsv").val();
                    var formdata = new FormData($("#formeva")[0]);
                    try {
                        formdata.append("evaluacion", JSON.stringify(cont));
                    } catch (err){
                        console.log(err.message);
                    }
                    bloqueointerface();
                    $.ajax({
                        type: "POST",
                        url: "/pro_planificacion",
                        data: formdata,
                        success: function(data) {
                            if (data.result == 'ok') {
                                bloqueointerface();
                                $("#itemspaneleva").modal("hide");
                                location.href="/pro_planificacion?action=planclase&silaboid="+data.ids;
                            } else {
                                $.unblockUI();
                                smoke.alert(data.mensaje);
                            }
                        },
                        error: function() {
                            $.unblockUI();
                            smoke.alert("Error al enviar los datos.");
                        },
                        dataType: "json",
                        cache: false,
                        contentType: false,
                        processData: false
                    });
                }else{
                    smoke.alert("Es obligatirio llenar la información Evaluación");
                }
            });
            $(".adicionar_evaluacioncomp").click(function() {
                $('#id_componente').empty().append('<option value="">---------</option>').val(0).trigger("change");
                var id = $(this).attr('ids');
                $("#id_silsemana").val(id);
                bloqueointerface();
                $.get("/pro_planificacion", {'action':'consultacomponentes', 'idsem': id}, function(data) {
                    var dato;
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $("#itemspanelevacomp").modal({backdrop:'static', width: '610px'}).modal('show');

                        for (elemento in data.listadocomponentes) {
                            $('#id_componente').append('<option value="' + data.listadocomponentes[elemento][0] + '">' + data.listadocomponentes[elemento][1] + '</option>');
                        }
                        {#$("#id_evaluacion").val(data.evaluacion);#}
                        {#alert(data.listadocomponentes)#}
                        {#$("#idcomp").val(data.ids);#}
                    }
                }, 'json');

            });
            $("#itemspanelevacomp #adicionarevacomp").click(function(){
                var id_silsemana = $("#id_silsemana").val();
                var id_componente = $("#id_componente").val();
                bloqueointerface();
                if (id_componente == 0){
                    $.unblockUI();
                    smoke.alert("Favor seleccione componente.");
                    return false;
                }
                $.ajax({
                    type: "POST",
                    url: "/pro_planificacion",
                    data: {'action': 'addcomponente', 'id_silsemana': id_silsemana, 'id_componente': id_componente },
                    error: function () {
                        $.unblockUI();
                        smoke.alert("Error al obtener los datos.");
                    },
                    success: function (data) {
                        if (data.result == "ok") {
                            $("#itemspanelevacomp").modal("hide");
                            location.reload();
                        } else {
                            $.unblockUI();
                            smoke.alert(data.mensaje);
                        }
                    }
                });


            });
            $("#itemspanelevacomp .btn-cerrarcomp").click(function() {
                $("#itemspanelevacomp").modal("hide");
            });
            $("#itemspanelduplicar_silabo .btn-cerrar").click(function() {
                $("#itemspanelduplicar_silabo").modal("hide");
            });

            $(".duplicar_silabo").click(function() {
                var id = $(this).attr('ids');
                $.get("/pro_planificacion", {'action':'duplicar_silabo', 'ids': id}, function(data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".panelbody").html(data.data);
                        $("#itemspanelduplicar_silabo").modal({backdrop:'static', width: '610px'}).modal('show');
                    }
                }, 'json');

            });

            $(".duplicar_silabo_carrera").click(function() {
                var id = $(this).attr('ids');
                //alert("Hola");
                $.get("/pro_planificacion", {'action':'duplicar_silabo_carrera', 'ids': id}, function(data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".panelbody").html(data.data);
                        $("#itemspanelduplicar_silabocarrera").modal({backdrop:'static', width: '610px'}).modal('show');
                    }
                }, 'json');

            });

            $("#itemspanelduplicar_silabocarrera .btn-cerrar").click(function() {
                $("#itemspanelduplicar_silabocarrera").modal("hide");
            });

            $(".duplicar_silabo_otro_docente").click(function() {
                var id = $(this).attr('ids');
                $.get("/pro_planificacion", {'action':'duplicar_silabo_otro_docente', 'ids': id}, function(data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".panelbody").html(data.data);
                        $("#itemspanelduplicar_silabo").modal({backdrop:'static', width: '700px'}).modal('show');
                    }
                }, 'json');

            });
            $("#itemspaneldetalle_temas_subtemas .btn-cerrar").click(function() {
                $("#itemspaneldetalle_temas_subtemas").modal("hide");
            });
            $(".detalle_tst_registrar").click(function() {
                var id = $(this).attr('ids');
                $.get("/pro_planificacion", {'action':'detalle_temasxplanificar', 'ids': id}, function(data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".panelbody").html(data.data);
                        $("#itemspaneldetalle_temas_subtemas").modal({backdrop:'static', width: '1000px'}).modal('show');
                    }
                }, 'json');
            });
            $("#itemspanelplanificacionsalida .btn-cerrar").click(function() {
                $("#itemspanelplanificacionsalida").modal("hide");
            });
            $(".addplanificacionsalida").click(function () {
                var id = $(this).attr('ids');
                $.unblockUI();
                $("#itemspanelplanificacionsalida").modal({backdrop:'static', width: '610px'}).modal('show');
                $("#ids").val(id);
            });
            $("#adicionarplanificacionsalida").click(function () {
                var cont = $("#contenido").val();
                if (cont.length >0) {
                    var ids = $("#ids").val();
                    $.ajax({
                        type: "POST",
                        url: "/pro_planificacion",
                        data: {'action': 'addplanificacion_salida', 'ids': ids, 'cont':cont},
                        success: function (data) {
                            if (data.result == 'ok') {
                                $.unblockUI();
                                bloqueointerface();
                                $("#itemspanelplanificacionsalida").modal("hide");
                                location.href="/pro_planificacion?action=planclase&silaboid="+data.ids;
                            } else {
                                $.unblockUI();
                                smoke.alert(data.mensaje);
                            }
                        },error: function () {
                            $.unblockUI();
                            control.val(0).trigger("change");
                            smoke.alert("Error de conexion.");
                        },
                        dataType: "json"
                    });
                }else{
                    smoke.alert("Es obligatirio llenar la información de descricripcion de la salida");
                }
            });
            $("#itemspaneleditplanificacionsalida .btn-cerrar").click(function() {
                $("#itemspaneleditplanificacionsalida").modal("hide");
            });
            $(".editplanificacionsemanalsalida").click(function () {
                var id = $(this).attr('ids');
                $.unblockUI();
                $.get("/pro_planificacion", {'action':'editplanificacion_salida', 'ids': id}, function(data) {
                    if (data.result == 'ok') {
                        $("#itemspaneleditplanificacionsalida").modal({backdrop:'static', width: '610px'}).modal('show');
                        $("#id_contenido").val(data.descripcion);
                        $("#ids").val(id);
                    }
                }, 'json');
            });
            $("#editplanificacionsalida").click(function () {
                var cont = $("#id_contenido").val();
                if (cont.length >0) {
                    var id = $("#ids").val();
                    $.ajax({
                        type: "POST",
                        url: "/pro_planificacion",
                        data: {'action': 'editplanificacion_salida', 'ids': id, 'cont':cont},
                        success: function (data) {
                            if (data.result == 'ok') {
                                $.unblockUI();
                                bloqueointerface();
                                $("#itemspanelplanificacionsalida").modal("hide");
                                location.href="/pro_planificacion?action=planclase&silaboid="+data.ids;
                            } else {
                                $.unblockUI();
                                smoke.alert(data.mensaje);
                            }
                        },error: function () {
                            $.unblockUI();
                            control.val(0).trigger("change");
                            smoke.alert("Error de conexion.");
                        },
                        dataType: "json"
                    });
                }else{
                    smoke.alert("Es obligatirio llenar la información de descricripcion de la salida");
                }
            });
            $("#id_tema").change(function () {
                var id = $(this).val();
                if (id.length > 0){
                    $("#id_subtema").prop( "disabled", false );
                }else{
                    $("#id_subtema").prop( "disabled", true );
                }
                {#                alert(id);#}
            });
            $("#itemspaneladicionarsubtemas .btn-cerrar").click(function() {
                $("#itemspaneladicionarsubtemas").modal("hide");
            });
            $(".adicionarsubtemas").click(function () {
                var id = $(this).attr('ids');
                $.unblockUI();
                $.get("/pro_planificacion", {'action':'adicionar_subtemas', 'ids': id}, function(data) {
                    if (data.results) {
                        $('#id_tema').empty().append('<option value="">---------</option>').val(0).trigger("change");
                        for (elemento in data.listatema) {
                            $('#id_tema').append('<option value="' + data.listatema[elemento][0] + '">' + data.listatema[elemento][1] + '</option>');
                        }
                        $("#itemspaneladicionarsubtemas").modal({backdrop:'static', width: '610px'}).modal('show');
                        $("#ids").val(id);
                        $(".elementosubtema").remove();
                        for (elemento in data.lista){
                            $("#contenidosubtemas").append('<tr class="elementosubtema"  id="fila_' + itemsblib + '">' +
                                '<td style="text-align: center ; display:none" class="idtema">' + data.lista[elemento][0] + '</td>' +
                                '<td width="45%" style="text-align: left;" class="tema">' + data.lista[elemento][1] + '</td>' +
                                '<td width="45%" style="text-align: left;" class="subtema">' + data.lista[elemento][2] + '</td>' +
                                '<td style="text-align:center;" width="5%"><a class="btn btn-mini btn-danger tu eliminarsubtema" title="Eliminar"><i class="fa fa-trash"></i> Eminiar</a></td>' +
                                '</tr>');
                            itemsblib += 1;
                            actualizar_lista_subtemas();
                            eliminar__subtemas();
                        }
                    }
                }, 'json');
            });
            $(".addsubtema").click(function () {
                var idt = $("#id_tema").val();
                var tema = $("#id_tema option:selected").text();
                var subtema = $("#id_subtema").val();
                if (subtema.length>0) {
                    if (leer_lista_subtemas(subtema) == 0) {
                        $("#contenidosubtemas").append('<tr class="elementosubtema"  id="fila_' + itemsblib + '">' +
                            '<td style="text-align: center ; display:none" class="idtema">' + idt + '</td>' +
                            '<td width="45%" style="text-align: left;" class="tema">' + tema + '</td>' +
                            '<td width="45%" style="text-align: left;" class="subtema">' + subtema + '</td>' +
                            '<td style="text-align:center;" width="5%"><a class="btn btn-mini btn-danger tu eliminarsubtema" title="Eliminar"><i class="fa fa-trash"></i> Eminiar</a></td>' +
                            '</tr>');
                        itemsblib += 1;
                        actualizar_lista_subtemas();
                        eliminar__subtemas();
                        $("#adicionarsubtema").prop( "disabled", false );
                    }
                    else {
                        smoke.alert("El subtema ya se encuentra registrado");
                    }
                    document.getElementById('id_subtema').value = '';
                }
            });
            actualizar_lista_subtemas = function () {
                lista_items1 = [];
                $(".elementosubtema").each(function () {
                    var item = {
                        idtema: $(this).find(".idtema").html(),
                        tema: $(this).find(".tema").html(),
                        subtema: $(this).find(".subtema").html()
                    };
                    lista_items1.push(item);
                });
            };
            eliminar__subtemas = function () {
                $(".eliminarsubtema").unbind();
                $(".eliminarsubtema").click(function () {
                    var padre = $(this).parent().parent();
                    padre.remove();
                    actualizar_lista_subtemas();
                });
            };
            $(".btn-adicionarsubtema").click(function () {
                var id = $("#ids").val();
                if (lista_items1.length>0) {
                    $.ajax({
                        type: "POST",
                        url: "/pro_planificacion",
                        data: {'action': 'addsubtemasadicional', 'ids': id, 'lista': JSON.stringify(lista_items1)},
                        success: function (data) {
                            if (data.result == 'ok') {
                                $.unblockUI();
                                bloqueointerface();
                                $("#itemspaneladicionarsubtemas").modal("hide");
                                location.href = "/pro_planificacion?action=planclase&silaboid=" + data.ids;
                            } else {
                                $.unblockUI();
                                smoke.alert(data.mensaje);
                            }
                        }, error: function () {
                            $.unblockUI();
                            control.val(0).trigger("change");
                            smoke.alert("Error de conexion.");
                        },
                        dataType: "json"
                    });
                }else{
                    $("#itemspaneladicionarsubtemas").modal("hide");
                }
            });
            $("#itemspanelimportar_silabo_periodo .btn-cerrar").click(function() {
                $("#itemspanelimportar_silabo_periodo").modal("hide");
            });
            $(".duplicar_silabo_periodo").click(function() {
                var ids = $(this).attr('ids');
                var semana = $(this).attr('semana');
                var numsemana = $(this).attr('numsemana');
                var fini = $(this).attr('fini');
                var ffin = $(this).attr('ffin');
                $.post("/pro_planificacion", {'action':'duplicar_silabo_otro_periodo', 'ids': ids, 'semana':semana, 'numsemana':numsemana, 'fini':fini, 'ffin':ffin}, function(data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".panelbody").html(data.data);
                        $("#itemspanelimportar_silabo_periodo").modal({backdrop:'static', width: '750px'}).modal('show');
                    }
                }, 'json');
            });

            $("#desplegar_obj").each(function () {
                obj = desplegar(1,obj, 'desplegar_obj');
            });
            $("#desplegar_enf").each(function () {
                enf = desplegar(2,enf, 'desplegar_enf');
            });
            $("#desplegar_rec").each(function () {
                rec = desplegar(3,rec, 'desplegar_rec');
            });
            $("#desplegar_eva").each(function () {
                eva = desplegar(4,eva, 'desplegar_eva');
            });

            $("#desplegar_evaxcomp").each(function () {
                eva = desplegar(5,eva, 'desplegar_evaxcomp');
            });

            $("#desplegar_obj").click(function () {
                obj = desplegar(1,obj, 'desplegar_obj');
            });
            $("#desplegar_enf").click(function () {
                enf = desplegar(2,enf, 'desplegar_enf');
            });
            $("#desplegar_rec").click(function () {
                rec = desplegar(3,rec, 'desplegar_rec');
            });
            $("#desplegar_eva").click(function () {
                eva = desplegar(4,eva, 'desplegar_eva');
            });

            $("#desplegar_evaxcomp").click(function () {
                eva = desplegar(5,eva, 'desplegar_evaxcomp');
            });
            $(".editobjetivo").change(function () {
                var obj = $(this).val();
                var id = $(this).attr('ids');
                bloqueointerface();
                $.post("/pro_planificacion", {'action':'editobjetivoact', 'id': id, 'obj':obj}, function(data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                    }
                    else{
                        smoke.alert(data.mensaje);
                    }
                }, 'json');
            });
            $(".editenfoque").change(function () {
                var enf = $(this).val();
                var id = $(this).attr('ids');
                bloqueointerface();
                $.post("/pro_planificacion", {'action':'editenfoqueact', 'id': id, 'enf':enf}, function(data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                    }
                    else{
                        smoke.alert(data.mensaje);
                    }
                }, 'json');
            });
            $(".editenfoquedos").change(function () {
                var enf = $(this).val();
                var id = $(this).attr('ids');
                bloqueointerface();
                $.post("/pro_planificacion", {'action':'editenfoqueactdos', 'id': id, 'enf':enf}, function(data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                    }
                    else{
                        smoke.alert(data.mensaje);
                    }
                }, 'json');
            });
            $(".editenfoquetres").change(function () {
                var enf = $(this).val();
                var id = $(this).attr('ids');
                bloqueointerface();
                $.post("/pro_planificacion", {'action':'editenfoqueacttres', 'id': id, 'enf':enf}, function(data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                    }
                    else{
                        smoke.alert(data.mensaje);
                    }
                }, 'json');
            });
            $(".editrecurso").change(function () {
                var rec = $(this).val();
                var id = $(this).attr('ids');
                bloqueointerface();
                $.post("/pro_planificacion", {'action':'editrecursoact', 'id': id, 'rec':rec}, function(data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                    }
                    else{
                        smoke.alert(data.mensaje);
                    }
                }, 'json');
            });
            $(".editevaluacion").change(function () {
                var eval = $(this).val();
                var id = $(this).attr('ids');
                bloqueointerface();
                $.post("/pro_planificacion", {'action':'editevaluacionact', 'id': id, 'eval':eval}, function(data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                    }
                    else{
                        smoke.alert(data.mensaje);
                    }
                }, 'json');
            });
            $("#itemspanellink .btn-cerrar").click(function() {
                $("#itemspanellink").modal("hide");
            });
            $(".editrecursolink").click(function() {
                var id = $(this).attr('ids');
                $.post("/pro_planificacion", {'action':'listarecursolink', 'id': id}, function(data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".panelbodylink").html(data.data);
                        $(".itemspanellink").modal({backdrop:'static', width: '700px'}).modal('show');
                    }
                }, 'json');
            });
            $(".actualizar_horas").click(function () {
                bloqueointerface();
                $.post("/pro_planificacion", {'action':'actualizar_horas', 'id': {{silabocab.id }}}, function(data) {
                    if (data.result == 'ok') {
                        bloqueointerface();
                        location.href='/pro_planificacion?action=planclase&silaboid={{ silabocab.id|encrypt }}';
                        $.unblockUI();
                    }else{
                        smoke.alert("Error al actualizar las horas")
                    }
                }, 'json');
            });
        });
        function desplegar(id, aux, nombre) {
            if (aux == 0){
                $(".collapse"+id).collapse('hide');
                $("#"+nombre).parent().find(".fa").removeClass("fa-chevron-up").addClass("fa-chevron-down");
                aux=1;
            }else{
                $(".collapse"+id).collapse('show');
                $("#"+nombre).parent().find(".fa").removeClass("fa-chevron-down").addClass("fa-chevron-up");
                aux=0;
            }
            return aux;
        }
        function leer_lista_subtemas(subtema) {
            var ban=0;
            for (i=0;i<lista_items1.length;i++){
                if (subtema == lista_items1[i]['subtema']){
                    ban = 1;
                    return;
                }else {
                    ban = 0;
                }
            }
            return ban;
        }
        function vistaprevia(idproprag){
            openwindow('POST' ,'/pro_planificacion', {action:'silabopdf',id:idproprag}, '_blank');
        }

    </script>
{% endblock %}
{% block atras %}/pro_planificacion?action=silabo&materia={{ silabocab.materia.id|encrypt }}{% endblock %}
{% block canvas %}
    <div class='row-fluid'>
        <div class='span12'>
            <h4>{{ title }}</h4>
            <h4>Profesor: {{ profesor }}</h4>
            <h4>Asignatura: {{ silabocab.materia.asignaturamalla }} - {{ silabocab.materia.paralelo }}</h4>
        </div>
    </div>
    <div class='row-fluid'>
        <div class='span12'>
            {% if panalitico != 0 %}
                {% if silabocab.estado_planificacion_clases >= 100 %}
                    <a class="btn btn-warning" onclick="vistaprevia('{{ silabocab.id|encrypt }}')" href="javascript:;"><i class="fa fa-print"></i>&nbsp; Imprimir Sílabo</a>
                {% endif %}
            {% else %}
                {% if pruede_modificar %}
                    {% if silabocab.tiene_materia_duplicadas %}
                        {% if silabocab.tiene_materia_fecha_igual %}
                            <a ids="{{ silabocab.id|encrypt }}" href="javascript:;" class='btn btn-info tu duplicar_silabo'><i class="fa fa-clone"></i> Importar Sílabo</a>
                        {% endif %}
                    {% else %}
                        {% if silabocab.tiene_silabo_otra_carrera and not silabocab.tiene_silabo_semanal %}
                            <a ids="{{ silabocab.id|encrypt }}" href="javascript:;" class='btn btn-success tu duplicar_silabo_carrera'><i class="fa fa-paste"></i> Importar Sílabo Otra Carrera</a>
                        {% endif %}
                    {% endif %}
                    {% if silabocab.silabos_para_duplicar and not silabocab.tiene_silabo_semanal %}
                        <a ids="{{ silabocab.id|encrypt }}" href="javascript:;" class='btn btn-inverse tu duplicar_silabo_otro_docente'><i class="fa fa-copy"></i> Importar sílabo de otro docente</a>
                    {% endif %}
                {% endif %}
            {% endif %}
        </div>
    </div>
    <div class="row-fluid">
        <div {% if silabocab.estado_planificacion_clases >= 100 %} class="alert alert-success" {% else %} class="alert alert-error"{% endif %} id="mensajeevidencia" style="text-align: justify;font-size: 12px">
            {% if silabocab.estado_planificacion_clases >= 100 %}
                <strong>* Los temas planificados corresponden al 100% del programa analítico.</strong><br>
            {% else %}
                <strong>* Los temas planificados corresponden al {{ silabocab.estado_planificacion_clases }}% del programa analítico. Tiene temas pendientes por planificar. El botón imprimir se habilitará cuando se registre toda la planificación.</strong> {% if silabocab.estado_planificacion_clases > 80 %}( <u><a ids="{{ silabocab.id|encrypt }}" href="javascript:;" class="detalle_tst_registrar">Temas pendientes de planificar</a></u>){% endif %}<br>
            {% endif %}
        </div>
    </div>
    <div class='row-fluid'>
        <div class='span12'>
            <table class='table table-bordered table-striped' >
                <thead>
                <tr>
                    <th colspan="9">ASIGNATURA: {{ silabocab.materia.asignatura.nombre }}</th>
                </tr>
                <tr>
                    {#                    <th style="width: 70px;text-align: center;">Semana<br><a class="btn btn-success btn-mini actualizar_horas tu" title="Actualizar horas"><i class="fa fa-refresh"></i></a></th>#}
                    <th style="width: 70px;text-align: center;">Semana</th>
                    <th style="text-align: center;width: 200px;">Temas</th>
                    <th style="text-align: center;width: 200px;">Bibliografía </th>
                    <th style="text-align: center;width: 100px;">Objetivo Aprendizaje<br><a class="btn btn-block" id="desplegar_obj"><span class="fa fa-chevron-up"></span> Desplegar todo</a></th>
                    <th style="text-align: center;width: 100px;">Enfoque Metodológico<br><a class="btn btn-block" id="desplegar_enf"><span class="fa fa-chevron-up"></span> Desplegar todo</a></th>
                    <th style="text-align: center;width: 100px;">Recursos Didácticos<br><a class="btn btn-block" id="desplegar_rec"><span class="fa fa-chevron-up"></span> Desplegar todo</a></th>
                    {#                    <th style="text-align: center;width: 100px;">Evaluación<br><a class="btn btn-block" id="desplegar_eva"><span class="fa fa-chevron-up"></span> Desplegar todo</a></th>#}
                    <th style="text-align: center;width: 100px;">Eval. por Comp.<br><a class="btn btn-block" id="desplegar_evaxcomp"><span class="fa fa-chevron-up"></span> Desplegar todo</a></th>
                    <th style="text-align: center;width: 28px;">Acciones</th>
                </tr>
                </thead>
                <tbody>
                {% for fecha in fechas %}
                    <tr>
                        {% with semanaadicional=silabocab|args:fecha.1|args:fecha.2|call:'semana_adicional' cronograma_silabo=silabocab|args:fecha.1|args:fecha.2|call:'cronograma_silabo' numero_semana=silabocab|args:fecha.1|args:fecha.2|call:'cronograma_silabo_n_semana' %}
                            <td style="text-align: center; width: 65px;">Semana
                                {% if numero_semana %}{% if numero_semana > 0 %}{{ numero_semana }}{% endif %}{% endif %}<br> {{ fecha.1|date:"Y-m-d" }} <br>{{ fecha.2|date:"Y-m-d" }}<br>
                                {% if fecha.9 > 0 %}
                                    {#                                    {% if fecha.7 >= 0 %}#}
                                    <span class="label label-info tu" title="Horas Presenciales">Hrs-Pre:{{ fecha.7|floatformat:2 }}</span>
                                    {#                                    {% endif %}#}
                                    {#                                    {% if fecha.8 >= 0 %}#}
                                    <span class="label label-success tu" title="Horas Autónomas">Hrs-Aut:{{ fecha.8|floatformat:2 }}</span>
                                    {#                                    {% endif %}#}
                                {% endif %}
                                {% if fecha.10.numero_mis_guiaspracticas > 0 %}
                                    <span class="label label-warning tu" title="Numero de practícas de semana">Num-Prac:{{ fecha.10.numero_mis_guiaspracticas }}</span>
                                {% endif %}
                            </td>
                            <td width="200px">
                                {% if semanaadicional %}
                                    {% for semana in  semanaadicional %}
                                        <span><strong style="width: 100%" class=" label label-warning">{{ semana.cronograma.obejetivosemanal }}</strong></span>
                                    {% endfor %}
                                {% else %}
                                    {% if cronograma_silabo %}
                                        {% for crono in  cronograma_silabo %}
                                            <span><strong style="width: 100%" class=" label label-warning">{{ crono.obejetivosemanal }}</strong></span>
                                        {% endfor %}
                                    {% endif %}
                                {% endif %}

                                {% if fecha.9 > 0 %}
                                    {% with temasselec=fecha.10|call:'temas_seleccionados_planclase' enuso=fecha.10|call:'puede_eliminar' %}
                                        {% if temasselec and enuso %}
                                            {% with tieneapro=silabocab|call:'tiene_aprobaciones' %}
                                                {% if pruede_modificar %}
                                                    {% if tieneapro %}
                                                        {% with estadoaprobacion=silabocab|call:'estado_aprobacion' %}
                                                            {%  if estadoaprobacion %}
                                                                {% if not estadoaprobacion.estadoaprobacion == aprobar %}
                                                                    <a href="/pro_planificacion?action=editsemanasilabotemas&codigosilabo={{ fecha.9|encrypt }}&fini={{ fecha.1|date:"Y-m-d"  }}&ffin={{ fecha.2|date:"Y-m-d"  }}" href="javascript:;" class='tu' title='Editar mis temas y subtemas'><i class="fa fa-edit"></i></a>
                                                                    {% if silabocab.estado_planificacion_clases >= 100 %}
                                                                        <a  class="tu adicionarsubtemas" href="javascript:;"  ids="{{ fecha.9|encrypt }}" title="Proponer subtema a la semana"><i class="fa fa-plus-square-o"></i></a>
                                                                    {% endif %}
                                                                {% endif %}
                                                            {% endif %}
                                                        {% endwith %}
                                                    {% else %}
                                                        <a href="/pro_planificacion?action=editsemanasilabotemas&codigosilabo={{ fecha.9|encrypt }}&fini={{ fecha.1|date:"Y-m-d"  }}&ffin={{ fecha.2|date:"Y-m-d"  }}" href="javascript:;" class='tu' title='Editar mis temas y subtemas'><i class="fa fa-edit"></i></a>
                                                        {% if silabocab.estado_planificacion_clases >= 100 %}
                                                            <a  class="tu adicionarsubtemas" href="javascript:;"  ids="{{ fecha.9|encrypt }}" title="Adicionar subtema a la semana"><i class="fa fa-plus-square-o"></i></a>
                                                        {% endif %}
                                                    {% endif %}
                                                {% endif %}
                                            {% endwith %}
                                        {% endif %}

                                        <div style="max-height: 250px; overflow-y: auto; overflow-x: hidden;">
                                            {% with unidades=fecha.10|call:'unidades_silabosemanal' %}
                                                {% for uni in unidades %}
                                                    <b>UNIDAD {{ uni.temaunidadresultadoprogramaanalitico.unidadresultadoprogramaanalitico.orden }}: {{ uni.temaunidadresultadoprogramaanalitico.unidadresultadoprogramaanalitico.descripcion }}</b><br>
                                                    {% with temasselec=fecha.10|args:uni.temaunidadresultadoprogramaanalitico.unidadresultadoprogramaanalitico.id|call:'temas_silabosemanal' %}
                                                        {% for temassel in temasselec %}
                                                            <dt style="font-weight: normal;">
                                                                <ul>
                                                            <dt style="font-weight: normal;"><b>TEMA: {{ temassel.temaunidadresultadoprogramaanalitico.orden }}.-</b> {{ temassel.temaunidadresultadoprogramaanalitico.descripcion }}</dt>
                                                            <ul>
                                                                {% with subtemasselec=fecha.10|args:temassel.temaunidadresultadoprogramaanalitico|call:'subtemas_silabosemanal' subtemasadicionales=fecha.10|args:temassel.id|call:'subtemas_adicionales' %}
                                                                    {% if subtemasselec %}
                                                                        {% for subtemassel in subtemasselec %}
                                                                            <dt style="font-weight: normal;"><b>SUBTEMA: {{ subtemassel.subtemaunidadresultadoprogramaanalitico.orden }}.-</b> {{ subtemassel.subtemaunidadresultadoprogramaanalitico.descripcion }}</dt>
                                                                        {% endfor %}
                                                                    {% endif %}
                                                                    {% if subtemasadicionales %}
                                                                        {% for suba in subtemasadicionales %}
                                                                            <dt style="font-weight: normal;"><b>SUBTEMA:</b> {{ suba }}</dt>
                                                                        {% endfor %}
                                                                    {% endif %}
                                                                {% endwith %}
                                                            </ul>
                                                            </dt>
                                                        {% endfor %}
                                                    {% endwith %}
                                                {% endfor %}
                                            {% endwith %}
                                        </div>
                                        {% with planificacion_semanal_salida=fecha.10|call:'salidas_planificadas_semanales'%}
                                            {% if planificacion_semanal_salida %}
                                                {% for salida in  planificacion_semanal_salida %}
                                                    {#                                                    {% with tieneapro=silabocab|call:'tiene_aprobaciones' %}#}
                                                    {#                                                        {% if tieneapro %}#}
                                                    {#                                                            {% with estadoaprobacion=silabocab|call:'estado_aprobacion' %}#}
                                                    {#                                                                {%  if estadoaprobacion %}#}
                                                    {#                                                                    {% if not estadoaprobacion.estadoaprobacion == aprobar %}#}
                                                    {#                                                                        <a ids="{{ salida.id|encrypt }}" href="javascript:;" class='editplanificacionsemanalsalida tu' title='Editar salida de clase'><i class="fa fa-edit"></i></a>#}
                                                    {#                                                                        <a nhref="/pro_planificacion?action=delplanificacion_salida&ids={{ salida.id|encrypt }}"  href="javascript:;" class='eliminacionmodal tu' title='Eliminar salida de clase'><i style="color: red" class="fa fa-close"></i></a>#}
                                                    {#                                                                    {% endif %}#}
                                                    {#                                                                {% endif %}#}
                                                    {#                                                            {% endwith %}#}
                                                    {#                                                        {% else %}#}
                                                    {% if pruede_modificar %}
                                                        <a ids="{{ salida.id|encrypt }}" href="javascript:;" class='editplanificacionsemanalsalida tu' title='Editar salida de clase'><i class="fa fa-edit"></i></a>
                                                        <a nhref="/pro_planificacion?action=delplanificacion_salida&ids={{ salida.id|encrypt }}"  href="javascript:;" class='eliminacionmodal tu' title='Eliminar salida de clase'><i style="color: red" class="fa fa-trash"></i></a>
                                                    {% endif %}
                                                    {#                                                        {% endif %}#}
                                                    {#                                                    {% endwith %}#}
                                                    <span><strong style="width: 85%" class=" label label-inverse">{{ salida }}</strong></span><br>
                                                {% endfor %}
                                            {% endif %}
                                        {% endwith %}
                                    {% endwith %}
                                {% endif %}
                            </td>
                        {% endwith %}
                        <td width="200px">
                            {% if fecha.9 > 0 %}
                                {% with bibliografias=fecha.10|call:'bibliografia_basica' bibcomplementaria=fecha.10|call:'bibliografia_complementaria' librosvirtuales=fecha.10|call:'bibliografia_virtual' listaarticulos=fecha.10|call:'listado_articulo' %}
                                    {% if  bibliografias or bibcomplementaria or librosvirtuales %}
                                        {% with tieneapro=silabocab|call:'tiene_aprobaciones' %}
                                            {% if pruede_modificar %}
                                                {% if tieneapro %}
                                                    {% with estadoaprobacion=silabocab|call:'estado_aprobacion' %}
                                                        {%  if estadoaprobacion %}
                                                            {% if not estadoaprobacion.estadoaprobacion == aprobar %}
                                                                <a href="/pro_planificacion?action=editbibliografia&ids={{ fecha.9|encrypt }}" href="javascript:;" class='tu' title='Editar Bibliografía'><i class="fa fa-edit"></i></a>
                                                            {% endif %}
                                                        {% endif %}
                                                    {% endwith %}
                                                {% else %}
                                                    <a href="/pro_planificacion?action=editbibliografia&ids={{ fecha.9|encrypt }}" href="javascript:;" class='tu' title='Editar Bibliografía'><i class="fa fa-edit"></i></a>
                                                {% endif %}
                                            {% endif %}
                                        {% endwith %}
                                        <div class="accordion" id="accordion{{ fecha.9|encrypt }}">
                                            <div class="accordion-group">
                                                <div class="accordion-heading">
                                                    <a data-toggle="collapse" data-parent="#accordion{{ fecha.9|encrypt }}" href="#collapseOne{{ fecha.9|encrypt }}"><span class="fa fa-list"></span> Bibliografía Básica</a>
                                                </div>
                                                <div id="collapseOne{{ fecha.9|encrypt }}" class="accordion-body collapse in">
                                                    <table class='table table-striped table-bordered'>
                                                        <tbody>
                                                        {% for librosbasicos in bibliografias %}
                                                            <tr>
                                                                <td>
                                                                    {% with tieneapro=silabocab|call:'tiene_aprobaciones' %}
                                                                        {% if pruede_modificar %}
                                                                            {% if tieneapro %}
                                                                                {% with estadoaprobacion=silabocab|call:'estado_aprobacion' %}
                                                                                    {%  if estadoaprobacion %}
                                                                                        {% if not estadoaprobacion.estadoaprobacion == aprobar %}
                                                                                            <a class="btn btn-mini btn-danger eliminacionmodal tu" href="javascript:;" nhref="/pro_planificacion?action=delbibliografiabasica&ids={{ fecha.9|encrypt }}&idb={{ librosbasicos.id|encrypt }}"><i class="fa fa-trash"></i></a>
                                                                                        {% endif %}
                                                                                    {% endif %}
                                                                                {% endwith %}
                                                                            {% else %}
                                                                                <a class="btn btn-mini btn-danger eliminacionmodal tu" href="javascript:;" nhref="/pro_planificacion?action=delbibliografiabasica&ids={{ fecha.9|encrypt }}&idb={{ librosbasicos.id|encrypt }}"><i class="fa fa-trash"></i></a>
                                                                            {% endif %}
                                                                        {% endif %}
                                                                    {% endwith %}
                                                                </td>
                                                                <td>
                                                                    <span class="fa fa-book"></span> {{ librosbasicos.bibliografiaprogramaanaliticoasignatura.librokohaprogramaanaliticoasignatura }}
                                                                </td>
                                                            </tr>
                                                        {% endfor %}
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="accordion" id="accordiont{{ fecha.9|encrypt }}">
                                            <div class="accordion-group">
                                                <div class="accordion-heading">
                                                    <a data-toggle="collapse" data-parent="#accordiont{{ fecha.9|encrypt }}" href="#collapseTwo{{ fecha.9|encrypt }}"> <span class="fa fa-list"></span>  Bibliografía Complementaria</a>
                                                </div>
                                                <div id="collapseTwo{{ fecha.9|encrypt }}" class="accordion-body collapse in">
                                                    <table class='table table-striped table-bordered'>
                                                        <tbody>
                                                        {% for libroscomplementaria in bibcomplementaria %}
                                                            <tr>
                                                                <td>
                                                                    {% with tieneapro=silabocab|call:'tiene_aprobaciones' %}
                                                                        {% if pruede_modificar %}
                                                                            {% if tieneapro %}
                                                                                {% with estadoaprobacion=silabocab|call:'estado_aprobacion' %}
                                                                                    {%  if estadoaprobacion %}
                                                                                        {% if not estadoaprobacion.estadoaprobacion == aprobar %}
                                                                                            <a class="btn btn-mini btn-danger eliminacionmodal tu" href="javascript:;" nhref="/pro_planificacion?action=delbibliografiacomplementaria&ids={{ fecha.9|encrypt }}&idc={{ libroscomplementaria.id|encrypt }}"><i class="fa fa-trash"></i></a>
                                                                                        {% endif %}
                                                                                    {% endif %}
                                                                                {% endwith %}
                                                                            {% else %}
                                                                                <a class="btn btn-mini btn-danger eliminacionmodal tu" href="javascript:;" nhref="/pro_planificacion?action=delbibliografiacomplementaria&ids={{ fecha.9|encrypt }}&idc={{ libroscomplementaria.id|encrypt }}"><i class="fa fa-trash"></i></a>
                                                                            {% endif %}
                                                                        {% endif %}
                                                                    {% endwith %}
                                                                </td>
                                                                <td style="max-width: 150px;">
                                                                    <span class="fa fa-book"></span> {{ libroscomplementaria.librokohaprogramaanaliticoasignatura }}
                                                                </td>
                                                            </tr>
                                                        {% endfor %}
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="accordion" id="accordiont{{ fecha.9|encrypt }}">
                                            <div class="accordion-group">
                                                <div class="accordion-heading">
                                                    <a data-toggle="collapse" data-parent="#accordiont{{ fecha.9|encrypt }}" href="#collapseVirt{{ fecha.9|encrypt }}"> <span class="fa fa-list"></span>  Bibliografía Virtual(cita APA)</a>
                                                </div>
                                                <div id="collapseVirt{{ fecha.9|encrypt }}" class="accordion-body collapse in">
                                                    <table class='table table-striped table-bordered'>
                                                        <tbody>
                                                        {% for bvirtual in librosvirtuales %}
                                                            <tr>
                                                                <td style="width: 15px">
                                                                    {% with tieneapro=silabocab|call:'tiene_aprobaciones' %}
                                                                        {% if pruede_modificar %}
                                                                            {% if tieneapro %}
                                                                                {% with estadoaprobacion=silabocab|call:'estado_aprobacion' %}
                                                                                    {%  if estadoaprobacion %}
                                                                                        {% if not estadoaprobacion.estadoaprobacion == aprobar %}
                                                                                            <a class="btn btn-mini btn-danger eliminacionmodal tu" href="javascript:;" nhref="/pro_planificacion?action=delbibliografiavirtual&ids={{ fecha.9|encrypt }}&idv={{ bvirtual.id|encrypt }}"><i class="fa fa-trash"></i></a>
                                                                                        {% endif %}
                                                                                    {% endif %}
                                                                                {% endwith %}
                                                                            {% else %}
                                                                                <a class="btn btn-mini btn-danger eliminacionmodal tu" href="javascript:;" nhref="/pro_planificacion?action=delbibliografiavirtual&ids={{ fecha.9|encrypt }}&idv={{ bvirtual.id|encrypt }}"><i class="fa fa-trash"></i></a>
                                                                            {% endif %}
                                                                        {% endif %}
                                                                    {% endwith %}
                                                                </td>
                                                                <td style="max-width: 100px;">
                                                                    <span class="fa fa-book"></span> {{ bvirtual.bibliografia|linebreaksbr }}
                                                                </td>
                                                            </tr>
                                                        {% endfor %}
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    {% endif %}
                                    <a href="/pro_planificacion?action=adicionararticulo&ids={{ fecha.9|encrypt }}" href="javascript:;" class='tu' title='Adicionar artículo'><i class="fa fa-plus"></i></a>
                                    <div class="accordion" id="accordiont{{ fecha.9|encrypt }}">
                                        <div class="accordion-group">
                                            <div class="accordion-heading">
                                                <a data-toggle="collapse" data-parent="#accordiont{{ fecha.9|encrypt }}" href="#collapseArt{{ fecha.9|encrypt }}"> <span class="fa fa-list"></span> Articulos</a>
                                            </div>
                                            <div id="collapseArt{{ fecha.9|encrypt }}" class="accordion-body collapse in">
                                                <table class='table table-striped table-bordered'>
                                                    <tbody>
                                                    {% for lisarticulo in listaarticulos %}
                                                        <tr>
                                                            <td style="width: 15px">
                                                                {% with tieneapro=silabocab|call:'tiene_aprobaciones' %}
                                                                    {% if pruede_modificar %}
                                                                        {% if tieneapro %}Enfoque inicio
                                                                            {% with estadoaprobacion=silabocab|call:'estado_aprobacion' %}
                                                                                {%  if estadoaprobacion %}
                                                                                    {% if not estadoaprobacion.estadoaprobacion == aprobar %}
                                                                                        <a class="btn btn-mini btn-danger eliminacionmodal tu" href="javascript:;" nhref="/pro_planificacion?action=delarticulosilabo&ids={{ fecha.9|encrypt }}&idart={{ lisarticulo.id|encrypt }}"><i class="fa fa-trash"></i></a>
                                                                                    {% endif %}
                                                                                {% endif %}
                                                                            {% endwith %}
                                                                        {% else %}
                                                                            <a class="btn btn-mini btn-danger eliminacionmodal tu" href="javascript:;" nhref="/pro_planificacion?action=delarticulosilabo&ids={{ fecha.9|encrypt }}&idart={{ lisarticulo.id|encrypt }}"><i class="fa fa-trash"></i></a>
                                                                        {% endif %}
                                                                    {% endif %}
                                                                {% endwith %}
                                                            </td>
                                                            <td style="max-width: 100px;">
                                                                <div style="text-align: justify">
                                                                    <span class="fa fa-book"></span> {{ lisarticulo.articulo.nombre|linebreaksbr }}
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    {% endfor %}
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                {% endwith %}
                            {% endif %}
                        </td>
                        <td width="100px">
                            {% if fecha.9 > 0 %}
{#                                {% if fecha.3 %}#}
                                    {% with tieneapro=silabocab|call:'tiene_aprobaciones' estadoaprobacion=silabocab|call:'estado_aprobacion' %}
                                        {% if pruede_modificar %}
                                            {% if tieneapro %}
                                                {%  if estadoaprobacion %}
                                                    {% if not estadoaprobacion.estadoaprobacion == aprobar %}
                                                        <a ids="{{ fecha.9|encrypt }}" href="javascript:;" class='tu editar_objetivo' title='Editar Objetivo Apendizaje'><i class="fa fa-edit"></i></a>
                                                    {% endif %}
                                                {% endif %}
                                            {% else %}
                                                <a ids="{{ fecha.9|encrypt }}" href="javascript:;" class='tu editar_objetivo' title='Editar Objetivo Apendizaje'><i class="fa fa-edit"></i></a>
                                            {% endif %}
                                        {% endif %}
                                        <div class="accordion" id="accordionob{{ fecha.9|encrypt }}">
                                            <div class="accordion-group">
                                                <div class="accordion-heading">
                                                    <a data-toggle="collapse" data-parent="#collapseTree{{ fecha.9|encrypt }}" href="#collapseTree{{ fecha.9|encrypt }}"> <span class="fa fa-list"></span>  Objetivo de aprendizaje</a>
                                                </div>
                                                <div id="collapseTree{{ fecha.9|encrypt }}" class="accordion-body collapse1 in">
                                                    <textarea class="editobjetivo"  ids="{{ fecha.9|encrypt }}" style="width: 180px;" rows="7" {% if pruede_modificar %}{%  if estadoaprobacion %} {% if estadoaprobacion.estadoaprobacion == aprobar %}disabled {% endif %}{% endif %}{% else %}disabled{% endif %} >{{ fecha.3 }}</textarea>
                                                </div>
                                            </div>
                                        </div>
                                    {% endwith %}
{#                                {% endif %}#}
                            {% endif %}
                        </td>
                        <td width="100px">
                            {% if fecha.9 > 0 %}
                                {% if fecha.4 %}
                                    {% with tieneapro=silabocab|call:'tiene_aprobaciones' estadoaprobacion=silabocab|call:'estado_aprobacion' %}
                                        {% if pruede_modificar %}
                                            {% if tieneapro %}
                                                {%  if estadoaprobacion %}
                                                    {% if not estadoaprobacion.estadoaprobacion == aprobar %}
                                                        <a ids="{{ fecha.9|encrypt }}" href="javascript:;" class='tu editar_enfoque' title='Editar Enfoque Metodológico'><i class="fa fa-edit"></i></a>
                                                    {% endif %}
                                                {% endif %}
                                            {% else %}
                                                <a ids="{{ fecha.9|encrypt }}" href="javascript:;" class='tu editar_enfoque' title='Editar Enfoque Metodológico'><i class="fa fa-edit"></i></a>
                                            {% endif %}
                                        {% endif %}
                                        <div class="accordion" id="accordionef{{ fecha.9|encrypt  }}">
                                            <div class="accordion-group">
                                                <div class="accordion-heading">
                                                    <a data-toggle="collapse" data-parent="#collapseFour{{ fecha.9|encrypt  }}" href="#collapseFour{{ fecha.9|encrypt  }}"> <span class="fa fa-list"></span>  Enfoque Metodológico</a>
                                                </div>
                                                <div id="collapseFour{{ fecha.9|encrypt  }}" class="accordion-body collapse2 in">
                                                    <br>Enfoque metodológico(Inicio)
                                                    <textarea class="editenfoque"  ids="{{ fecha.9|encrypt }}" style="width: 180px" rows="7" {% if pruede_modificar %}{%  if estadoaprobacion %} {% if estadoaprobacion.estadoaprobacion == aprobar %}disabled {% endif %}{% endif %}{% else %}disabled{% endif %}>{{ fecha.4 }}</textarea>
                                                    <br>Enfoque metodológico(Desarrollo)
                                                    <textarea class="editenfoquedos"  ids="{{ fecha.9|encrypt }}" style="width: 180px" rows="7" {% if pruede_modificar %}{%  if estadoaprobacion %} {% if estadoaprobacion.estadoaprobacion == aprobar %}disabled {% endif %}{% endif %}{% else %}disabled{% endif %}>{{ fecha.11|default:"" }}</textarea>
                                                    <br>Enfoque metodológico(Cierre)
                                                    <textarea class="editenfoquetres"  ids="{{ fecha.9|encrypt }}" style="width: 180px" rows="7" {% if pruede_modificar %}{%  if estadoaprobacion %} {% if estadoaprobacion.estadoaprobacion == aprobar %}disabled {% endif %}{% endif %}{% else %}disabled{% endif %}>{{ fecha.12|default:"" }}</textarea>
                                                </div>
                                            </div>
                                        </div>
                                    {% endwith %}
                                {% endif %}
                            {% endif %}
                        </td>
                        <td width="100px">
                            {% if fecha.9 > 0 %}
                                {#                                FECHA.5: {{ fecha.5 }}#}
                                {#                                {% if fecha.5 %}#}
                                {% with tieneapro=silabocab|call:'tiene_aprobaciones' estadoaprobacion=silabocab|call:'estado_aprobacion' %}
                                    {% if pruede_modificar %}
                                        {% if tieneapro %}
                                            {%  if estadoaprobacion %}
                                                {% if not estadoaprobacion.estadoaprobacion == aprobar %}
                                                    <a ids="{{ fecha.9|encrypt }}" href="javascript:;" class='tu editar_recurso' title='Editar Recursos Didácticos'><i class="fa fa-edit"></i></a>
                                                {% endif %}
                                            {% endif %}
                                        {% else %}
                                            <a ids="{{ fecha.9|encrypt }}" href="javascript:;" class='tu editar_recurso' title='Editar Recursos Didácticos'><i class="fa fa-edit"></i></a>
                                        {% endif %}
                                    {% endif %}
                                    <div class="accordion" id="accordionre{{ fecha.9|encrypt }}">
                                        <div class="accordion-group">
                                            <div class="accordion-heading">
                                                <a data-toggle="collapse" data-parent="#collapseFive{{ fecha.9|encrypt }}" href="#collapseFive{{ fecha.9|encrypt }}"> <span class="fa fa-list"></span>  Recursos Didácticos</a>
                                            </div>
                                            <div id="collapseFive{{ fecha.9|encrypt }}" class="accordion-body collapse3 in">
                                                <textarea class="editrecurso"  ids="{{ fecha.9|encrypt }}" style="width: 180px" rows="7" {% if pruede_modificar %}{%  if estadoaprobacion %} {% if estadoaprobacion.estadoaprobacion == aprobar %}disabled {% endif %}{% endif %}{% else %}disabled{% endif %}>{{ fecha.5 }}</textarea>
                                            </div>
                                        </div>
                                    </div>
                                {% endwith %}
                                {#                                {% else %}#}
                                {#                                    VACIO#}
                                {#                                {% endif %}#}
                                {% if pruede_modificar %}
                                    <a ids="{{ fecha.9|encrypt }}" href="javascript:;" class='tu editrecursolink' title='Editar Recursos Didácticos Link'><i class="fa fa-edit"></i></a>
                                {% endif %}
                                <div class="accordion" id="accordionrelink{{ fecha.9|encrypt }}">
                                    <div class="accordion-group">
                                        <div class="accordion-heading">
                                            <a data-toggle="collapse" data-parent="#collapseSix{{ fecha.9|encrypt }}" href="#collapseSixe{{ fecha.9|encrypt }}"> <span class="fa fa-list"></span>  Recursos didácticos(links)</a>
                                        </div>
                                        <div id="collapseSixe{{ fecha.9|encrypt }}" class="accordion-body collapse in">
                                            <table class='table table-bordered'>
                                                <tbody>
                                                {%  for link in fecha.10.mis_recursos_didacticos_link %}
                                                    <tr>
                                                        <td width="10px">
                                                            <a class="btn btn-mini btn-default eliminacionmodal tu" href="javascript:;" nhref="/pro_planificacion?action=delrecursolink&ids={{ fecha.9|encrypt }}&id={{ link.id|encrypt }}"><i style="color: red" class="fa fa-trash"></i></a>
                                                        </td>
                                                        <td style="text-align: justify; max-width: 100px">
                                                            <a href="{{ link.link }}" target="_blank"><span class="fa fa-link"></span> {{ link|linebreaksbr }}</a>
                                                        </td>
                                                    </tr>
                                                {% endfor %}
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            {% endif %}
                        </td>
                        {#                        <td width="100px">#}
                        {#                            {% if fecha.9 > 0 %}#}
                        {#                                {% if fecha.6 %}#}
                        {#                                {% with tieneapro=silabocab|call:'tiene_aprobaciones' estadoaprobacion=silabocab|call:'estado_aprobacion' %}#}
                        {#                                    {% if pruede_modificar %}#}
                        {#                                        {% if tieneapro %}#}
                        {#                                            {%  if estadoaprobacion %}#}
                        {#                                                {% if not estadoaprobacion.estadoaprobacion == aprobar %}#}
                        {#                                                    <a ids="{{ fecha.9|encrypt }}" href="javascript:;" class='tu editar_evaluacion' title='Editar Evaluación'><i class="fa fa-edit"></i></a>#}
                        {#                                                {% endif %}#}
                        {#                                            {% endif %}#}
                        {#                                        {% else %}#}
                        {#                                            <a ids="{{ fecha.9|encrypt }}" href="javascript:;" class='tu editar_evaluacion' title='Editar Evaluación'><i class="fa fa-edit"></i></a>#}
                        {#                                        {% endif %}#}
                        {#                                    {% endif %}#}
                        {##}
                        {#                                    <div class="accordion" id="accordionev{{ fecha.9|encrypt }}">#}
                        {#                                        <div class="accordion-group">#}
                        {#                                            <div class="accordion-heading">#}
                        {#                                                <a data-toggle="collapse" data-parent="#collapseSix{{ fecha.9|encrypt }}" href="#collapseSix{{ fecha.9|encrypt }}"> <span class="fa fa-list"></span>  Evaluación</a>#}
                        {#                                            </div>#}
                        {#                                            <div id="collapseSix{{ fecha.9|encrypt }}" class="accordion-body collapse4 in">#}
                        {#                                                <textarea class="editevaluacion"  ids="{{ fecha.9|encrypt }}" style="width: 180px" rows="7" {% if pruede_modificar %}{% if estadoaprobacion %} {% if estadoaprobacion.estadoaprobacion == aprobar %}disabled {% endif %}{% endif %}{% else %}disabled{% endif %}>{{ fecha.6 }}</textarea>#}
                        {#                                            </div>#}
                        {#                                        </div>#}
                        {#                                    </div>#}
                        {#                                {% endwith %}#}
                        {#                                {% endif %}#}
                        {#                            {% endif %}#}
                        {#                        </td>#}
                        <td style="text-align: center">
                            {% if fecha.9 > 0 %}
                                {% with tieneapro=silabocab|call:'tiene_aprobaciones' estadoaprobacion=silabocab|call:'estado_aprobacion' %}
                                    {% if pruede_modificar %}
                                        {% if tieneapro %}
                                            {%  if estadoaprobacion %}
                                                {% if not estadoaprobacion.estadoaprobacion == aprobar %}
                                                    <a ids="{{ fecha.9|encrypt }}" href="javascript:;" class='btn btn-mini tu adicionar_evaluacioncomp' title='Adicionar actividad de aprendizaje'><i class="fa fa-plus"></i> Add</a>
                                                    <p></p>
                                                {% endif %}
                                            {% endif %}
                                        {% else %}
                                            <a ids="{{ fecha.9|encrypt }}" href="javascript:;" class='btn btn-mini tu adicionar_evaluacioncomp' title='Adicionar actividad de aprendizaje'><i class="fa fa-plus"></i> Add</a>
                                                    <p></p>
                                        {% endif %}
                                    {% endif %}

                                    <div class="accordion" id="accordionevcomp{{ fecha.9|encrypt }}">
                                        <div class="accordion-group">
                                            <div class="accordion-heading">
                                                <a data-toggle="collapse" data-parent="#collapseSixComp{{ fecha.9|encrypt }}" href="#collapseSixComp{{ fecha.9|encrypt }}"> <span class="fa fa-list"></span>  Evaluación</a>
                                            </div>
                                            <div id="collapseSixComp{{ fecha.9|encrypt }}" class="accordion-body collapse4 in">
                                                <table style="font-size: 8px" class='table table-bordered table-striped' >
                                                    <thead>
                                                    <tr>
                                                        <th>TIPO</th>
                                                        <th>ACTIVIDAD</th>
                                                        <th></th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    {% for componente in fecha.10.eval_componente %}
                                                        <tr>
                                                            <td>{{ componente.evaluacionaprendizaje.get_tipoevaluacion_display }}</td>
                                                            <td>{{ componente.evaluacionaprendizaje.descripcion }}</td>
                                                            <td><a class="btn btn-danger btn-mini eliminarcomponente" codcomp="{{ componente.id }}"><strong>X</strong></a></td>
                                                        </tr>
                                                    {% endfor %}
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                {% endwith %}
                            {% endif %}
                        </td>
                        <td style="text-align: center">
                            {% if not fecha.9 %}
                                {% if pruede_modificar %}
                                    {% with tieneapro=silabocab|call:'tiene_aprobaciones' %}
                                        {% if tieneapro %}
                                            {% with estadoaprobacion=silabocab|call:'estado_aprobacion' %}
                                                {%  if estadoaprobacion %}
                                                    {% if not estadoaprobacion.estadoaprobacion == aprobar %}
                                                        <a class="btn btn-mini btn-success tu" href="/pro_planificacion?action=addsemanaplanificacion&idsilabo={{ silabocab.id|encrypt }}&semana={{ fecha.0|encrypt  }}&numsemana={{ forloop.counter|encrypt  }}&fini={{ fecha.1|date:"Y-m-d"  }}&ffin={{ fecha.2|date:"Y-m-d"  }}" title="Adicionar"><span class="fa fa-plus"></span></a>
                                                    {% endif %}
                                                {% endif %}
                                            {% endwith %}
                                        {% else %}
                                            <a  class="btn btn-mini btn-success tu" href="/pro_planificacion?action=addsemanaplanificacion&idsilabo={{ silabocab.id|encrypt }}&semana={{ fecha.0|encrypt  }}&numsemana={{ forloop.counter|encrypt  }}&fini={{ fecha.1|date:"Y-m-d"  }}&ffin={{ fecha.2|date:"Y-m-d"  }}" title="Adicionar"><span class="fa fa-plus"></span></a>
                                        {% endif %}
                                    {% endwith %}
                                    {#                                    {% if silabocab.lista_periodos_silabos %}#}
                                    {#                                        {% with tieneapro=silabocab|call:'tiene_aprobaciones' %}#}
                                    {#                                            {% if tieneapro %}#}
                                    {#                                                {% with estadoaprobacion=silabocab|call:'estado_aprobacion' %}#}
                                    {#                                                    {%  if estadoaprobacion %}#}
                                    {#                                                        {% if not estadoaprobacion.estadoaprobacion == aprobar %}#}
                                    {#                                                            <a ids="{{ silabocab.id|encrypt }}"  semana="{{ fecha.0  }}" numsemana="{{ forloop.counter  }}" fini="{{ fecha.1|date:"Y-m-d"  }}" ffin="{{ fecha.2|date:"Y-m-d"  }}" href="javascript:;" class='btn btn-mini btn-form btn-info tu duplicar_silabo_periodo' title="Importar"><i class="fa fa-clone"></i></a>#}
                                    {#                                                        {% endif %}#}
                                    {#                                                    {% endif %}#}
                                    {#                                                {% endwith %}#}
                                    {#                                            {% else %}#}
                                    <a ids="{{ silabocab.id|encrypt }}"  semana="{{ fecha.0  }}" numsemana="{{ forloop.counter  }}" fini="{{ fecha.1|date:"Y-m-d"  }}" ffin="{{ fecha.2|date:"Y-m-d"  }}" href="javascript:;" class='btn btn-mini btn-form btn-info tu duplicar_silabo_periodo' title="Importar"><i class="fa fa-clone"></i></a>
                                    {#                                            {% endif %}#}
                                    {#                                        {% endwith %}#}
                                    {#                                    {% endif %}#}
                                {% endif %}
                            {% else %}
                                {% if pruede_modificar %}
                                    <a style="margin-top: 10px" class="btn btn-mini btn-inverse tu addplanificacionsalida" href="javascript:;" ids="{{ fecha.9|encrypt }}"><span class="fa fa-plus tu" title="Gira de clase"></span></a><br>
                                    {% with tieneapro=silabocab|call:'tiene_aprobaciones' %}
                                        {% if tieneapro %}
                                            {% with estadoaprobacion=silabocab|call:'estado_aprobacion' %}
                                                {%  if estadoaprobacion %}
                                                    {% if not estadoaprobacion.estadoaprobacion == aprobar %}
                                                        <a style="margin-top: 10px" class="btn btn-mini btn-info tu " href="/pro_planificacion?action=editsemanaplanificacion&ids={{ fecha.9|encrypt }}&fini={{ fecha.1|date:"Y-m-d"  }}&ffin={{ fecha.2|date:"Y-m-d"  }}" title="Editar"><span class="fa fa-edit"></span></a><br>
                                                    {% endif %}
                                                {% endif %}
                                            {% endwith %}
                                        {% else %}
                                            <a style="margin-top: 10px" class="btn btn-mini btn-info tu " href="/pro_planificacion?action=editsemanaplanificacion&ids={{ fecha.9|encrypt }}&fini={{ fecha.1|date:"Y-m-d"  }}&ffin={{ fecha.2|date:"Y-m-d"  }}" title="Editar"><span class="fa fa-edit"></span></a><br>
                                        {% endif %}
                                    {% endwith %}
                                {% endif %}
                                {#                                <a style="margin-top: 10px" class="btn btn-mini btn-warning tu"  href="/pro_planificacion?action=practicas&ids={{ fecha.9|encrypt  }}" title="Prácticas"><span class="fa fa-list-alt"></span></a><br>#}
                                {% if pruede_modificar %}
                                    {% with enuso=fecha.10|call:'puede_eliminar'%}
                                        {% with tieneapro=silabocab|call:'tiene_aprobaciones' %}
                                            {% if tieneapro %}
                                                {% with estadoaprobacion=silabocab|call:'estado_aprobacion' %}
                                                    {%  if estadoaprobacion %}
                                                        {% if not estadoaprobacion.estadoaprobacion == aprobar %}
                                                            <a style="margin-top: 10px" class="btn btn-mini btn-danger eliminacionmodal tu" href="javascript:;"  nhref="/pro_planificacion?action=delsemanasilabo&ids={{ fecha.9|encrypt }}" title="Eliminar"><span class="fa fa-trash"></span></a>
                                                        {% endif %}
                                                    {% endif %}
                                                {% endwith %}
                                            {% else %}
                                                <a style="margin-top: 10px" class="btn btn-mini btn-danger eliminacionmodal tu" href="javascript:;"  nhref="/pro_planificacion?action=delsemanasilabo&ids={{ fecha.9|encrypt }}" title="Eliminar"><span class="fa fa-trash"></span></a>
                                            {% endif %}
                                        {% endwith %}
                                    {% endwith %}
                                {% endif %}
                            {% endif %}
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <div class="modal fade static" id="itemspanelo" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Editar Objetivo de Apendizaje</h3>
        </div>
        <div class="modal-body" style="display: inline-block;">
            <div class="row-fluid">
                <form id="formobj" name="formobj" class="form-vertical form-modal" style="width: 580px;">
                    <input type='hidden'  name='action' value='editarobjetivoaprendizaje'/>
                    <input type='hidden'  name='idso'  id="idso"/>
                    <label>Objetivo Aprendizaje</label>
                    <textarea maxlength="1000" rows="5" id="id_objetivo" style="text-align: justify"></textarea>
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <a href="javascript:;" id="adicionarobj" class="btn btn-adicionar btn-success"> Guardar</a>
            <a href="javascript:;" class="btn btn-cerrar btn-info"> Cerrar</a>
        </div>
    </div>
    <div class="modal fade static" id="itemspanelenf" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Editar Enfoque Metodológico</h3>
        </div>
        <div class="modal-body" style="display: inline-block;">
            <div class="row-fluid">
                <form id="formenf" name="formenf" class="form-vertical form-modal" style="width: 580px;">
                    <input type='hidden'  name='action' value='editenfoquemetodologico'/>
                    <input type='hidden'  name='idse'  id="idse"/>
                    <label>Enfoque metodológico(Inicio)</label>
                    <textarea maxlength="1000" rows="5" id="id_enfoque" style="text-align: justify"></textarea>
                    <label>Enfoque metodológico(Desarrollo)</label>
                    <textarea maxlength="1000" rows="5" id="id_enfoquedos" style="text-align: justify"></textarea>
                    <label>Enfoque metodológico(Cierre) </label>
                    <textarea maxlength="1000" rows="5" id="id_enfoquetres" style="text-align: justify"></textarea>
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <a href="javascript:;" id="adicionarenf" class="btn btn-adicionar btn-success"> Guardar</a>
            <a href="javascript:;" class="btn btn-cerrar btn-info"> Cerrar</a>
        </div>
    </div>
    <div class="modal fade static" id="itemspanelrec" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Editar Recursos Didácticos</h3>
        </div>
        <div class="modal-body" style="display: inline-block;">
            <div class="row-fluid">
                <form id="formrec" name="formrec" class="form-vertical form-modal" style="width: 580px;">
                    <input type='hidden'  name='action' value='editrecursodidactico'/>
                    <input type='hidden'  name='idsr'  id="idsr"/>
                    <label>Recursos Didácticos</label>
                    <textarea maxlength="1000" rows="5" id="id_recurso" style="text-align: justify"></textarea>
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <a href="javascript:;" id="adicionarrec" class="btn btn-adicionar btn-success"> Guardar</a>
            <a href="javascript:;" class="btn btn-cerrar btn-info"> Cerrar</a>
        </div>
    </div>
    <div class="modal fade static" id="itemspaneleva" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Editar Evaluación</h3>
        </div>
        <div class="modal-body" style="display: inline-block;">
            <div class="row-fluid">
                <form id="formeva" name="formeva" class="form-vertical form-modal" style="width: 580px;">
                    <input type='hidden'  name='action' value='editevaluacion'/>
                    <input type='hidden'  name='idsv'  id="idsv"/>
                    <label>Evaluación</label>
                    <textarea maxlength="1000" rows="5" id="id_evaluacion" style="text-align: justify"></textarea>
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <a href="javascript:;" id="adicionareva" class="btn btn-adicionar btn-success"> Guardar</a>
            <a href="javascript:;" class="btn btn-cerrar btn-info"> Cerrar</a>
        </div>
    </div>
    <div class="modal fade static" id="itemspanelevacomp" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Adicionar actividad de aprendizaje</h3>
        </div>
        <div class="modal-body" style="display: inline-block;">
            <div class="row-fluid">
                <form id="formevacomp" name="formevacomp" class="form-vertical form-modal" style="width: 580px;">
                    <input type='hidden'  name='id_silsemana'  id="id_silsemana"/>
                    <select id="id_componente" name="id_componente">
                    </select>
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <a href="javascript:;" id="adicionarevacomp" class="btn btn-adicionar btn-success"> Guardar</a>
            <a href="javascript:;" class="btn btn-cerrarcomp btn-info"> Cerrar</a>
        </div>
    </div>
    <div class="modal fade static itemspanelduplicar_silabo" id="itemspanelduplicar_silabo" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Sílabos que puede importar</h3>
        </div>
        <div class="modal-body panelbody">

        </div>
        <div class="modal-footer">
            <table class="pull-right">
                <tr>
                    <td><a href="javascript:;" class="btn btn-cerrar btn-info">Cerrar</a></td>
                </tr>
            </table>
        </div>
    </div>

    <div class="modal fade static itemspanelduplicar_silabocarrera" id="itemspanelduplicar_silabocarrera" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Sílabos de otras Carreras que puede importar</h3>
        </div>
        <div class="modal-body panelbody">

        </div>
        <div class="modal-footer">
            <table class="pull-right">
                <tr>
                    <td><a href="javascript:;" class="btn btn-cerrar btn-info">Cerrar</a></td>
                </tr>
            </table>
        </div>
    </div>

    <div class="modal fade static" id="itemspaneldetalle_temas_subtemas" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Temas y subtemas por reguistrar</h3>
        </div>
        <div class="modal-body panelbody">

        </div>
        <div class="modal-footer">
            <table class="pull-right">
                <tr>
                    <td><a href="javascript:;" class="btn btn-cerrar btn-info">Cerrar</a></td>
                </tr>
            </table>
        </div>
    </div>
    <div class="modal fade static" id="itemspanelplanificacionsalida" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Adicionar gira de clase</h3>
        </div>
        <div class="modal-body" style="display: inline-block;">
            <div class="row-fluid">
                <form id="formsalida" name="formsalida" class="form-vertical form-modal" style="width: 580px;">
                    <input type='hidden'  name='action' value='addplanificacionsalida'/>
                    <input type='hidden'  name='ids'  id="ids"/>
                    <label>Descripción </label>
                    <textarea rows="4" id="contenido" style="text-align: justify"></textarea>
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <a href="javascript:;" id="adicionarplanificacionsalida" class="btn btn-adicionar btn-success"> Guardar</a>
            <a href="javascript:;" class="btn btn-cerrar btn-info"> Cerrar</a>
        </div>
    </div>
    <div class="modal fade static" id="itemspaneleditplanificacionsalida" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Editar gira de clase</h3>
        </div>
        <div class="modal-body" style="display: inline-block;">
            <div class="row-fluid">
                <form id="formsalida" name="formsalida" class="form-vertical form-modal" style="width: 580px;">
                    <input type='hidden'  name='ids'  id="ids"/>
                    <label>Descripción </label>
                    <textarea rows="4" id="id_contenido"style="text-align: justify"></textarea>
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <a href="javascript:;" id="editplanificacionsalida" class="btn btn-adicionar btn-success"> Guardar</a>
            <a href="javascript:;" class="btn btn-cerrar btn-info"> Cerrar</a>
        </div>
    </div>
    <div class="modal fade static" id="itemspaneladicionarsubtemas" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Adicionar Sub Temas</h3>
        </div>
        <div class="modal-body" style="display: inline-block;">
            <div class="row-fluid">
                <form id="formsalida" name="formsubtemas" class="form-vertical form-modal" style="width: 580px;">
                    <span>Tema: </span>
                    <select id="id_tema" class="selector" name="tema" style="width: 92%">
                    </select><br><br>
                    <input type='hidden' name='ids' id="ids"/>
                    <table class="table table-bordered" border="0" width="100%" style="background-color: transparent">
                        <tr>
                            <td border="0" style="background-color: transparent">
                                <label><b>Sub Tema</b></label>
                            </td>
                        </tr>
                        <tr>
                            <td border="0" style="background-color: transparent">
                                <textarea rows="2" id="id_subtema"style="text-align: justify; width: 100%;" maxlength="150"></textarea><br>
                                <span class="obligatorio" style="color: red"></span>
                            </td>
                            <td style="text-align: right; background-color: transparent" width="8%" border="0">
                                <a href="javascript:;" class="btn btn-success addsubtema"><i class="fa fa-plus"></i></a>
                            </td>
                        </tr>
                    </table>
                </form>
                <div style="margin: 0px;overflow-y:auto;height:150px;">
                    <table class="table table-bordered table-condensed">
                        <thead>
                        <tr>
                            <th style="text-align: left">Tema</th>
                            <th style="text-align: left">Subtema</th>
                            <th style="text-align: left">Acciones</th>
                        </tr>
                        </thead>
                        <tbody id="contenidosubtemas">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <a href="javascript:;" id="adicionarsubtema" class="btn btn-adicionarsubtema btn-success"> Guardar</a>
            <a href="javascript:;" class="btn btn-cerrar btn-info"> Cerrar</a>
        </div>
    </div>
    <div class="modal fade static itemspanelimportar_silabo_periodo" id="itemspanelimportar_silabo_periodo" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Sílabos que puede importar de otros periodos</h3>
        </div>
        <div class="modal-body panelbody"></div>
        <div class="modal-footer" style="margin-top: -15px">
            <table class="pull-right">
                <tr>
                    <td><a href="javascript:;" class="btn btn-cerrar btn-info">Cerrar</a></td>
                </tr>
            </table>
        </div>
    </div>

    <div class="modal fade static itemspanellink" id="itemspanellink" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Editar recursos didácticos (link de youtube, etc)</h3>
        </div>
        <div class="modal-body panelbodylink">

        </div>
        <div class="modal-footer">
            <a href="javascript:;" id="adicionarlink" class="btn btn-success adicionarlink"> Guardar</a>
            <a href="javascript:;" class="btn btn-cerrar btn-info"> Cerrar</a>
        </div>
    </div>
{% endblock %}