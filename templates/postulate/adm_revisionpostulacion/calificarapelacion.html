{% load sga_extras %}

<div class="row">
    <div class="col-lg-12">
        <table class="table table-bordered table-td-valign-middle" style="width: 100%">
            <thead class="thead-light">
            <tr>
                <th colspan="12"><i class="fa fa-file"></i> Información de la Partida</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="text-align: left"><b>Nivel: </b>{{ partida.get_nivel_display }}</td>
                <td style="text-align: left"><b>Modalidad: </b>{{ partida.get_modalidad_display }}</td>
                <td style="text-align: left"><b>Dedicacion: </b>{{ partida.get_dedicacion_display }}</td>
                <td style="text-align: left"><b>Jornada: </b>{{ partida.get_jornada_display }}</td>
            </tr>
            <tr>
                <td colspan="5">
                    <div class="row">
                        <div class="col-lg-4">
                            <ul>
                                <li><b>Campo Amplio</b></li>
                                {% for lca in partida.campoamplio.all %}
                                    <li style="list-style-type: circle;">{{ lca }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                        <div class="col-lg-4">
                            <ul>
                                <li><b>Campo Especifico</b></li>
                                {% for lce in partida.campoespecifico.all %}
                                    <li style="list-style-type: circle;">{{ lce }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                        <div class="col-lg-4">
                            <ul>
                                <li><b>Campo Detallado</b></li>
                                {% for lcd in partida.campodetallado.all %}
                                    <li style="list-style-type: circle;">{{ lcd }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="col-lg-9">
        <div id="idiomas-persona">
            <div>
                <i class="fa fa-certificate"></i> CERTIFICACIONES DE SUFICIENCIAS EN IDIOMAS
            </div>
            <table class='table table-sm table-bordered table-responsive-sm' cellpadding="0" cellspacing="0">
                <thead class="thead-light">
                <tr>
                    <th>Institución certificadora</th>
                    <th class="text-center">Idioma</th>
                    <th class="text-center">Nivel de suficiencia</th>
                    <th class="text-center">Fecha certificación</th>
                    <th class="text-center">Archivo</th>
                    <th class="text-center">
                        ¿Aprobar?&nbsp;&nbsp;{% if partida.convocatoria.vigente and posidiomas %}<input type="checkbox" id="calificar_todo_idiomas" class="switch" {% if posidiomascheck %}checked{% endif %}>{% endif %}
                    </th>
                </tr>
                </thead>
                <tbody>
                {% for cer in posidiomas %}
                    <tr>
                        {% if cer.institucioncerti %}
                            <td style="text-align: left; vertical-align: middle">{{ cer.institucioncerti }}</td>
                        {% else %}
                            <td style="text-align: left; vertical-align: middle">{{ cer.otrainstitucion }}</td>
                        {% endif %}
                        <td style="text-align: center; vertical-align: middle">{{ cer.idioma }}</td>
                        <td style="text-align: center; vertical-align: middle">{{ cer.nivelsuficencia }}</td>
                        <td style="text-align: center; vertical-align: middle">{{ cer.fechacerti|date:"Y-m-d" }}<br>
                        <td style="text-align: center; vertical-align: middle">
                            {% if cer.archivo %}
                                <a data-fancybox data-type="iframe" class="btn btn-default tu" title="Evidencia"
                                   href="/media/{{ cer.archivo }}">
                                    <img style="margin-top: 2px; width: 25px" src="/static/images/pdf.png"/>
                                </a>
                            {% else %}
                                <label class="label label-default"><i class="fa fa-times"></i></label>
                            {% endif %}
                        </td>
                        <td style="text-align: center; vertical-align: middle">
                            {% if partida.convocatoria.vigente %}
                                {% if cer.aceptado %}
                                    <a href="javascript:;" class="registro_certificacion" id='activado_cer{{ cer.id }}' data-id="{{ cer.id }}" onclick="certificacionidiomas('{{ cer.id }}')"><i style="color: green">Aceptado</i></a>
                                {% else %}
                                    <a href="javascript:;" class="registro_certificacion" id='activado_cer{{ cer.id }}' data-id="{{ cer.id }}" onclick="certificacionidiomas('{{ cer.id }}')"><i style="color: red">Rechazado</i></a>
                                {% endif %}
                            {% else %}
                                <i class="{{ cer.aceptado_str|safe }}"></i>
                            {% endif %}
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="8">NO EXISTEN CERTIFICACIONES DE SUFICIENCIAS EN IDIOMAS</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
        <div id="formacion-academica">
            <div>
                <h6><i class="fa fa-graduation-cap"></i> Formación Academica</h6>
            </div>
            <table class='table table-sm table-bordered table-responsive-sm' cellpadding="0" cellspacing="0">
                <thead class="thead-light">
                <tr>
                    <th>Título</th>
                    <th>Instituci&oacute;n</th>
                    <th class="text-center">Nivel</th>
                    <th style="text-align: center">¿Cursando?</th>
                    <th style="text-align: center">Archivo</th>
                    <th class="text-center">
                        ¿Aprobar? <br> {% if partida.convocatoria.vigente and postitulacion %}<input type="checkbox" id="calificar_todo_formacion" class="switch" {% if postitulacioncheck %}checked{% endif %}>{% endif %}
                    </th>
                </tr>
                </thead>
                <tbody>
                {% for titulacion in postitulacion %}
                    <tr>
                        <td style="text-align: left; vertical-align: middle"><b>*</b> {{ titulacion.titulo }}</td>
                        <td style="text-align: left; vertical-align: middle">
                            {% if titulacion.educacionsuperior %}{{ titulacion.institucion }}{% else %}
                                {{ titulacion.colegio }}
                            {% endif %}
                        </td>
                        <td style="text-align: center; vertical-align: middle">{{ titulacion.titulo.nivel.get_nivel_display }}</td>
                        <td style="text-align: center; vertical-align: middle">{% if titulacion.cursando %}<label class="label label-warning">SI</label>{% else %}<label class="label label-default">NO</label>{% endif %}</td>
                        <td style="text-align: center; vertical-align: middle">
                            {% if titulacion.archivo %}
                                <a data-fancybox data-type="iframe" class="btn btn-default tu" title="Evidencia"
                                   href="/media/{{ titulacion.archivo }}">
                                    <img style="margin-top: 2px; width: 25px" src="/static/images/pdf.png"/>
                                </a>
                            {% else %}
                                <label class="label label-default"><i class="fa fa-times"></i></label>
                            {% endif %}
                        </td>
                        <td rowspan="2" style="text-align: center; vertical-align: middle">
                            {% if partida.convocatoria.vigente %}
                                {% if titulacion.aceptado %}
                                    <a href="javascript:;" class="registro_formacionacademica" id='activado_formacion{{ titulacion.id }}' data-id="{{ titulacion.id }}" onclick="formacionacademica('{{ titulacion.id }}')"><i style="color: green">Aceptado</i></a>
                                {% else %}
                                    <a href="javascript:;" class="registro_formacionacademica" id='activado_formacion{{ titulacion.id }}' data-id="{{ titulacion.id }}" onclick="formacionacademica('{{ titulacion.id }}')"><i style="color: red">Rechazado</i></a>
                                {% endif %}
                            {% else %}
                                <i class="{{ titulacion.aceptado_str|safe }}"></i>
                            {% endif %}
                        </td>
                    </tr>
                    <tr>
                        <td colspan="5">
                            <div class="row">
                                <div class="col-lg-4">
                                    <ul>
                                        <li><b>Campo Amplio</b></li>
                                        {% for lca in titulacion.campoamplio.all %}
                                            <li style="list-style-type: circle;">{{ lca }}</li>
                                        {% endfor %}
                                    </ul>
                                </div>
                                <div class="col-lg-4">
                                    <ul>
                                        <li><b>Campo Especifico</b></li>
                                        {% for lce in titulacion.campoespecifico.all %}
                                            <li style="list-style-type: circle;">{{ lce }}</li>
                                        {% endfor %}
                                    </ul>
                                </div>
                                <div class="col-lg-4">
                                    <ul>
                                        <li><b>Campo Detallado</b></li>
                                        {% for lce in titulacion.campodetallado.all %}
                                            <li style="list-style-type: circle;">{{ lce }}</li>
                                        {% endfor %}
                                    </ul>
                                </div>
                            </div>
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="10">NO EXISTEN TITULACIONES REGISTRADAS</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
        <div id="experiencia-profesional">
            <div>
                <i class="fa fa-briefcase"></i> EXPERIENCIA LABORAL
            </div>
            <table class='table table-sm table-bordered table-responsive-sm' cellpadding="0" cellspacing="0">
                <thead class="thead-light">
                <tr>
                    <th style="text-align: center">Lugar</th>
                    <th style="text-align: center">Actividad Laboral</th>
                    <th style="text-align: center">F. Inicio</th>
                    <th style="text-align: center">F. Fin</th>
                    <th style="text-align: center">Meses</th>
                    <th style="text-align: center">Archivo</th>
                    <th class="text-center">
                        ¿Aprobar? <br> {% if partida.convocatoria.vigente and posexperiencia %}<input type="checkbox" id="calificar_todo_exp" class="switch" {% if posexperienciacheck %}checked{% endif %}>{% endif %}
                    </th>
                </tr>
                </thead>
                <tbody>
                {% for experiencia in posexperiencia %}
                    <tr>
                        <td style="text-align: left; vertical-align: middle">{{ experiencia.institucion }}<br><b>Cargo:</b> {{ experiencia.cargo }}</td>
                        <td style="text-align: center; vertical-align: middle">{{ experiencia.actividadlaboral }}</td>
                        <td style="text-align: center; vertical-align: middle">{{ experiencia.fechainicio|date:'d-m-Y' }}</td>
                        <td style="text-align: center; vertical-align: middle">{{ experiencia.fechafin|date:'d-m-Y' }}</td>
                        <td style="text-align: center; vertical-align: middle">{{ experiencia.meses }}</td>
                        <td style="text-align: center; vertical-align: middle">
                            {% if experiencia.archivo %}
                                <a data-fancybox data-type="iframe" class="btn btn-default tu" title="Evidencia"
                                   href="/media/{{ experiencia.archivo }}">
                                    <img style="margin-top: 2px; width: 25px" src="/static/images/pdf.png"/>
                                </a>
                            {% else %}
                                <label class="label label-default"><i class="fa fa-times"></i></label>
                            {% endif %}
                        </td>
                        <td style="text-align: center; vertical-align: middle">
                            {% if partida.convocatoria.vigente %}
                                {% if experiencia.aceptado %}
                                    <a href="javascript:;" class="registro_experiencia" id='activado_experiencia{{ experiencia.id }}' data-id="{{ experiencia.id }}" onclick="experiencia('{{ experiencia.id }}')"><i style="color: green">Aceptado</i></a>
                                {% else %}
                                    <a href="javascript:;" class="registro_experiencia" id='activado_experiencia{{ experiencia.id }}' data-id="{{ experiencia.id }}" onclick="experiencia('{{ experiencia.id }}')"><i style="color: red">Rechazado</i></a>
                                {% endif %}
                            {% else %}
                                <i class="{{ experiencia.aceptado_str|safe }}"></i>
                            {% endif %}
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="10">NO EXISTEN EXPERIENCIAS LABORALES REGISTRADOS
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
        <div id="capacitaciones-persona">
            <div>
                <i class="fa fa-chalkboard-teacher"></i> CAPACITACIONES
            </div>
            <table class='table table-sm table-bordered table-responsive-sm' cellpadding="0" cellspacing="0">
                <thead class="thead-light">
                <tr>
                    <th>Evento</th>
                    <th style="text-align: center">Tipo</th>
                    <th style="text-align: center">F. Inicio</th>
                    <th style="text-align: center">F. Fin</th>
                    <th style="text-align: center">Horas</th>
                    <th style="text-align: center">Archivo</th>
                    <th class="text-center">
                        ¿Aprobar? <br> {% if partida.convocatoria.vigente and poscapacitacion %}<input type="checkbox" id="calificar_todo_capacitaciones" class="switch" {% if poscapacitacioncheck %}checked{% endif %}>{% endif %}
                    </th>
                </tr>
                </thead>
                <tbody>
                {% for capacitacion in poscapacitacion %}
                    <tr>
                        <td>{{ capacitacion.nombre }}<br><b>Institución:</b>{{ capacitacion.institucion }}</td>
                        <td style="text-align: center; vertical-align: middle">{{ capacitacion.get_tipo_display }}</td>
                        <td style="text-align: center; vertical-align: middle">{{ capacitacion.fechainicio|date:'d-m-Y' }}</td>
                        <td style="text-align: center; vertical-align: middle">{{ capacitacion.fechafin|date:'d-m-Y' }}</td>
                        <td style="text-align: center; vertical-align: middle">{{ capacitacion.horas|floatformat:2 }}</td>
                        <td style="text-align: center; vertical-align: middle">
                            {% if capacitacion.archivo %}
                                <a data-fancybox data-type="iframe" class="btn btn-default tu" title="Evidencia"
                                   href="/media/{{ capacitacion.archivo }}"><img style="margin-top: 2px; width: 25px" src="/static/images/pdf.png"/>
                                </a>
                            {% else %}
                                <label class="label label-default"><i class="fa fa-times"></i></label>
                            {% endif %}
                        </td>
                        <td style="text-align: center; vertical-align: middle">
                            {% if partida.convocatoria.vigente %}
                                {% if capacitacion.aceptado %}
                                    <a href="javascript:;" class="registro_capacitacion" id='activado_capacitacion{{ capacitacion.id }}' data-id="{{ capacitacion.id }}" onclick="capacitacion('{{ capacitacion.id }}')"><i style="color: green">Aceptado</i></a>
                                {% else %}
                                    <a href="javascript:;" class="registro_capacitacion" id='activado_capacitacion{{ capacitacion.id }}' data-id="{{ capacitacion.id }}" onclick="capacitacion('{{ capacitacion.id }}')"><i style="color: red">Rechazado</i></a>
                                {% endif %}
                            {% else %}
                                <i class="{{ capacitacion.aceptado_str|safe }}"></i>
                            {% endif %}
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="10">NO EXISTEN CAPACITACIONES REGISTRADAS</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
        <div id="publicaciones-persona">
            <div>
                <i class="fa fa-book"></i> PUBLICACIONES
            </div>
            <table class='table table-sm table-bordered table-responsive-sm' cellpadding="0" cellspacing="0">
                <thead class="thead-light">
                <tr>
                    <th>Nombre</th>
                    <th style="text-align: center">Fecha</th>
                    <th style="text-align: center">Tipo</th>
                    <th style="text-align: center">Archivo</th>
                    <th class="text-center">
                        ¿Aprobar? <br> {% if partida.convocatoria.vigente and pospublicacion %}<input type="checkbox" id="calificar_todo_publicaciones" class="switch" {% if pospublicacioncheck %}checked{% endif %}>{% endif %}
                    </th>
                </tr>
                </thead>
                <tbody>
                {% for publicacion in pospublicacion %}
                    <tr>
                        <td style="text-align: left; vertical-align: middle">{{ publicacion.nombre }}</td>
                        <td style="text-align: center; vertical-align: middle">{{ publicacion.fecha|date:'d-m-Y' }}</td>
                        <td style="text-align: center; vertical-align: middle">{{ publicacion.get_tiposolicitud_display }}</td>
                        <td style="text-align: center; vertical-align: middle">
                            {% if publicacion.archivo %}
                                <a data-fancybox data-type="iframe" class="btn btn-default tu" title="Evidencia"
                                   href="/media/{{ publicacion.archivo }}">
                                    <img style="margin-top: 2px; width: 25px" src="/static/images/pdf.png"/>
                                </a>
                            {% else %}
                                <label class="label label-default"><i class="fa fa-times"></i></label>
                            {% endif %}
                        </td>
                        <td style="text-align: center; vertical-align: middle">
                            {% if partida.convocatoria.vigente %}
                                {% if publicacion.aceptado %}
                                    <a href="javascript:;" class="registro_publicacion" id='activado_publicacion{{ publicacion.id }}' data-id="{{ publicacion.id }}" onclick="publicacion('{{ publicacion.id }}')"><i style="color: green">Aceptado</i></a>
                                {% else %}
                                    <a href="javascript:;" class="registro_publicacion" id='activado_publicacion{{ publicacion.id }}' data-id="{{ publicacion.id }}" onclick="publicacion('{{ publicacion.id }}')"><i style="color: red">Rechazado</i></a>
                                {% endif %}
                            {% else %}
                                <i class="{{ publicacion.aceptado_str|safe }}"></i>
                            {% endif %}
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="10">NO EXISTEN CAPACITACIONES REGISTRADAS</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <div class="col-lg-3">
        <div id="calificacion-panel">
            {% if partida.convocatoria.vigente %}
                <table class="table table-bordered">
                    <thead class="thead-light">
                    <tr>
                        <th colspan="2"><i class="fa fa-certificate"></i> Finalizar Calificación</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr style="background-color: #F2F4F4">
                        <td style="text-align: left;"><b><i class="fa fa-graduation-cap"></i> Grado Académico:</b></td>
                        <td style="text-align: center; font-size: 14px"><b id="pexpgradoacademico">{{ postulante.total_puntos_gradoacademico }}</b>p</td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <b>Observación Grado Academico:</b><br>
                            <textarea name="obsgradoacademico" id="id_obsgradoacademico" cols="15" rows="2" class="form-control">{{ postulante.obsgradoacademico }}</textarea>
                        </td>
                    </tr>
                    <tr style="background-color: #F2F4F4">
                        <td style="text-align: left;"><b><i class="fa fa-briefcase"></i> Experiencia Docente:</b></td>
                        <td style="text-align: center; font-size: 14px"><b id="pexpdocentes">{{ postulante.total_puntos_experiencia_docente }}</b>p</td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <b>Observación Experiencia:</b><br>
                            <textarea name="obsexperienciadoc" id="id_obsexperienciadoc" cols="15" rows="2" class="form-control">{{ postulante.obsexperienciadoc }}</textarea>
                        </td>
                    </tr>
                    <tr style="background-color: #F2F4F4">
                        <td style="text-align: left;"><b><i class="fa fa-briefcase"></i> Experiencia Profesional</b></td>
                        <td style="text-align: center; font-size: 14px"><b id="pexpadministrativo">{{ postulante.total_puntos_experiencia_administrativo }}</b>p</td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <b>Observación Experiencia:</b><br>
                            <textarea name="obsexperienciapro" id="id_obsexperienciapro" cols="15" rows="2" class="form-control">{{ postulante.obsexperienciaadmin }}</textarea>
                        </td>
                    </tr>
                    <tr style="background-color: #F2F4F4">
                        <td style="text-align: left;"><b><i class="fa fa-chalkboard-teacher"></i> Capacitación</b></td>
                        <td style="text-align: center; font-size: 14px"><b id="pcapacitacion">{{ postulante.total_puntos_capacitacion }}</b>p</td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <b>Observación Capacitación:</b><br>
                            <textarea name="obscapacitacion" id="id_obscapacitacion" cols="15" rows="2" class="form-control">{{ postulante.obscapacitacion }}</textarea>
                        </td>
                    </tr>
                    <tr style="background-color: #F2F4F4">
                        <td style="text-align: left;"><b><i class="fa fa-list-alt"></i> Finalizar Calificación</b></td>
                        <td style="text-align: center; font-size: 14px"><b id="ptotal">{{ postulante.total_puntos }}</b>p</td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <b>Estado:</b><br>
                            <select name="estadoPostulacion" id="id_estadopostulacion" class="form-control">
                                <option value="">-------------------</option>
                                {% for est in estados %}
                                    <option value="{{ est.0 }}">{{ est.1 }}</option>
                                {% endfor %}
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <b>Observación:</b><br>
                            <textarea name="obsgeneral" id="id_obsgeneral" cols="15" rows="2" class="form-control">{{ postulante.obsgeneral }}</textarea>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align: right">
                            <a href="javascript:void(0)" onclick="finalizarrevision('{{ postulante.id }}', '{{ postulante.persona }}')" class="btn btn-success btn-block"><i class="fa fa-check-circle"></i> Finalizar Calificación</a>
                            {#                    <button type="button" class="btn btn-danger" data-dismiss="modal"><i class="fa fa-window-close"></i> Cancelar</button>#}
                        </td>
                    </tr>
                    </tbody>
                </table>
            {% else %}
                <table class="table table-bordered">
                    <thead class="thead-light">
                    <tr>
                        <th colspan="2"><i class="fa fa-certificate"></i> Resumen Calificación</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr style="background-color: #F2F4F4">
                        <td style="text-align: left;"><b><i class="fa fa-graduation-cap"></i> Grado Académico:</b></td>
                        <td style="text-align: center; font-size: 14px"><b id="pexpgradoacademico">{{ postulante.pgradoacademico }}</b>p</td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <b>Observación Grado Academico:</b><br>
                            {{ postulante.obsgradoacademico|default:'Ninguna' }}
                        </td>
                    </tr>
                    <tr style="background-color: #F2F4F4">
                        <td style="text-align: left;"><b><i class="fa fa-briefcase"></i> Experiencia Docente:</b></td>
                        <td style="text-align: center; font-size: 14px"><b id="pexpdocentes">{{ postulante.pexpdocente }}</b>p</td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <b>Observación Experiencia:</b><br>
                            {{ postulante.obsexperienciadoc|default:'Ninguna' }}
                        </td>
                    </tr>
                    <tr style="background-color: #F2F4F4">
                        <td style="text-align: left;"><b><i class="fa fa-briefcase"></i> Experiencia Profesional</b></td>
                        <td style="text-align: center; font-size: 14px"><b id="pexpadministrativo">{{ postulante.pexpadministrativa }}</b>p</td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <b>Observación Experiencia:</b><br>
                            {{ postulante.obsexperienciaadmin|default:'Ninguna' }}
                        </td>
                    </tr>
                    <tr style="background-color: #F2F4F4">
                        <td style="text-align: left;"><b><i class="fa fa-chalkboard-teacher"></i> Capacitación</b></td>
                        <td style="text-align: center; font-size: 14px"><b id="pcapacitacion">{{ postulante.pcapacitacion }}</b>p</td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <b>Observación Capacitación:</b><br>
                            {{ postulante.obscapacitacion|default:'Ninguna' }}
                        </td>
                    </tr>
                    <tr style="background-color: #F2F4F4">
                        <td style="text-align: left;"><b><i class="fa fa-list-alt"></i> Finalizar Calificación</b></td>
                        <td style="text-align: center; font-size: 14px"><b id="ptotal">{{ postulante.nota_final_meritos }}</b>p</td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <b>Observación:</b><br>
                            {{ postulante.obsgeneral|default:'Ninguna' }}
                        </td>
                    </tr>
                    </tbody>
                </table>
            {% endif %}
            <ul>
                <li><b><i class="fa fa-clipboard-list"></i> Parametros de Calificación</b></li>
                <li style="list-style-type: circle;">Tercer Nivel <b>{{ partida.convocatoria.valtercernivel }} ptos.</b></li>
                <li style="list-style-type: circle;">Título de grado o posgrado (Maestría) <b>{{ partida.convocatoria.valposgrado }} ptos.</b></li>
                <li style="list-style-type: circle;">Doctorado, PhD o su equivalente <b>{{ partida.convocatoria.valdoctorado }} ptos.</b></li>
                <li style="list-style-type: circle;">40 horas de capacitación pedagógica o científica. <b>{{ partida.convocatoria.valcapacitacionmin }} ptos.</b></li>
                <li style="list-style-type: circle;">Más de 40 horas de capacitación pedagógica o científica. <b>{{ partida.convocatoria.valcapacitacionmax }} ptos.</b></li>
                <li style="list-style-type: circle;">Experiencia docente ( 12 meses). <b>{{ partida.convocatoria.valexpdocentemin }} ptos.</b></li>
                <li style="list-style-type: circle;">Experiencia docente (más de 12 meses). <b>{{ partida.convocatoria.valexpdocentemax }} ptos.</b></li>
                <li style="list-style-type: circle;">Experiencia en el campo del conocimiento o profesional ( 12 meses). <b>{{ partida.convocatoria.valexpadminmin }} ptos.</b></li>
                <li style="list-style-type: circle;">Experiencia en el campo del conocimiento o profesional (más de 12 meses). <b>{{ partida.convocatoria.valexpadminmax }} ptos.</b></li>
            </ul>
        </div>
    </div>
</div>

<script>

    $(function () {

        $('#calificar_todo_idiomas').on('change', function () {
            Swal.fire({
                title: `¿Está seguro de modificar estado?`,
                text: "Certificación Idiomas",
                type: 'warning',
                showCancelButton: true,
                allowOutsideClick: false,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Si, deseo hacerlo',
                cancelButtonText: 'Cancelar'
            }).then((result) => {
                if (result.value) {
                    if ($("#calificar_todo_idiomas").prop('checked')) {
                        bloqueointerface();
                        $(".registro_certificacion").each(function () {
                            var id = $(this).attr("data-id");
                            $.post("{{ ruta_ }}", {'action': 'estcertificacionidiomas', 'id': id, 'activar': 1}, function (data) {
                                $.unblockUI();
                                if (data.result === 'ok') {
                                    $(`#activado_cer${id}`).html('<i style="color: green">Aceptado</i>');
                                } else {
                                    alertaDanger(data.mensaje)
                                }
                            });
                        });
                    } else {
                        bloqueointerface();
                        $(".registro_certificacion").each(function () {
                            var id = $(this).attr("data-id");
                            $.post("{{ ruta_ }}", {'action': 'estcertificacionidiomas', 'id': id, 'activar': 2}, function (data) {
                                $.unblockUI();
                                if (data.result === 'ok') {
                                    $(`#activado_cer${id}`).html('<i  style="color: red">Rechazado</i>');
                                } else {
                                    alertaDanger(data.mensaje)
                                }
                            });
                        });
                    }
                } else {
                    if ($("#calificar_todo_idiomas").prop('checked')) {
                        $("#calificar_todo_idiomas").prop("checked", false);
                    } else {
                        $("#calificar_todo_idiomas").prop("checked", true);
                    }
                }
            })
        });

        $('#calificar_todo_formacion').on('change', function () {
            Swal.fire({
                title: `¿Está seguro de modificar estado?`,
                text: "Formación Academico",
                type: 'warning',
                showCancelButton: true,
                allowOutsideClick: false,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Si, deseo hacerlo',
                cancelButtonText: 'Cancelar'
            }).then((result) => {
                if (result.value) {
                    if ($("#calificar_todo_formacion").prop('checked')) {
                        bloqueointerface();
                        $(".registro_formacionacademica").each(function () {
                            var id = $(this).attr("data-id");
                            $.post("{{ ruta_ }}", {'action': 'estformacionacademica', 'id': id, 'activar': 1}, function (data) {
                                $.unblockUI();
                                if (data.result === 'ok') {
                                    $(`#activado_formacion${id}`).html('<i style="color: green">Aceptado</i>');
                                    $("#pexpgradoacademico").html(data.valor);
                                    $("#ptotal").html(data.total);
                                } else {
                                    alertaDanger(data.mensaje)
                                }
                            });
                        });
                    } else {
                        bloqueointerface();
                        $(".registro_formacionacademica").each(function () {
                            var id = $(this).attr("data-id");
                            $.post("{{ ruta_ }}", {'action': 'estformacionacademica', 'id': id, 'activar': 2}, function (data) {
                                $.unblockUI();
                                if (data.result === 'ok') {
                                    $(`#activado_formacion${id}`).html('<i  style="color: red">Rechazado</i>');
                                    $("#pexpgradoacademico").html(data.valor);
                                    $("#ptotal").html(data.total);
                                } else {
                                    alertaDanger(data.mensaje)
                                }
                            });
                        });
                    }
                } else {
                    if ($("#calificar_todo_formacion").prop('checked')) {
                        $("#calificar_todo_formacion").prop("checked", false);
                    } else {
                        $("#calificar_todo_formacion").prop("checked", true);
                    }
                }
            })
        });

        $('#calificar_todo_exp').on('change', function () {
            Swal.fire({
                title: `¿Está seguro de modificar estado?`,
                text: "Experiencia",
                type: 'warning',
                showCancelButton: true,
                allowOutsideClick: false,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Si, deseo hacerlo',
                cancelButtonText: 'Cancelar'
            }).then((result) => {
                if (result.value) {
                    if ($("#calificar_todo_exp").prop('checked')) {
                        bloqueointerface();
                        $(".registro_experiencia").each(function () {
                            var id = $(this).attr("data-id");
                            $.post("{{ ruta_ }}", {'action': 'estexperiencia', 'id': id, 'activar': 1}, function (data) {
                                $.unblockUI();
                                if (data.result === 'ok') {
                                    $(`#activado_experiencia${id}`).html('<i style="color: green">Aceptado</i>');
                                    $("#pexpadministrativo").html(data.valoradm);
                                    $("#pexpdocentes").html(data.valordoc);
                                    $("#ptotal").html(data.total);
                                } else {
                                    alertaDanger(data.mensaje)
                                }
                            });
                        });
                    } else {
                        bloqueointerface();
                        $(".registro_experiencia").each(function () {
                            var id = $(this).attr("data-id");
                            $.post("{{ ruta_ }}", {'action': 'estexperiencia', 'id': id, 'activar': 2}, function (data) {
                                $.unblockUI();
                                if (data.result === 'ok') {
                                    $(`#activado_experiencia${id}`).html('<i  style="color: red">Rechazado</i>');
                                    $("#pexpadministrativo").html(data.valoradm);
                                    $("#pexpdocentes").html(data.valordoc);
                                    $("#ptotal").html(data.total);
                                } else {
                                    alertaDanger(data.mensaje)
                                }
                            });
                        });
                    }
                } else {
                    if ($("#calificar_todo_exp").prop('checked')) {
                        $("#calificar_todo_exp").prop("checked", false);
                    } else {
                        $("#calificar_todo_exp").prop("checked", true);
                    }
                }
            })
        });

        $('#calificar_todo_capacitaciones').on('change', function () {
            Swal.fire({
                title: `¿Está seguro de modificar estado?`,
                text: "Capacitaciones",
                type: 'warning',
                showCancelButton: true,
                allowOutsideClick: false,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Si, deseo hacerlo',
                cancelButtonText: 'Cancelar'
            }).then((result) => {
                if (result.value) {
                    if ($("#calificar_todo_capacitaciones").prop('checked')) {
                        bloqueointerface();
                        $(".registro_capacitacion").each(function () {
                            var id = $(this).attr("data-id");
                            $.post("{{ ruta_ }}", {'action': 'estcapacitacion', 'id': id, 'activar': 1}, function (data) {
                                $.unblockUI();
                                if (data.result === 'ok') {
                                    console.log(data.valor)
                                    $(`#activado_capacitacion${id}`).html('<i style="color: green">Aceptado</i>');
                                    $("#pcapacitacion").html(data.valor);
                                    $("#ptotal").html(data.total);
                                } else {
                                    alertaDanger(data.mensaje)
                                }
                            });
                        });
                    } else {
                        bloqueointerface();
                        $(".registro_capacitacion").each(function () {
                            var id = $(this).attr("data-id");
                            $.post("{{ ruta_ }}", {'action': 'estcapacitacion', 'id': id, 'activar': 2}, function (data) {
                                $.unblockUI();
                                if (data.result === 'ok') {
                                    $(`#activado_capacitacion${id}`).html('<i  style="color: red">Rechazado</i>');
                                    $("#pcapacitacion").html(data.valor);
                                    $("#ptotal").html(data.total);
                                } else {
                                    alertaDanger(data.mensaje)
                                }
                            });
                        });
                    }
                } else {
                    if ($("#calificar_todo_capacitaciones").prop('checked')) {
                        $("#calificar_todo_capacitaciones").prop("checked", false);
                    } else {
                        $("#calificar_todo_capacitaciones").prop("checked", true);
                    }
                }
            })
        });

        $('#calificar_todo_publicaciones').on('change', function () {
            Swal.fire({
                title: `¿Está seguro de modificar estado?`,
                text: "Publicaciones",
                type: 'warning',
                showCancelButton: true,
                allowOutsideClick: false,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Si, deseo hacerlo',
                cancelButtonText: 'Cancelar'
            }).then((result) => {
                if (result.value) {
                    if ($("#calificar_todo_publicaciones").prop('checked')) {
                        bloqueointerface();
                        $(".registro_publicacion").each(function () {
                            var id = $(this).attr("data-id");
                            $.post("{{ ruta_ }}", {'action': 'estcertificacionidiomas', 'id': id, 'activar': 1}, function (data) {
                                $.unblockUI();
                                if (data.result === 'ok') {
                                    $(`#activado_publicacion${id}`).html('<i style="color: green">Aceptado</i>');
                                } else {
                                    alertaDanger(data.mensaje)
                                }
                            });
                        });
                    } else {
                        bloqueointerface();
                        $(".registro_publicacion").each(function () {
                            var id = $(this).attr("data-id");
                            $.post("{{ ruta_ }}", {'action': 'estpublicacion', 'id': id, 'activar': 2}, function (data) {
                                $.unblockUI();
                                if (data.result === 'ok') {
                                    $(`#activado_publicacion${id}`).html('<i  style="color: red">Rechazado</i>');
                                } else {
                                    alertaDanger(data.mensaje)
                                }
                            });
                        });
                    }
                } else {
                    if ($("#calificar_todo_publicaciones").prop('checked')) {
                        $("#calificar_todo_publicaciones").prop("checked", false);
                    } else {
                        $("#calificar_todo_publicaciones").prop("checked", true);
                    }
                }
            })
        });

        $('#id_obsgradoacademico').on('blur', function () {
            var txtobs = $(this);
            var value = txtobs.val();
            bloqueointerface();
            $.ajax({
                type: "POST",
                url: "{{ url_ }}",
                data: {'action': 'obsgradoacademico', 'id': '{{ postulante.id }}', 'value': value},
                success: function (data) {
                    if (data.result === 'ok') {
                        setTimeout($.unblockUI, 1);
                        alertaSuccess('Observación Guardada', 'Aviso!', 10000);
                    } else {
                        setTimeout($.unblockUI, 1);
                        smoke.alert(data.mensaje);
                    }
                },
                error: function () {
                    setTimeout($.unblockUI, 1);
                    mensajeWarning("Error de conexión.");
                },
                dataType: "json"
            });
        })

        $('#id_obsexperienciadoc').on('blur', function () {
            var txtobs = $(this);
            var value = txtobs.val();
            bloqueointerface();
            $.ajax({
                type: "POST",
                url: "{{ url_ }}",
                data: {'action': 'obsexperienciadoc', 'id': '{{ postulante.id }}', 'value': value},
                success: function (data) {
                    if (data.result === 'ok') {
                        setTimeout($.unblockUI, 1);
                        alertaSuccess('Observación Guardada', 'Aviso!', 10000);
                    } else {
                        setTimeout($.unblockUI, 1);
                        smoke.alert(data.mensaje);
                    }
                },
                error: function () {
                    setTimeout($.unblockUI, 1);
                    mensajeWarning("Error de conexión.");
                },
                dataType: "json"
            });
        })

        $('#id_obsexperienciapro').on('blur', function () {
            var txtobs = $(this);
            var value = txtobs.val();
            bloqueointerface();
            $.ajax({
                type: "POST",
                url: "{{ url_ }}",
                data: {'action': 'obsexperienciapro', 'id': '{{ postulante.id }}', 'value': value},
                success: function (data) {
                    if (data.result === 'ok') {
                        setTimeout($.unblockUI, 1);
                        alertaSuccess('Observación Guardada', 'Aviso!', 10000);
                    } else {
                        setTimeout($.unblockUI, 1);
                        smoke.alert(data.mensaje);
                    }
                },
                error: function () {
                    setTimeout($.unblockUI, 1);
                    mensajeWarning("Error de conexión.");
                },
                dataType: "json"
            });
        })

        $('#id_obscapacitacion').on('blur', function () {
            var txtobs = $(this);
            var value = txtobs.val();
            bloqueointerface();
            $.ajax({
                type: "POST",
                url: "{{ url_ }}",
                data: {'action': 'obscapacitacion', 'id': '{{ postulante.id }}', 'value': value},
                success: function (data) {
                    if (data.result === 'ok') {
                        setTimeout($.unblockUI, 1);
                        alertaSuccess('Observación Guardada', 'Aviso!', 10000);
                    } else {
                        setTimeout($.unblockUI, 1);
                        smoke.alert(data.mensaje);
                    }
                },
                error: function () {
                    setTimeout($.unblockUI, 1);
                    mensajeWarning("Error de conexión.");
                },
                dataType: "json"
            });
        })

        $('#id_obsgeneral').on('blur', function () {
            var txtobs = $(this);
            var value = txtobs.val();
            bloqueointerface();
            $.ajax({
                type: "POST",
                url: "{{ url_ }}",
                data: {'action': 'obsgeneral', 'id': '{{ postulante.id }}', 'value': value},
                success: function (data) {
                    if (data.result === 'ok') {
                        setTimeout($.unblockUI, 1);
                        alertaSuccess('Observación Guardada', 'Aviso!', 10000);
                    } else {
                        setTimeout($.unblockUI, 1);
                        smoke.alert(data.mensaje);
                    }
                },
                error: function () {
                    setTimeout($.unblockUI, 1);
                    mensajeWarning("Error de conexión.");
                },
                dataType: "json"
            });
        })

    })

    function certificacionidiomas(id) {
        bloqueointerface();
        $.post("{{ ruta_ }}", {'action': 'estcertificacionidiomas', 'id': id, 'activar': 0}, function (data) {
            $.unblockUI();
            if (data.result === 'ok') {
                $(`#activado_cer${id}`).html(data.icono_);
            } else {
                alertaDanger(data.mensaje)
            }
        });
    }

    function formacionacademica(id) {
        bloqueointerface();
        $.post("{{ ruta_ }}", {'action': 'estformacionacademica', 'id': id, 'activar': 0}, function (data) {
            $.unblockUI();
            if (data.result === 'ok') {
                $(`#activado_formacion${id}`).html(data.icono_);
                $("#pexpgradoacademico").html(data.valor);
                $("#ptotal").html(data.total);
            } else {
                alertaDanger(data.mensaje)
            }
        });
    }

    function capacitacion(id) {
        bloqueointerface();
        $.post("{{ ruta_ }}", {'action': 'estcapacitacion', 'id': id, 'activar': 0}, function (data) {
            $.unblockUI();
            if (data.result === 'ok') {
                $(`#activado_capacitacion${id}`).html(data.icono_);
                $("#pcapacitacion").html(data.valor);
                $("#ptotal").html(data.total);
            } else {
                alertaDanger(data.mensaje)
            }
        });
    }

    function experiencia(id) {
        bloqueointerface();
        $.post("{{ ruta_ }}", {'action': 'estexperiencia', 'id': id, 'activar': 0}, function (data) {
            $.unblockUI();
            if (data.result === 'ok') {
                $(`#activado_experiencia${id}`).html(data.icono_);
                $("#pexpadministrativo").html(data.valoradm);
                $("#pexpdocentes").html(data.valordoc);
                $("#ptotal").html(data.total);
            } else {
                alertaDanger(data.mensaje)
            }
        });
    }

    function publicacion(id) {
        bloqueointerface();
        $.post("{{ ruta_ }}", {'action': 'estpublicacion', 'id': id, 'activar': 0}, function (data) {
            $.unblockUI();
            if (data.result === 'ok') {
                $(`#activado_publicacion${id}`).html(data.icono_);
            } else {
                alertaDanger(data.mensaje)
            }
        });
    }

</script>