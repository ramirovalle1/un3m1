{% extends "basebs.html" %}
{% load sga_extras %}
{% block heading %}
    <link href="/static/widget_ppp.css" rel="stylesheet"/>
    <link href="/static/css/table-responsive.css?1.0.0" type="text/css" rel="stylesheet" />
    <!--NO DESCOMENTAR PORQUE INTERFIERE CON OTROS COMPONENTES-->
    <!--<script type="text/javascript" src="/static/js/jquery.fancybox.pack.js?v=1.0.0"></script>-->
    <!--NO DESCOMENTAR PORQUE INTERFIERE CON OTROS COMPONENTES-->
    <style>
        .select2-container {
            width: 100% !important;
            padding: 0;
        }
        .dataTables_filter {
            padding-bottom: 15px;
        }

        .table.dataTable tfoot th, table.dataTable tfoot td {
            border-top: 1px solid #E5E8E8 !important;
        }
    </style>
    <script type="text/javascript">
        $(document).ready(function () {

            $(".individual").click(function () {
                var idmat = $(this).attr('idm');
                openwindow('POST' ,'/pro_cronograma', {action: 'reporteindividual',  idmat:idmat },'_blank');
            });
            $(".masivo").click(function () {
                var idmat = $(this).attr('idm');
                openwindow('POST' ,'/pro_cronograma', {action: 'reporteimasivo',  idmat:idmat},'_blank');
            });
        });
        $(function() {
            /*----------------------------Persona*/
            $("#id_funcionarioasesortecnico").addClass("validate[required]");
            $("select").select2({minimumResultsForSearch: 5});
            $("#id_fecha_desde,#id_fecha_hasta,#id_fini, #id_finiadm, #id_ffin, #id_ffinadm, #id_fini_seguimiento, #id_ffin_seguimiento,#id_fini_seguimiento_general, #id_ffin_seguimiento_general,#id_fini_seguimiento_general_new, #id_ffin_seguimiento_general_new,#id_fini_virtual, #id_ffin_virtual, #id_fini_autor, #id_ffin_autor,#id_fini_virtual1, #id_ffin_virtual1,#id_fini_seguimiento_general_tutor, #id_ffin_seguimiento_general_tutor").datepicker({format:"dd-mm-yyyy"}).on('changeDate', function(ev){ $(this).datepicker('hide'); });
            $("#id_fini,#id_ffin, #id_finiadm,#id_ffinadm").addClass("validate[required]");
            $("#afinidad_cerrar").click(function () {
                $("#afinidad").modal("hide");
                return false;
            });
            $("#id_fini_seguimiento_general_tutor, #id_ffin_seguimiento_general_tutor").attr('autocomplete', 'off');


            $(".afinmalla").click(function(){
                var id = $(this).attr("idp");
                var ancho = $(window).width()-200;
                var alto = $(window).height()-200;
                if (id){
                    bloqueointerface();
                    $.ajax({
                        type: "POST",
                        url: "/pro_cronograma",
                        data: {"action": "afinidad_malla", "idp": id},
                        success: function(data) {
                            $.unblockUI();
                            if (data.result=='ok'){
                                $("#afinidadbody").html(data.data);
                                $("#afinidad").modal({backdrop:'static', width: ancho, height: alto}).modal('show');
                            } else {
                                $("#afinidad").modal("hide");
                            }
                        },
                        error: function() {
                            $.unblockUI();
                            smoke.alert("Error de conexión.");
                            $("#afinidad").hide();
                        },
                        dataType: "json"
                    });
                }
            });

            $(".afin").click(function(){
                {#var id = $(this).attr("idprofesor");#}
                var id = $(this).attr("idmateria");
                var ancho = $(window).width()-200;
                var alto = $(window).height()-200;
                if (id){
                    bloqueointerface();
                    $.ajax({
                        type: "POST",
                        url: "/pro_cronograma",
                        data: {"action": "afinidad", "idmateria": id},
                        success: function(data) {
                            $.unblockUI();
                            if (data.result=='ok'){
                                $("#afinidadbody").html(data.data);
                                $("#afinidad").modal({backdrop:'static', width: ancho, height: alto}).modal('show');
                            } else {
                                $("#afinidad").modal("hide");
                            }
                        },
                        error: function() {
                            $.unblockUI();
                            smoke.alert("Error de conexión.");
                            $("#afinidad").hide();
                        },
                        dataType: "json"
                    });
                }
            });

            $(".editazoom").click(function () {
                $(".incompletoeditzoom").hide();
                $("#itemspaneleditzoom").modal({backdrop: 'static', width: '600px'}).modal('show');
            });
            $(".imprimirinforme").click(function () {
                $(".incompletoaddpreguntas").hide();
                $("#itemspanel").modal({backdrop: 'static', width: '300px'}).modal('show');
            });
            $(".imprimirinformeadm").click(function () {
                $(".incompletoaddpreguntasadm").hide();
                $("#itemspaneladm").modal({backdrop: 'static', width: '300px'}).modal('show');
            });

            $("#add_cancel").click(function(){
                $('#itemspanel').modal('hide');
                $(".incompletoaddpreguntas").hide();
            });
            $("#editzoom_cancel").click(function(){
                $('#itemspaneleditzoom').modal('hide');
                $(".incompletoeditzoom").hide();
            });

            $("#add_canceladm").click(function(){
                $('#itemspaneladm').modal('hide');
                $(".incompletoaddpreguntasadm").hide();
            });

            $(".actualizazoom").click(function () {
                $(".incompletoeditzoom").hide();
                var id_enlacezoom = $("#id_enlacezoom").val();
                if( id_enlacezoom.length!=0){
                    bloqueointerface();
                    $.ajax({
                        type: "POST",
                        url: "/pro_cronograma",
                        data: {"action": "editzoom", "id_enlacezoom": id_enlacezoom},
                        success: function(data) {

                            if (data.result=='ok'){
                                location.reload();
                            } else {
                                $.unblockUI();
                                smoke.alert("Error de conexión.");
                            }
                        },
                        error: function() {
                            $.unblockUI();
                            smoke.alert("Error de conexión.");
                            $("#afinidad").hide();
                        },
                        dataType: "json"
                    });
                }else{
                    $(".incompletoeditzoom").show();
                    return false;
                }
            });

            $(".generarinforme").click(function () {
                $(".incompletoaddpreguntas").hide();
                var fini = $("#id_fini").val();
                var ffin = $("#id_ffin").val();
                if( fini.length!=0 && ffin.length!=0 ){
                    openwindow('POST' ,'/pro_cronograma', {'action': 'informedocente', 'fini': fini, 'ffin': ffin },'_blank');
                }else{
                    $(".incompletoaddpreguntas").show();
                    return false;
                }
            });
            $(".generarinformeadm").click(function () {
                $(".incompletoaddpreguntasadm").hide();
                var fini = $("#id_finiadm").val();
                var ffin = $("#id_ffinadm").val();
                if( fini.length!=0 && ffin.length!=0 ){
                    openwindow('POST' ,'/pro_cronograma', {'action': 'informedocenteadm', 'fini': fini, 'ffin': ffin },'_blank');
                }else{
                    $(".incompletoaddpreguntasadm").show();
                    return false;
                }
            });

            $('.informeestudiantepractica').click(function () {
                var idm = $(this).attr('idm');
                openwindow('POST' ,'/pro_cronograma',{action: 'informeestudiantepractica',  id: idm }, '_blank');
            });
            $(".observacion").click(function () {
                var id = $(this).attr('id');
                bloqueointerface();
                $.post("/pro_cronograma", {'action': 'detalleobservacion', 'id': id}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".panelbodyobs").html(data.data);
                        $("#itemspanelobservacion").modal({backdrop:'static', width: '800px'}).modal('show');
                    }else{
                        smoke.alert(data.mensaje);
                    }
                }, 'json');
            });
            $("#itemspanelobservacion #cerrar").click(function() {
                $("#itemspanelobservacion").modal("hide");
            });

            $("#modalaceptacionaceptar").click(function () {
                var codigoidpm = $("#codigopm").val();
                var motivo = $("#id_motivo").val();
                var valor = 1
                bloqueointerface();
                if (motivo==''){
                    smoke.alert('Ingrese Observación');
                    $.unblockUI();
                    return false;
                }
                $.post("/pro_cronograma", {'action': 'aceptarrechazardistributivo', 'id': codigoidpm, 'motivo': motivo, 'valor': valor}, function (data) {
                    if (data.result == 'ok') {
                        location.reload();
                    }else{
                        smoke.alert(data.mensaje);
                    }
                }, 'json');
            });
            $("#modalaceptacionrechazar").click(function () {
                var codigoidpm = $("#codigopm").val();
                var motivo = $("#id_motivo").val();
                var valor = 0
                bloqueointerface();
                if (motivo==''){
                    smoke.alert('Ingrese Observación');
                    $.unblockUI();
                    return false;
                }
                $.post("/pro_cronograma", {'action': 'aceptarrechazardistributivo', 'id': codigoidpm, 'motivo': motivo, 'valor': valor}, function (data) {
                    if (data.result == 'ok') {
                        location.reload();
                    }else{
                        smoke.alert(data.mensaje);
                    }
                }, 'json');
            });
            $(".mostrarmodalaceptacion").click(function(){
                var idpm = $(this).attr('idpm');
                var idoculto = $(this).attr('idoculto');
                if (idoculto == 1){
                    $("#modalaceptacionaceptar").show()
                    $("#modalaceptacionrechazar").hide()
                }
                if (idoculto == 0){
                    $("#modalaceptacionaceptar").hide()
                    $("#modalaceptacionrechazar").show()
                }
                $("#id_motivo").val('');
                $("#codigopm").val(idpm);
                bloqueointerface();
                $("#modalaceptacion").modal({"backdrop":"static", "width": "500px"}).modal("show");
                $.unblockUI();
            });
            $("#modalaceptacion_cerrar").click(function(){
                $("#modalaceptacion").modal("hide");
            });

            $("#modalaceptacionaceptarhorario").click(function () {
                var codigoidpm = $("#codigopmhorario").val();
                var motivo = $("#id_motivohorario").val();
                var valor = 1
                bloqueointerface();
                if (motivo==''){
                    smoke.alert('Ingrese Observación');
                    $.unblockUI();
                    return false;
                }
                $.post("/pro_cronograma", {'action': 'aceptarrechazardistributivohorario', 'id': codigoidpm, 'motivo': motivo, 'valor': valor}, function (data) {
                    if (data.result == 'ok') {
                        location.reload();
                    }else{
                        smoke.alert(data.mensaje);
                    }
                }, 'json');
            });

            $("#modalaceptacionrechazarhorario").click(function () {
                var codigoidpm = $("#codigopmhorario").val();
                var motivo = $("#id_motivohorario").val();
                var valor = 0
                bloqueointerface();
                if (motivo==''){
                    smoke.alert('Ingrese Observación');
                    $.unblockUI();
                    return false;
                }
                $.post("/pro_cronograma", {'action': 'aceptarrechazardistributivohorario', 'id': codigoidpm, 'motivo': motivo, 'valor': valor}, function (data) {
                    if (data.result == 'ok') {
                        location.reload();
                    }else{
                        smoke.alert(data.mensaje);
                    }
                }, 'json');
            });

            $(".mostrarmodalaceptacionhorario").click(function(){
                var idpm = $(this).attr('idpmhorario');
                var idoculto = $(this).attr('idocultohorario');
                if (idoculto == 1){
                    $("#modalaceptacionaceptarhorario").show()
                    $("#modalaceptacionrechazarhorario").hide()
                }
                if (idoculto == 0){
                    $("#modalaceptacionaceptarhorario").hide()
                    $("#modalaceptacionrechazarhorario").show()
                }
                $("#id_motivohorario").val('');
                $("#codigopmhorario").val(idpm);
                bloqueointerface();
                $("#modalaceptacionhorario").modal({"backdrop":"static", "width": "500px"}).modal("show");
                $.unblockUI();
            });
            $("#modalaceptacion_cerrarhorario").click(function(){
                $("#modalaceptacionhorario").modal("hide");
            });


            {#segimiento#}

            {#$(".seguimiento").click(function () {#}
            {#    var idm = $(this).attr('idm');#}
            {#    $(".incompletoseguimiento").hide();#}
            {#    $("#idmateria").val("");#}
            {#    $("#idmateria").val(idm);#}
            {#    $("#itemspanelseguimiento").modal({backdrop: 'static', width: '300px'}).modal('show');#}


            {#$("#cancel_seguimiento").click(function(){#}
            {#    $('#itemspanelseguimiento').modal('hide');#}
            {#    $(".incompletoseguimiento").hide();#}

            {#$(".generar_seguimiento").click(function () {#}
            {#    $(".incompletoseguimiento").hide();#}
            {#    var fini = $("#id_fini_seguimiento").val();#}
            {#    var ffin = $("#id_ffin_seguimiento").val();#}
            {#    var idmateria = $("#idmateria").val();#}
            {#    if( fini.length!=0 && ffin.length!=0 ){#}
            {#        openwindow('POST' ,'/pro_cronograma', {'action': 'informe_seguimiento', 'fini': fini, 'ffin': ffin,'idmat':idmateria },'_blank');#}
            {#    }else{#}
            {#        $(".incompletoseguimiento").show();#}
            {#        return false;#}
            {#    }#}

            {# seguimiento general  #}
            $(".generar_seguimiento").click(function (){
                var idm = $(this).attr('idm');
                var idreport = $(this).attr('idreport');
                $(".incompletoseguimiento_general").hide();
                $("#idreporte").val(idreport);
                $("#idmateria").val("");
                $("#idmateria").val(idm);
                $("#itemspanel_generar_seguimiento").modal({backdrop: 'static', width: '300px'}).modal('show');
            });
            $(".generar_seguimiento_new").click(function () {
                var idm = $(this).attr('idm');
                var idreport = $(this).attr('idreport');
                $(".incompletoseguimiento_general_new").hide();
                $("#idreporte_new").val(idreport);
                $("#idmateria_new").val("");
                $("#idmateria_new").val(idm);
                $("#itemspanel_generar_seguimiento_new").modal({backdrop: 'static', width: '300px'}).modal('show');
            });
            $(".generar_seguimiento_tutor").click(function () {
                var idm = $(this).attr('idm');
                var idreport = 0;
                $(".incompletoseguimiento_general_tutor").hide();
                $("#idreporte_tutor").val(idreport);
                $("#idmateria_tutor").val("");
                $("#idmateria_tutor").val(idm);
                $("#itemspanel_generar_seguimiento_tutor").modal({backdrop: 'static', width: '300px'}).modal('show');
            });
            $(".generar_seguimientovirtual").click(function () {
                var codimate = $(this).attr('codimate');
                var idreport = $(this).attr('idreport');
                var nommate = $(this).attr('nommate');
                $(".incompletogenerar_seguimientovirtual").hide();
                $("#idreporte_virtual").val(idreport);
                $("#idmateria_virtual").val("");
                $("#idmateria_virtual").val(codimate);
                $("#id_nommateria").html(nommate);
                $("#itemspanel_generar_seguimientovirtual").modal({backdrop: 'static', width: '500px'}).modal('show');
            });

            $(".generar_seguimiento_general_new").click(function () {
                $(".incompletoseguimiento_general_new").hide();
                var idreporte = $("#idreporte_new").val();
                var fini = $("#id_fini_seguimiento_general_new").val();
                var ffin = $("#id_ffin_seguimiento_general_new").val();
                var idmateria = $("#idmateria").val();
                if( fini.length!=0 && ffin.length!=0 ){
                    openwindow('POST' ,'/pro_cronograma', {'action': 'informe_seguimiento_general_new', 'fini': fini, 'ffin': ffin,'idmat':idmateria,'opcionreport':idreporte },'_blank');
                }else{
                    $(".incompletoseguimiento_general_new").show();
                    return false;
                }
            });
            $(".generar_seguimiento_general_tutor").click(function () {
                $(".incompletoseguimiento_general_tutor").hide();
                var idreporte = 0;
                var fini = $("#id_fini_seguimiento_general_tutor").val();
                var ffin = $("#id_ffin_seguimiento_general_tutor").val();
                var idmateria = $("#idmateria").val();
                if( fini.length!=0 && ffin.length!=0 ){
                    openwindow('POST' ,'/pro_cronograma', {'action': 'informe_general_tutorposgrado', 'fini': fini, 'ffin': ffin,'idmat':idmateria,'opcionreport':idreporte },'_blank');
                }else{
                    $(".incompletoseguimiento_general_tutor").show();
                    return false;
                }
            });
            $(".generar_seguimiento_virtual").click(function () {
                $(".incompletogenerar_seguimientovirtual").hide();
                var idreporte = $("#idreporte_virtual").val();
                var fini = $("#id_fini_virtual").val();
                var ffin = $("#id_ffin_virtual").val();
                var idmateria = $("#idmateria_virtual").val();
                if( fini.length!=0 && ffin.length!=0 ){
                    openwindow('POST' ,'/pro_cronograma', {'action': 'informe_seguimiento_virtual', 'fini': fini, 'ffin': ffin,'idmat':idmateria,'opcionreport':idreporte },'_blank');
                }else{
                    $(".incompletogenerar_seguimientovirtual").show();
                    return false;
                }
            });


            $("#cancel_seguimiento_general").click(function(){
                $('#itemspanel_generar_seguimiento').modal('hide');
                $(".incompletoseguimiento_general").hide();
            });
            $("#cancel_seguimiento_general_new").click(function(){
                $('#itemspanel_generar_seguimiento_new').modal('hide');
                $(".incompletoseguimiento_general_new").hide();
            });
            $("#cancel_seguimiento_general_tutor").click(function(){
                $('#itemspanel_generar_seguimiento_tutor').modal('hide');
                $(".incompletoseguimiento_general_tutor").hide();
            });
            $("#cancel_seguimiento_virtual").click(function(){
                $('#itemspanel_generar_seguimientovirtual').modal('hide');
                $(".incompletogenerar_seguimientovirtual").hide();
            });

            $(".generar_seguimiento_general").click(function () {
                $(".incompletoseguimiento_general").hide();
                var idreporte = $("#idreporte").val();
                var fini = $("#id_fini_seguimiento_general").val();
                var ffin = $("#id_ffin_seguimiento_general").val();
                var idmateria = $("#idmateria").val();
                if( fini.length!=0 && ffin.length!=0 ){
                    openwindow('POST' ,'/pro_cronograma', {'action': 'informe_seguimiento_general', 'fini': fini, 'ffin': ffin,'idmat':idmateria,'opcionreport':idreporte },'_blank');
                }else{
                    $(".incompletoseguimiento_general").show();
                    return false;
                }
            });
            $(".reporte_mensajes").click(function () {
                var idreporte = $(this).attr('idreport');
                openwindow('POST' ,'/pro_cronograma', {'action': 'reporte_mensajes', 'opcionreport':idreporte },'_blank');

            });

            $(".reporte_foros").click(function () {
                var idreporte = $(this).attr('idreport');
                openwindow('POST' ,'/pro_cronograma', {'action': 'reporte_foros', 'opcionreport':idreporte },'_blank');

            });
            $(".tabla2").click(function () {
                openwindow('POST' ,'/pro_cronograma', {action: 'imprimirproductopdf'},'_blank');
            });


            $(".informe_autor").click(function () {
                $(".incompletoseguimiento_informe_autor").hide();
                var idm = $(this).attr('idm');
                $("#idmateriaaautor").val("");
                $("#idmateriaaautor").val(idm);
                $("#itemspanel_informe_autor").modal({backdrop: 'static', width: '300px'}).modal('show');
            });

            $("#cancel_informe_autor").click(function(){
                $('#itemspanel_informe_autor').modal('hide');
                $(".incompletoseguimiento_informe_autor").hide();
            });

            $(".generar_informe_autor").click(function () {
                $(".incompletoseguimiento_informe_autor").hide();
                var fini = $("#id_fini_autor").val();
                var ffin = $("#id_ffin_autor").val();
                var idmateriaaautor = $("#idmateriaaautor").val();
                if( fini.length!=0 && ffin.length!=0 ){
                    openwindow('POST' ,'/pro_cronograma', {'action': 'informe_autor', 'fini': fini, 'ffin': ffin,'idmateriaaautor':idmateriaaautor },'_blank');
                }else{
                    $(".incompletoseguimiento_informe_autor").show();
                    return false;
                }
            });

            $(".mostrardetalle_view").click(function() {
                var id = $(this).attr('ide');
                bloqueointerface();
                $.ajax({
                    type: "GET",
                    url: "/pro_cronograma",
                    data: {'action': 'ver_rubrica', 'id': id},
                    success: function(data) {
                        $.unblockUI();
                        if (data.result == 'ok') {
                            $(".panelbody_rubrica").html(data.data);
                            $("#itemspanel_rubrica").modal({backdrop:'static', width: '900px'}).modal('show');
                        } else {
                            smoke.alert(data.mensaje);
                        }
                    },
                    error: function() {
                        $.unblockUI();
                        smoke.alert("Error de conexión.");
                    },
                    dataType: "json"
                });
            });

            $(".btn-cerrar-rubrica").click(function(){
                $('#itemspanel_rubrica').modal('hide');
            });
            $(".generar_seguimientovirtual1").click(function () {
                var codiprofe = $(this).attr('codiprofe');
                var nommate = $(this).attr('nommate');
                $(".incompletogenerar_seguimientovirtual1").hide();
                $("#idmateria_virtual1").val("");
                $("#idmateria_virtual1").val(codiprofe);
                $("#id_nommateria").html(nommate);
                $("#itemspanel_generar_seguimientovirtual1").modal({backdrop: 'static', width: '500px'}).modal('show');
            });
            $("#cancel_seguimiento_virtual1").click(function(){
                $('#itemspanel_generar_seguimientovirtual1').modal('hide');
                $(".incompletogenerar_seguimientovirtual1").hide();
            });
            $(".generar_seguimiento_virtual1").click(function () {
                $(".incompletogenerar_seguimientovirtual1").hide();
                var fini = $("#id_fini_virtual1").val();
                var ffin = $("#id_ffin_virtual1").val();
                var idmateria = $("#idmateria_virtual1").val();
                if( fini.length!=0 && ffin.length!=0 ){
                    openwindow('POST' ,'/pro_tutoria', {'action': 'informe_seguimiento_virtual', 'fini': fini, 'ffin': ffin,'idprofe':idmateria},'_blank');
                }else{
                    $(".incompletogenerar_seguimientovirtual1").show();
                    return false;
                }
            });
            $(".generar_anexo").click(function () {
                openwindow('POST' ,'/pro_cronograma', {'action': 'informe_seguimiento_anexo',profesorid:{{ profesor.id }} },'_blank');
            });
            $(".totalestutoriasacademicas").click(function () {
                var profesorid = $(this).attr('idpro');
                openwindow('POST' ,'/pro_cronograma', {'action': 'totalestutoriasacademicas',profesorid:profesorid,csrfmiddlewaretoken: '{{ csrf_token }}' },'_blank');
            });
            $(".evidenciatitulacion").click(function () {
                location.href = "/pro_complexivotematica"
            });
            $(".generarinformeposgrado").click(function () {
                var idmate = $(this).attr('idmate');
                openwindow('POST' ,'/pro_cronograma', {'action': 'informedocenteposgrado', 'idmate': idmate },'_blank');
            });
            $(".ver_pracprofesionales").click(function() {
                bloqueointerface();
                $.ajax({
                    type: "POST",
                    url: "/pro_cronograma",
                    data: {'action': 'detallepracticas', 'codigoprofesor': '{{ profesor.id|encrypt }}' },
                    success: function(data) {
                        $.unblockUI();
                        if (data.result == 'ok') {
                            var h =$(window).height() - 150;
                            $(".panelbody_practicas").html(data.data);
                            $("#itemspanel_practicas").modal({backdrop:'static', width: '1000px', height:h}).modal('show');
                        } else {
                            smoke.alert(data.mensaje);
                        }
                    },
                    error: function() {
                        $.unblockUI();
                        smoke.alert("Error de conexión.");
                    },
                    dataType: "json"
                });
            });
            $(".btn-cerrar-practicas").click(function(){
                $('#itemspanel_practicas').modal('hide');
            });


            //Acciones de Asesoramiento de Servicios de Estudios Estadisticos

            /*$(".solicitar_asesoramientoSEE").click(function () {
                $("#id_titulo").val('');
                $("#id_descripcion").val('');
                $("#id_horaatencion").val('');
                $("#id_tipotrabajo").val(0);
                $("#id_coordinacion").val(0);
                $("#id_carrera").val(0);
                $("#modal_asesoramientoSEE").modal({backdrop:'static', width: '500px'}).modal('show');
                $('#id_div_horaatencion').html('');
            });
            $("#modal_asesoramientoSEE_close").click(function () {
                $("#modal_asesoramientoSEE").modal('hide');
            });
            $("#modal_asesoramientoSEE_guardar").click(function () {
                bloqueointerface();
                let form = $('#modal_asesoramientoSEE .modal-body').find('form');
                let dataform = form.serializeArray()
                $.post(`{{ request.path }}`,dataform).then(function (data) {
                    if (data.result) {
                        console.log(data)
                        $("#modal_asesoramientoSEE").modal('hide');
                        $.unblockUI()
                    }
                    else{
                        NotificationJG.error(data.mensaje)
                        $.unblockUI()
                    }
                }).fail(function (error) {
                    NotificationJG.error(error)
                });

            });*/
            $(".detalleasesoramientosee").click(function () {
                bloqueointerface();
                $.get('/pro_cronograma?action=verasesoramientossee').done(function (data) {
                    console.log(data);
                    if (data) {
                        $("#body-verasesoramientosee").html(data.data);
                        $("#verasesoramientossee").modal({backdrop: 'static', width: '90%'}).modal('show');
                        $.unblockUI();

                    }
                    else{
                        $.unblockUI()
                        NotificationJG.error(data.mensaje)
                    }
                }).fail(function (error) {
                    $.unblockUI()
                    NotificationJG.error('Error de conexión con el servidor')
                });

            });
            $("#modal_asesoramientoSEE_close").click(function () {
                $("#modal_asesoramientoSEE").modal('hide');
            });
            $("#cerrarverasesoramientossee").click(function () {
                $("#verasesoramientossee").modal('hide');
            });
            var dateToday = new Date();

            $('.tabla_asesoramientossee').DataTable({
                responsive: true,
                language: { url: "//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Spanish.json"},
                initComplete: function () {
                    console.log(this.api().columns([0, 1]))
                    this.api().columns([0, 1]).every( function () {
                        var column = this;
                        var select = $('<select><option value=""></option></select>')
                            .appendTo( $(column.footer()).empty() )
                            .on( 'change', function () {
                                var val = $.fn.dataTable.util.escapeRegex(
                                    $(this).val()
                                );

                                column
                                    .search( val ? '^'+val+'$' : '', true, false )
                                    .draw();
                            } );

                        column.data().unique().sort().each( function ( d, j ) {
                            select.append( '<option value="'+d+'">'+d+'</option>' )
                        } );
                    } );
                },
            });

        });
        function pdfhorarios(profesorid,periodoid){
            openwindow('POST' ,'/pro_horarios', {action:'pdf_horarios',profesor:profesorid,periodo:periodoid}, '_blank');
        }
        function vistaprevia_controlacademico(id){
            openwindow('POST' ,'/pro_cronograma', {action:'controlacademico_pdf',id:id}, '_blank');
        }

        {#        function reportemasivo(){#}
        {#            var idmat =  $(".masivo").attr('idm');#}
        {#            alert(idmat)#}
        {#            openwindow('POST' ,'/pro_cronograma', {action: 'generar_reporte',  idp:idp,fini:fini, ffin:ffin },'_blank');#}
        {#        }#}
        function pdfinscritos(idactividad){
            openwindow('POST' ,'/pro_cronograma', {action:'pdflistainscritos',idactividad:idactividad}, '_blank');
        }
        function vistaevidenciasilabo(){
            openwindow('POST' ,'/pro_cronograma', {action:'evidenciasilabos_pdf'}, '_blank');
        }


    </script>
{% endblock %}
{% block atras %}/{% endblock %}
{% block canvas %}
    <div class='row-fluid'>
        <div class='span12'>
            <h4>{{ title }}</h4>
        </div>
    </div>
    {% if tutoriasdehoy != 0 %}
        <div class='row-fluid'>
            <div class="span6">
                <div class="alert alert-warning" role="alert" style="font-size: 14px;">
                    <img class="blinkimg" src="/static/images/iconos/notificacion.png" width="30px;"><b>Recordatorio:</b> Tiene <b>{{ tutoriasdehoy }}</b> tutorías
                    agendadas para el dia de hoy. <a href="/pro_cronograma?action=tutoriapractica" class="pull-right btn btn-primary"><i class="fa fa-calendar"></i> Ver Agenda</a>
                </div>
            </div>
        </div>
    {% endif %}
    {% if tutpendientesfin != 0 %}
        <div class='row-fluid'>
            <div class="span6">
                <div class="alert alert-danger" role="alert" style="font-size: 14px;">
                    <img class="blinkimg" src="/static/images/iconosmini/alert.png"
                         width="25px;"> <b>Recordatorio:</b> Tiene <b>{{ tutpendientesfin }}</b> tutorías atrasadas por finalizar.  <a href="/pro_cronograma?action=tutoriapractica" class="pull-right btn btn-primary"><i class="fa fa-calendar"></i> Ver Agenda</a>
                </div>
            </div>
        </div>
    {% endif %}
    {% if not periodoposgrado %}
        <div class='row-fluid'>
            <div class='span12'>
                {#            {% if periodo.fecha_ingreso_prehorarios %}#}
                {#                <a href="/pro_cronograma?action=planificarhorario" class='btn btn-warning'><i class="fa fa-calendar"></i> Seleccionar preferencias de horario</a>#}
                {#            {% endif %}#}
                {#            {% if accesopreferencia %}#}
                <a href="/pro_cronograma?action=preferencia" class='btn btn-success'><i class="fa fa-plus"></i> Seleccionar preferencias</a>
                {#            {% endif %}#}
                {#            {% if accesopreferenciaactividad %}#}
                {#                <a href="/pro_cronograma?action=preferenciaactividad" class='btn btn-success bloqueo_pantalla'><i class="fa fa-plus"></i> Seleccionar actividades de preferencia</a>#}
                {#            {% endif %}#}

                {#            {% if periodo.fecha_ingreso_ponencias %}#}
                {#                {% if distributivo_horas.detalle_horas_gestion or distributivo_horas.detalle_horas_investigacion or distributivo_horas.detalle_horas_docencia %}#}
                <a href="/pro_cronograma?action=planificarponencias" class='btn btn-success'><i class="fa fa-plus"></i> Financiamiento a Ponencias</a>
                {#                {% endif %}#}
                {#            {% endif %}#}
                <a href="/pro_cronograma?action=cronogramacapacitaciones" class='btn btn-success'><i class="fa fa-plus"></i> Planificar capacitaciones</a>


                <div class="btn-group">
                    <a class="btn btn-primary detalleasesoramientosee" href="javascript:;">
                        <i class="fa fa-certificate" aria-hidden="true"></i>  Asesoramiento de Servicios Estudios Estadísticos
                    </a>
                    {#                    <ul class="dropdown-menu pull-left" style="width: 300px;">#}
                    {#                        <li>#}
                    {#                            <a href="javascript:;" class="solicitar_asesoramientoSEE">#}
                    {#                                <i class="fa fa-send" aria-hidden="true"></i> Solicitar#}
                    {#                            </a>#}
                    {#                        </li>#}
                    {##}
                    {#                        <li>#}
                    {#                            <a href="javascript:;" class="detalleasesoramientosee">#}
                    {#                                <i class="fa fa-eye" aria-hidden="true"></i> Ver Solicitudes#}
                    {#                            </a>#}
                    {#                        </li>#}
                    {#                    </ul>#}
                </div>
            </div>
        </div>
    {% endif %}
    {#    {% if asignaturaspreferencias %}#}
    {#        <div class='row-fluid'>#}
    {#            <div class='span12'>#}
    {##}
    {#                <table class='table table-bordered table-striped'>#}
    {#                    <thead>#}
    {#                    <tr>#}
    {#                        <th colspan="5" style="text-align: center">PREFERENCIAS DE ASIGNATURAS</th>#}
    {#                    </tr>#}
    {#                    <tr>#}
    {#                        <th style="width: 450px;">ASIGNATURA</th>#}
    {#                        <th style="width: 40px;text-align: center;">AFINIDAD</th>#}
    {#                        <th style="width: 120px;text-align: center;">CARRERA</th>#}
    {#                        <th style="width: 80px;text-align: center;">NIVEL</th>#}
    {#                    </tr>#}
    {#                    </thead>#}
    {#                    <tbody>#}
    {##}
    {#                    {% for asigpreferencias in asignaturaspreferencias %}#}
    {#                        <tr>#}
    {#                            <td>{{ asigpreferencias.asignaturamalla.asignatura }}</td>#}
    {#                            <td style="text-align: center;">#}
    {#                                {% if asigpreferencias.afinidad %}#}
    {#                                    <label style="padding-top: 5px"><a href="javascript:;" idp="{{ asigpreferencias.id }}" title="Afín a la formación" class='btn btn-mini btn-success afinmalla tu'><i class="fa fa-eye"></i></a></label>#}
    {#                                {% else %}#}
    {#                                    <label style="padding-top: 5px"><a href="javascript:;" idp="{{ asigpreferencias.id }}" title="No es afín a la formación" class='btn btn-warning btn-mini afinmalla tu'><i class="fa fa-eye"></i></a></label>#}
    {#                                {% endif %}#}
    {#                            </td>#}
    {#                            <td style="text-align: center;">{{ asigpreferencias.asignaturamalla.malla.carrera }}</td>#}
    {#                            <td style="text-align: center">{{ asigpreferencias.asignaturamalla.nivelmalla }}</td>#}
    {#                        </tr>#}
    {#                    {% endfor %}#}
    {#                    </tbody>#}
    {#                </table>#}
    {#            </div>#}
    {#        </div>#}
    {#    {% endif %}#}
    {#    {% if permiso %}#}

    <div class='row-fluid'>
        <div class='span12'>
            <div class="btn-group">
                <a class="btn btn-mini dropdown-toggle" data-toggle="dropdown" href="javascript:;">Reportes<span class="caret"></span></a>
                <ul class="dropdown-menu pull-left">
                    {% if periodoposgrado %}
                        {%  if ver_reportetutores %}
                            <li><a class="tu generar_seguimiento_tutor" idreport="1" href="javascript:;" idp="{{ profesor.id|encrypt }}"><span class="fa fa-print"></span>  Informe mensual de cumplimiento de actividades (tutores) (posgrado en línea)</a></li>
                        {% endif %}
                    {% else %}
                        {% if periodo.visiblehorario %}
                            <li><a href="javascript:;" onclick="pdfhorarios({{ profesor.id }},{{ periodo.id }})"><span class="fa fa-print"></span> Horario de asignaturas y actividades</a></li>
                        {% endif %}
                        {%  if periodo.versionreporte == 2 %}
                            {%  if ver_reporte  or profesor.id == 963 or profesor.id == 1671 or  profesor.id == 2067 or  profesor.id == 45 %}
                                <li><a class="tu imprimirinforme" href="javascript:;"><span class="fa fa-print"></span> Informe mensual de cumplimiento de actividades  (pregrado)</a></li>
                            {% endif %}
                        {% endif %}
                        {%  if periodo.versionreporte == 3 %}
                            {%  if ver_reporte  or profesor.id == 963 or profesor.id == 1671 or  profesor.id == 2067 or  profesor.id == 45 %}
                                <li><a class="tu imprimirinforme" href="javascript:;"><span class="fa fa-print"></span> Informe mensual de cumplimiento de actividades (pregrado)</a></li>
                            {% endif %}
                        {% endif %}
                        {%  if grado_presencial and periodo.versionreporte == 1 %}
                            <li><a class="tu imprimirinforme" href="javascript:;"><span class="fa fa-print"></span> Informe mensual de cumplimiento de actividades  (pregrado presencial)</a></li>
                        {% endif %}
                        {%  if grado_virtual %}
                            {%  if periodo.versionreporte == 2 %}
                                {%  if ver_reportetutores %}
                                    <li><a class="tu generar_seguimiento_new" idreport="1" href="javascript:;" idp="{{ profesor.id|encrypt }}"><span class="fa fa-print"></span>  Informe mensual de cumplimiento de actividades (tutores) (pregrado en línea)</a></li>
                                    <li><a class="tu generar_seguimientovirtual1" href="javascript:;" nommate="{{ profesor.persona.nombre_completo_inverso }}" codiprofe="{{ profesor.id|encrypt }}"><span class="fa fa-print"></span>  Reporte anexo cumplimiento actividades (tutores) (pregrado en línea)</a></li>
                                {% endif %}
                            {% endif %}
                            {%  if periodo.versionreporte == 3 %}
                                {%  if ver_reportetutores %}
                                    <li><a class="tu generar_seguimiento_new" idreport="1" href="javascript:;" idp="{{ profesor.id|encrypt }}"><span class="fa fa-print"></span>  Informe mensual de cumplimiento de actividades (tutores) (pregrado en línea)</a></li>
                                    <li><a class="tu generar_seguimientovirtual1" href="javascript:;" nommate="{{ profesor.persona.nombre_completo_inverso }}" codiprofe="{{ profesor.id|encrypt }}"><span class="fa fa-print"></span>  Reporte anexo cumplimiento actividades (tutores) (pregrado en línea)</a></li>
                                {% endif %}
                            {% endif %}
                            {%  if periodo.versionreporte == 1 %}
                                <li><a class="tu generar_seguimiento" idreport="1" href="javascript:;" idp="{{ profesor.id|encrypt }}"><span class="fa fa-print"></span>  Informe mensual de cumplimiento de actividades (pregrado en línea)</a></li>
                            {% endif %}
                            <li><a class="tu reporte_mensajes" idreport="1" href="javascript:;" idp="{{ profesor.id|encrypt }}"><span class="fa fa-print"></span> Reporte de mensajes no leidos moodle (pregrado en línea) </a></li>
                            <li><a class="tu reporte_foros" idreport="1" href="javascript:;" idp="{{ profesor.id|encrypt }}"><span class="fa fa-print"></span> Reporte de foros no calificados moodle (pregrado en línea) </a></li>
                        {% endif %}
                        {%  if virtual_admision %}
                            <li><a class="tu generar_seguimiento" idreport="2" href="javascript:;" idp="{{ profesor.id|encrypt }}"><span class="fa fa-print"></span> Informe mensual de cumplimiento de actividades (admisión en línea)</a></li>
                            <li><a class="tu reporte_mensajes" idreport="2" href="javascript:;" idp="{{ profesor.id|encrypt }}"><span class="fa fa-print"></span> Reporte de mensajes no leidos moodle (admisión en línea) </a></li>
                            <li><a class="tu reporte_foros" idreport="2" href="javascript:;" idp="{{ profesor.id|encrypt }}"><span class="fa fa-print"></span> Reporte de foros no calificados moodle (admisión en línea) </a></li>
                        {% endif %}
                        {%  if presencial_admision %}
                            <li><a class="tu generar_seguimiento" idreport="3" href="javascript:;" idp="{{ profesor.id|encrypt }}"><span class="fa fa-print"></span> Informe mensual de cumplimiento de actividades (admisión presencial)</a></li>
                            <li><a class="tu reporte_mensajes" idreport="3" href="javascript:;" idp="{{ profesor.id|encrypt }}"><span class="fa fa-print"></span> Reporte de mensajes no leidos moodle (admisión presencial) </a></li>
                            <li><a class="tu reporte_foros" idreport="3" href="javascript:;" idp="{{ profesor.id|encrypt }}"><span class="fa fa-print"></span> Reporte de foros no calificados moodle (admisión presencial) </a></li>
                        {% endif %}
                        {%  if  grado_presencial or grado_virtual %}
                            <li><a href="javascript:;" class="tabla2"><i class="fa fa-file-pdf-o"></i> Reporte de productos investigación. </a></li>
                        {% endif %}
                    {% endif %}
                </ul>
            </div>
        </div>
    </div>

    <div class="row-fluid">
        <div class="span12">
            <table class="table table-bordered table-striped filterable">
                <thead>
                <tr>
                    <th colspan="3">HERRAMIENTA ZOOM</th>
                </tr>
                <tr>

                    <th style="text-align: center">Enlace al ID personal</th>
                    <th style="text-align: center">Correo institucional</th>
                    <th style="text-align: center">Enlace</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td style="text-align: center">
                        {{ profesor.urlzoom }}
                        <a class="btn btn-success btn-mini editazoom" href="javascript:;"><span class="fa fa-edit"></span></a>
                    </td>
                    <td style="text-align: center">{{ profesor.persona.emailinst }}</td>
                    <td style="text-align: center">
                        {% if profesor.urlzoom %}
                            <a href="{{ profesor.urlzoom }}" target="_blank" style="background-color: #2d8cff!important;" class='btn btn-warning'>
                                <i class="fa fa-video-camera"></i> Verificar enlace
                            </a>
                        {% endif %}
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>


    <div id="no-more-tables"><!-- inicio no more tables-->
        <div class='row-fluid'>
            <div class='span12'>
                <table class='table table-bordered table-striped' >
                    <thead>
                    <tr>
                        <th colspan="9">ASIGNATURAS DEL DISTRIBUTIVO</th>
                    </tr>
                    <tr>
                        <th >Asignatura</th>
                        {% if periodo.id >= 82 %}
                            <th width="250px" tyle="width: 25px;" >Aceptación de la Asignatura</th>
                        {% endif %}
                        <th >Afinidad</th>
                        <th style="text-align: center; width: 70px;">Inicio/Fin</th>
                        <th style="text-align: center; width: 70px;">Horas/Cr&eacute;ditos</th>
                        <th style="width: 300px">Horarios</th>
                        <th style="width: 125px">Aula</th>
                        <th style="width: 80px; text-align: center">Acciones</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% if materiasprofesor %}
{#                        {% for materia in materiasprofesor %}#}
{#                            <tr>#}
{#                                <td data-title='Asignatura'>#}
{#                                    {{ materia.nombre_mostrar }} -  {{ materia.nivel.coordinacion.alias }}#}
{#                                    <br><b>Horas total de la materia: </b>{{ materia.horas }}#}
{#                                    <br><span class="label label-info">{{ materia.nivel.paralelo }}</span>#}
{#                                    {% with profesormateria=materia|args:profesor|call:"profesormateriastodos" %}#}
{#                                        {% for promateria in  profesormateria %}#}
{#                                            <br><strong>{{ promateria.tipoprofesor }}:</strong>{{ promateria.profesor.persona.nombre_completo_inverso }}#}
{#                                        {% endfor %}#}
{#                                    {% endwith %}#}
{#                                    {% if materia.cerrado %}#}
{#                                        <label class="label label-important">CERRADA: {{ materia.fechacierre|date:"d-m-Y" }}</label>#}
{#                                    {% endif %}#}
{#                                </td>#}
{#                                {% if periodo.id >= 82  %}#}
{#                                    {% with profesormateria=materia|args:profesor|call:"profesormateriastodos" %}#}
{#                                        <td style="text-align: justify;height:30px;" data-title='Aceptacion'>#}
{#                                            {% if materia.nivel.periodo ==  periodo %}#}
{#                                                {% for promateria in  profesormateria %}#}
{#                                                    {{ promateria.tipoprofesor }}#}
{##}
                                                    {#                                                    {% if not periodoposgrado %}#}
{#                                                    {% if promateria.aceptarmateriaobs == None or promateria.aceptarmateriaobs == '' %}#}
{#                                                        <span class="label label-warning">PENDIENTE</span>#}
{#                                                    {% else %}#}
                                                        {#   {{ promateria.aceptarmateriaobs }}<br>#}
{#                                                        {% if promateria.aceptarmateria %}#}
{#                                                            <span class="label label-success">ACEPTADO</span>#}
{#                                                        {% else %}#}
{#                                                            <span class="label label-important">RECHAZADO</span>#}
{#                                                        {% endif %}#}
{#                                                    {% endif %}<br>#}
{#                                                    {% if not promateria.aceptarmateria and not promateria.aceptarmateriaobs %}#}
{#                                                        <label style="padding-top: 5px; margin-top: 6px; display:inline;"><a style="margin-top: 6px;" href="javascript:;" title="Aceptar" idpm="{{ promateria.id }}" idoculto="1" class='btn btn-mini btn-success tu mostrarmodalaceptacion'><i class="fa fa-check"></i> Aceptar</a></label>#}
{#                                                        <label style="padding-top: 5px; margin-top: 6px; display:inline;"><a style="margin-top: 6px;" href="javascript:;" title="Rechazar" idpm="{{ promateria.id }}" idoculto="0" class='btn btn-mini btn-danger tu mostrarmodalaceptacion'><i class="fa fa-remove"></i> Rechazar</a></label>#}
{#                                                        <br>#}
{#                                                    {% endif %}#}
                                                    {#                                                    {% endif %}#}
{#                                                {% endfor %}#}
{#                                                </td>#}
{#                                            {% endif %}#}
{#                                    {% endwith %}#}
{#                                {% endif %}#}
{#                                <td style="text-align: center;{% if not materia %}height:30px;{% endif %}" data-title='Afinidad'>#}
{#                                    {% if not periodoposgrado %}#}
{#                                        {% if materia.nivel.periodo ==  periodo %}#}
{#                                            <a href="javascript:;" idmateria="{{ materia.id }}" class='btn btn-tini btn-warning afin tu' title="Afinidad">A</a>#}
{#                                        {% endif %}#}
{#                                    {% endif %}#}
{#                                </td>#}
                                {#                                {% endwith %}#}
{#                                <td style="text-align: center;" data-title='Inicio/Fin'>{{ materia.inicio|date:'d-m-Y' }}<br>{{ materia.fin|date:'d-m-Y' }}</td>#}
{#                                <td style="text-align: center;" data-title='Horas/Créditos'>{{ materia.horas }} Hrs. <br/> {{ materia.creditos }} Crd.</td>#}
{#                                <td data-title='Horario'>#}
{#                                    {% if not periodoposgrado %}#}
{#                                        {% with profesormateria=materia|args:profesor|call:"profesormateriastodos" %}#}
{#                                            {% for promateria in  profesormateria %}#}
{#                                                {{ promateria.tipoprofesor }} <br>#}
{#                                                {% if promateria.aceptarhorarioobs == None or promateria.aceptarhorarioobs == '' %}#}
{#                                                    <span class="label label-warning">PENDIENTE</span>#}
{#                                                {% else %}#}
                                                    {#                                                {{ promateria.aceptarhorarioobs }}<br>#}
{#                                                    {% if promateria.aceptarhorario %}#}
{#                                                        <span class="label label-success">ACEPTADO</span>#}
{#                                                    {% else %}#}
{#                                                        <span class="label label-important">RECHAZADO</span>#}
{#                                                    {% endif %}#}
{#                                                {% endif %}#}
                                                {#                                            <br>#}
{#                                                {% if materia.nivel.periodo ==  periodo%}#}
{#                                                    <label style="padding-top: 5px; margin-top: 6px; display:inline;"><a style="margin-top: 6px;" href="javascript:;" title="Aceptar" idpmhorario="{{ promateria.id }}" idocultohorario="1" class='btn btn-mini btn-success tu mostrarmodalaceptacionhorario'><i class="fa fa-check"></i> Aceptar</a></label>#}
{#                                                    <label style="padding-top: 5px; margin-top: 6px; display:inline;"><a style="margin-top: 6px;" href="javascript:;" title="Rechazar" idpmhorario="{{ promateria.id }}" idocultohorario="0" class='btn btn-mini btn-danger tu mostrarmodalaceptacionhorario'><i class="fa fa-remove"></i> Rechazar</a></label>#}
{#                                                {% endif %}#}
{#                                                <br>#}
{#                                            {% endfor %}#}
{#                                        {% endwith %}#}
{#                                    {% endif %}#}
{#                                    {% if periodo.visiblehorario %}#}
{#                                        <div class="accordion" id="accordion{{ forloop.counter}}">#}
{#                                            <div class="accordion-group">#}
{#                                                <div class="accordion-heading">#}
{#                                                    <span class="accordion-toggle">#}
{#                                                <a class="btn btn-mini btn-success" data-toggle="collapse" data-parent="#accordion{{ forloop.counter}}" href="#collapseOne{{ forloop.counter}}"><i class="fa fa-calendar"></i></a>#}
{#                                                <a data-toggle="collapse" data-parent="#accordion{{ forloop.counter}}" href="#collapseOne{{ forloop.counter}}">Detalle de fechas y horas</a>#}
{#                                            </span>#}
{#                                                </div>#}
{#                                                <div id="collapseOne{{ forloop.counter}}" class="accordion-body collapse in">#}
{#                                                    <div class="accordion-inner">#}
{#                                                        <ul style="text-align: justify;font-size: 9px;margin: 0 0 0px 0px;">#}
{#                                                            {% for clase in materia.horarios_sin_practica %}#}
{#                                                                <li class="list-group-item list-group-item-success" style="padding: 2px 4px;">#}
{#                                                                    {{ clase.dia_semana }} - ({{ clase.turno.comienza }} a {{ clase.turno.termina }}) del {{ clase.inicio|date:'d-m-Y' }} al {{ clase.fin|date:'d-m-Y' }}#}
{#                                                                </li>#}
{#                                                            {% endfor %}#}
{#                                                        </ul>#}
{#                                                    </div>#}
{#                                                </div>#}
{#                                            </div>#}
{#                                        </div>#}
{#                                    {% endif %}#}
{#                                </td>#}
{#                                <td data-title='Aula'>#}
{#                                    {% for aula in materia.aulas %}#}
{#                                        {{ aula.nombre }}#}
{#                                    {% endfor %}#}
{#                                </td>#}
{#                                <td data-title='Acciones' style="text-align: center">#}
{##}
{#                                    <div class="btn-group">#}
{#                                        <a class="btn btn-mini dropdown-toggle" data-toggle="dropdown" href="javascript:;">Acciones<span class="caret"></span></a>#}
{#                                        {% if materia.nivel.periodo ==  periodo %}#}
{#                                            <ul class="dropdown-menu pull-right" style="text-align: left">#}
{#                                                {% if practicas_preprofesionales_activas %}#}
                                                    {#                                                    {{ materia }}#}
{#                                                    {% with tiene_materia_practica_salud=materia|args:profesor|call:"tiene_materia_practica_salud" %}#}
                                                        {#                                                        {{ grupo }}#}
{#                                                        {% if tiene_materia_practica_salud %}#}
{#                                                            <li><a class="tu" href="/pro_cronograma?action=practicas&id={{ materia.id|encrypt }}"><span class="fa fa-list-ul"></span> Pr&aacute;cticas</a></li>#}
{#                                                        {% endif %}#}
                                                        {#                                                    {% if promateria.materia.practicas %}#}
                                                        {#                                                        <li><a class="tu" href="/pro_cronograma?action=practicas&id={{ materia.id|encrypt }}"><span class="fa fa-list-ul"></span> Pr&aacute;cticas</a></li>#}
                                                        {#                                                    {% endif %}#}
{#                                                    {% endwith %}#}
{#                                                {% endif %}#}
{#                                                <li><a class="tu" href="/pro_cronograma?action=tutoriaclase&id={{ materia.id|encrypt }}"><span class="fa fa-plus"></span> Registrar tutoría y acompañamiento académico grupal </a></li>#}
{#                                                <li><a href='/pro_cronograma?action=tomaronm&materia={{ materia.id|encrypt }}'><span class="fa fa-user" ></span> Matriculados en la asignatura</a></li>#}
{#                                                <li><a class="tu generar_seguimientovirtual" href="javascript:;" idreport="1" nommate="{{ materia }}" codimate="{{ materia.id|encrypt }}"><span class="fa fa-print"></span>  Reporte seguimiento plataforma virtual</a></li>#}
{#                                                {% if reporte_6 %}#}
{#                                                    <li><a href="javascript:;" tipos="{{ reporte_6.tiporeporte }}" nhref="/reportes?action=run&n={{ reporte_6.nombre }}&materia={{ materia.id }}" class="tu reportedirecto"><span class="fa fa-print"></span> Listado de asistencia vacio</a> </li>#}
{#                                                {% endif %}#}
{#                                                {% if reporte_7  %}#}
{#                                                    <li><a href="javascript:;" tipos="{{ reporte_7.tiporeporte }}" nhref="/reportes?action=run&n={{ reporte_7.nombre }}&profesormateria={{ materia.profesor_principal_pm.id }}" class="tu reportedirecto"><span class="fa fa-print"></span> Listado de matriculados</a> </li>#}
{#                                                {% endif %}#}
{#                                                <li><a onclick="vistaprevia_controlacademico({{ materia.id }})" href="javascript:;"><span class="fa fa-print"></span> Control academico</a> </li>#}
{#                                                {% if reporte_9 %}#}
{#                                                    <li><a href="javascript:;" tipos="{{ reporte_9.tiporeporte }}" nhref="/reportes?action=run&n={{ reporte_9.nombre }}&materia={{ materia.id }}" class="tu reportedirecto"><span class="fa fa-print"></span> Listado de asistencias</a> </li>#}
{#                                                {% endif %}#}
{#                                                <li><a class="tu individual"  idm="{{ materia.id|encrypt }}" idmn="{{ materia.nombre }}" href="javascript:;"  ><span class="fa fa-print"></span> Imprimir tutoría y acompañamiento académico individual</a></li>#}
{#                                                <li><a class="tu masivo"  idm="{{ materia.id|encrypt }}" href="javascript:;"  ><span class="fa fa-print"></span> Imprimir tutoría y acompañamiento académico grupal</a></li>#}
{#                                                {% if tipoprofesor.id == 9  %}#}
{#                                                    <li><a class="tu informe_autor" href="javascript:;" idm="{{ materia.id|encrypt }}"><span class="fa fa-print"></span> Informe seguimiento autor</a></li>#}
{#                                                {% endif %}#}
{#                                                {% if periodoposgrado %}#}
                                                    {#                                                    {% if ver_reporte %}#}
{#                                                    <li><a class="generarinformeposgrado" href="javascript:;" idmate="{{ materia.id|encrypt }}"><span class="fa fa-print"></span> Informe mensual de cumplimiento de actividades</a></li>#}
                                                    {#                                                    {% endif %}#}
{#                                                    <li><a href='/pro_cronograma?action=detalle_clasesvideo&materiaid={{ materia.id|encrypt }}'><span class="fa fa-video-camera" ></span> Clases grabadas</a></li>#}
{#                                                {% endif %}#}
{#                                            </ul>#}
{#                                        {% endif %}#}
{#                                    </div>#}
{##}
{#                                </td>#}
{#                            </tr>#}
{#                        {% endfor %}#}

{#                        ------no autor------#}
                        {% for materia in materiasprofesor %}
                            {% with profesormateria=materia|args:profesor|call:"profesormateriassinautor" %}
                                {% if profesormateria %}
                                    <tr>
                                        <td data-title='Asignatura'>
                                            {{ materia.nombre_mostrar }} -  {{ materia.nivel.coordinacion.alias }}
                                            <br><b>Horas total de la materia: </b>{{ materia.horas }}
                                            <br><span class="label label-info">{{ materia.nivel.paralelo }}</span>

                                            {% for promateria in  profesormateria %}
                                                <br><strong>{{ promateria.tipoprofesor }}:</strong>{{ promateria.profesor.persona.nombre_completo_inverso }}
                                            {% endfor %}

                                            {% if materia.cerrado %}
                                                <label class="label label-important">CERRADA: {{ materia.fechacierre|date:"d-m-Y" }}</label>
                                            {% endif %}
                                        </td>

                                        {% if periodo.id >= 82  %}
                                        {% with profesormateria=materia|args:profesor|call:"profesormateriastodos" %}
                                            <td style="text-align: justify;height:30px;" data-title='Aceptacion'>
                                                {% if materia.nivel.periodo ==  periodo %}
                                                    {% for promateria in  profesormateria %}
                                                        {{ promateria.tipoprofesor }}

                                                        {#                                                    {% if not periodoposgrado %}#}
                                                        {% if promateria.aceptarmateriaobs == None or promateria.aceptarmateriaobs == '' %}
                                                            <span class="label label-warning">PENDIENTE</span>
                                                        {% else %}
                                                            {#   {{ promateria.aceptarmateriaobs }}<br>#}
                                                            {% if promateria.aceptarmateria %}
                                                                <span class="label label-success">ACEPTADO</span>
                                                            {% else %}
                                                                <span class="label label-important">RECHAZADO</span>
                                                            {% endif %}
                                                        {% endif %}<br>
                                                        {% if not promateria.aceptarmateria and not promateria.aceptarmateriaobs %}
                                                            <label style="padding-top: 5px; margin-top: 6px; display:inline;"><a style="margin-top: 6px;" href="javascript:;" title="Aceptar" idpm="{{ promateria.id }}" idoculto="1" class='btn btn-mini btn-success tu mostrarmodalaceptacion'><i class="fa fa-check"></i> Aceptar</a></label>
                                                            <label style="padding-top: 5px; margin-top: 6px; display:inline;"><a style="margin-top: 6px;" href="javascript:;" title="Rechazar" idpm="{{ promateria.id }}" idoculto="0" class='btn btn-mini btn-danger tu mostrarmodalaceptacion'><i class="fa fa-remove"></i> Rechazar</a></label>
                                                            <br>
                                                        {% endif %}
                                                        {#                                                    {% endif %}#}
                                                    {% endfor %}
                                                    </td>
                                                {% endif %}
                                        {% endwith %}
                                    {% endif %}
                                        <td style="text-align: center;{% if not materia %}height:30px;{% endif %}" data-title='Afinidad'>
                                            {% if not periodoposgrado %}
                                                {% if materia.nivel.periodo ==  periodo %}
                                                    <a href="javascript:;" idmateria="{{ materia.id }}" class='btn btn-tini btn-warning afin tu' title="Afinidad">A</a>
                                                {% endif %}
                                            {% endif %}
                                        </td>
                                        {#                                {% endwith %}#}
                                        <td style="text-align: center;" data-title='Inicio/Fin'>{{ materia.inicio|date:'d-m-Y' }}<br>{{ materia.fin|date:'d-m-Y' }}</td>
                                        <td style="text-align: center;" data-title='Horas/Créditos'>{{ materia.horas }} Hrs. <br/> {{ materia.creditos }} Crd.</td>
                                        <td data-title='Horario'>
                                            {% if not periodoposgrado %}
                                                {% with profesormateria=materia|args:profesor|call:"profesormateriastodos" %}
                                                    {% for promateria in  profesormateria %}
                                                        {{ promateria.tipoprofesor }} <br>
                                                        {% if promateria.aceptarhorarioobs == None or promateria.aceptarhorarioobs == '' %}
                                                            <span class="label label-warning">PENDIENTE</span>
                                                        {% else %}
                                                            {#                                                {{ promateria.aceptarhorarioobs }}<br>#}
                                                            {% if promateria.aceptarhorario %}
                                                                <span class="label label-success">ACEPTADO</span>
                                                            {% else %}
                                                                <span class="label label-important">RECHAZADO</span>
                                                            {% endif %}
                                                        {% endif %}
                                                        {#                                            <br>#}
                                                        {% if materia.nivel.periodo ==  periodo%}
                                                            <label style="padding-top: 5px; margin-top: 6px; display:inline;"><a style="margin-top: 6px;" href="javascript:;" title="Aceptar" idpmhorario="{{ promateria.id }}" idocultohorario="1" class='btn btn-mini btn-success tu mostrarmodalaceptacionhorario'><i class="fa fa-check"></i> Aceptar</a></label>
                                                            <label style="padding-top: 5px; margin-top: 6px; display:inline;"><a style="margin-top: 6px;" href="javascript:;" title="Rechazar" idpmhorario="{{ promateria.id }}" idocultohorario="0" class='btn btn-mini btn-danger tu mostrarmodalaceptacionhorario'><i class="fa fa-remove"></i> Rechazar</a></label>
                                                        {% endif %}
                                                        <br>
                                                    {% endfor %}
                                                {% endwith %}
                                            {% endif %}
                                            {% if periodo.visiblehorario %}
                                                <div class="accordion" id="accordion{{ forloop.counter}}">
                                                    <div class="accordion-group">
                                                        <div class="accordion-heading">
                                                            <span class="accordion-toggle">
                                                        <a class="btn btn-mini btn-success" data-toggle="collapse" data-parent="#accordion{{ forloop.counter}}" href="#collapseOne{{ forloop.counter}}"><i class="fa fa-calendar"></i></a>
                                                        <a data-toggle="collapse" data-parent="#accordion{{ forloop.counter}}" href="#collapseOne{{ forloop.counter}}">Detalle de fechas y horas</a>
                                                    </span>
                                                        </div>
                                                        <div id="collapseOne{{ forloop.counter}}" class="accordion-body collapse in">
                                                            <div class="accordion-inner">
                                                                <ul style="text-align: justify;font-size: 9px;margin: 0 0 0px 0px;">
                                                                    {% for clase in materia.horarios_sin_practica %}
                                                                        <li class="list-group-item list-group-item-success" style="padding: 2px 4px;">
                                                                            {{ clase.dia_semana }} - ({{ clase.turno.comienza }} a {{ clase.turno.termina }}) del {{ clase.inicio|date:'d-m-Y' }} al {{ clase.fin|date:'d-m-Y' }}
                                                                        </li>
                                                                    {% endfor %}
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            {% endif %}
                                        </td>
                                        <td data-title='Aula'>
                                            {% for aula in materia.aulas %}
                                                {{ aula.nombre }}
                                            {% endfor %}
                                        </td>
                                        <td data-title='Acciones' style="text-align: center">

                                        <div class="btn-group">
                                            <a class="btn btn-mini dropdown-toggle" data-toggle="dropdown" href="javascript:;">Acciones<span class="caret"></span></a>
                                            {% if materia.nivel.periodo ==  periodo %}
                                                <ul class="dropdown-menu pull-right" style="text-align: left">
                                                    {% if practicas_preprofesionales_activas %}
                                                        {#                                                    {{ materia }}#}
                                                        {% with tiene_materia_practica_salud=materia|args:profesor|call:"tiene_materia_practica_salud" %}
                                                            {#                                                        {{ grupo }}#}
                                                            {% if tiene_materia_practica_salud %}
                                                                <li><a class="tu" href="/pro_cronograma?action=practicas&id={{ materia.id|encrypt }}"><span class="fa fa-list-ul"></span> Pr&aacute;cticas</a></li>
                                                            {% endif %}
                                                            {#                                                    {% if promateria.materia.practicas %}#}
                                                            {#                                                        <li><a class="tu" href="/pro_cronograma?action=practicas&id={{ materia.id|encrypt }}"><span class="fa fa-list-ul"></span> Pr&aacute;cticas</a></li>#}
                                                            {#                                                    {% endif %}#}
                                                        {% endwith %}
                                                    {% endif %}
                                                    <li><a class="tu" href="/pro_cronograma?action=tutoriaclase&id={{ materia.id|encrypt }}"><span class="fa fa-plus"></span> Registrar tutoría y acompañamiento académico grupal </a></li>
                                                    <li><a href='/pro_cronograma?action=tomaronm&materia={{ materia.id|encrypt }}'><span class="fa fa-user" ></span> Matriculados en la asignatura</a></li>
                                                    <li><a class="tu generar_seguimientovirtual" href="javascript:;" idreport="1" nommate="{{ materia }}" codimate="{{ materia.id|encrypt }}"><span class="fa fa-print"></span>  Reporte seguimiento plataforma virtual</a></li>
                                                    {% if reporte_6 %}
                                                        <li><a href="javascript:;" tipos="{{ reporte_6.tiporeporte }}" nhref="/reportes?action=run&n={{ reporte_6.nombre }}&materia={{ materia.id }}" class="tu reportedirecto"><span class="fa fa-print"></span> Listado de asistencia vacio</a> </li>
                                                    {% endif %}
                                                    {% if reporte_7  %}
                                                        <li><a href="javascript:;" tipos="{{ reporte_7.tiporeporte }}" nhref="/reportes?action=run&n={{ reporte_7.nombre }}&profesormateria={{ materia.profesor_principal_pm.id }}" class="tu reportedirecto"><span class="fa fa-print"></span> Listado de matriculados</a> </li>
                                                    {% endif %}
                                                    <li><a onclick="vistaprevia_controlacademico({{ materia.id }})" href="javascript:;"><span class="fa fa-print"></span> Control academico</a> </li>
                                                    {% if reporte_9 %}
                                                        <li><a href="javascript:;" tipos="{{ reporte_9.tiporeporte }}" nhref="/reportes?action=run&n={{ reporte_9.nombre }}&materia={{ materia.id }}" class="tu reportedirecto"><span class="fa fa-print"></span> Listado de asistencias</a> </li>
                                                    {% endif %}
                                                    <li><a class="tu individual"  idm="{{ materia.id|encrypt }}" idmn="{{ materia.nombre }}" href="javascript:;"  ><span class="fa fa-print"></span> Imprimir tutoría y acompañamiento académico individual</a></li>
                                                    <li><a class="tu masivo"  idm="{{ materia.id|encrypt }}" href="javascript:;"  ><span class="fa fa-print"></span> Imprimir tutoría y acompañamiento académico grupal</a></li>
                                                    {% if tipoprofesor.id == 9  %}
                                                        <li><a class="tu informe_autor" href="javascript:;" idm="{{ materia.id|encrypt }}"><span class="fa fa-print"></span> Informe seguimiento autor</a></li>
                                                    {% endif %}
                                                    {% if periodoposgrado %}
                                                        {#                                                    {% if ver_reporte %}#}
                                                        <li><a class="generarinformeposgrado" href="javascript:;" idmate="{{ materia.id|encrypt }}"><span class="fa fa-print"></span> Informe mensual de cumplimiento de actividades</a></li>
                                                        {#                                                    {% endif %}#}
                                                        <li><a href='/pro_cronograma?action=detalle_clasesvideo&materiaid={{ materia.id|encrypt }}'><span class="fa fa-video-camera" ></span> Clases grabadas</a></li>
                                                    {% endif %}
                                                </ul>
                                            {% endif %}
                                        </div>

                                    </td>
                                    </tr>

                                {% endif %}

                            {% endwith %}

                        {% endfor %}
                    {% else %}
                        <tr>
                            <td colspan="15" style="text-align: center">NO TIENE ASIGNATURAS EN EL DISTRIBUTIVO</td>
                        </tr>
                    {% endif %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    {#    {% endif %}#}
    {% if distributivo_horas.visible_actividades %}
        <div class="row-fluid">
            <div class="span12">
                {#            <a class="btn btn-mini btn-warning tu" href="/pro_cronograma?action=aprobarevidenciasactividades"><i class="fa fa-check"></i> Aprobar Evidencias de las Actividades a Cargo</a>#}
                {#            <br><br>#}
                Evidencias de actividades que han sido inactivadas: <a href="/pro_cronograma?action=verevidenciadesvinculadas" class="btn btn-success"><i class="fa fa-download"></i> Descargar</a>
                <table class='table table-bordered table-striped' >
                    <thead>
                    <tr>
                        <th colspan="6">DISTRIBUTIVO DE HORAS (Total: {%  if distributivo_horas.total_horas > 40 %} 40 {% else %} {{ distributivo_horas.total_horas|floatformat:0 }}{% endif %} Hrs)</th>
                    </tr>
                    {% if distributivo_horas.detalle_horas_docencia %}
                        <tr>
                            <th>DOCENCIA ({{ distributivo_horas.horasdocencia|floatformat:0 }} Hrs)</th>
                        </tr>
                        <tr>
                            <td>
                                <table class="table table-condensed">
                                    <thead>
                                    <tr>
                                        <th>Actividad</th>
                                        <th style="width:100px;text-align: center">Horas</th>
                                        <th style="width:100px;text-align: center">Ver Rúbricas</th>
                                        <th style="width:80px;text-align: center">Estado/Observaciones del cronograma</th>
                                        <th style="width:80px;text-align: center">Evidencias</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for actividad in distributivo_horas.detalle_horas_docencia %}
                                        <tr>
                                            <td>
                                                {#                                            <label class="label label-warning">{{ actividad.criteriodocenciaperiodo.criterio.id }}</label>#}
                                                {{ actividad.criteriodocenciaperiodo.criterio }} ({{ actividad.criteriodocenciaperiodo.id }})
                                            </td>
                                            <td style="text-align: center">{{ actividad.horas }}</td>
                                            <td style="text-align: center">
                                                <a class="btn btn-mini btn-info mostrardetalle_view tu" title="Ver Detalle" href="javascript:;" ide="{{ actividad.id }}"><i class="fa fa-eye"></i></a>
                                            </td>
                                            <td style="text-align: center">
                                                {% if actividad.tiene_cronograma %}
                                                    <span class="label {% if actividad.tiene_cronograma.estado == 1 %}label-warning{% elif actividad.tiene_cronograma.estado == 2 %}label-success {% else %}label-important{% endif %}">{{ actividad.tiene_cronograma.get_estado_display }}</span><br>
                                                    <div style="margin-top: 5px">
                                                        <a class="btn btn-default btn-mini tu observacion" id="{{ actividad.tiene_cronograma.id }}"><i class="fa fa-eye"></i> Observación</a>
                                                        {% if actividad.tiene_cronograma %}<a href="{{ actividad.tiene_cronograma.download_link }}" class='btn btn-warning btn-mini tu' target="_blank" title="Descargar"><i class="fa fa-file-pdf-o"></i></a>{% endif %}
                                                    </div>
                                                {% endif %}

                                            </td>
                                            <td style="text-align: center" data-title='Acciones'>

                                                {#                                            {{ actividad.criteriodocenciaperiodo.criterio.id }}#}
                                                {#                                                                                    {{ actividad.criteriodocenciaperiodo.criterio.id }}#}
                                                {% if periodo.id < 113 %}
                                                    {% if not actividad.criteriodocenciaperiodo.criterio.id == 20 %}
                                                        {% if not actividad.criteriodocenciaperiodo.criterio.id in nopedirevidencia and actividad.criteriodocenciaperiodo.criterio.id != CRITERIO_IMPARTICION_CLASE_ID %}
                                                            {% if actividad.criteriodocenciaperiodo.criterio.id == 58 %}
                                                                <a class="btn btn-success generar_anexo" href="javascript:;"><i class="fa fa-list"></i> Ver contenidos</a>
                                                            {% else %}
                                                                {#                                                        {% if actividad.criteriodocenciaperiodo.criterio.id == 29 and periodo.id >= 113 %}ss#}
                                                                {% if actividad.criteriodocenciaperiodo.link %}
                                                                    <a class="btn btn-success bloqueo_pantalla" href="/{{ actividad.criteriodocenciaperiodo.link }}&idprofesor={{ profesor.id|encrypt }}&opcion={{ 1|encrypt }}" ><i class="fa fa-list"></i> Ver fuente de información</a>
                                                                {% else %}
                                                                    <a href="/pro_cronograma?action=subirevidencia&id={{ actividad.id|encrypt }}&p=1" class='btn btn-mini btn-success tu' title="Subir Evidencias" ><i class='fa fa-plus'></i></a>
                                                                    <a href="/pro_cronograma?action=verevidencia&id={{ actividad.id|encrypt }}" class='btn btn-mini btn-warning tu' title="Ver Evidencias" ><i class='fa fa-list'></i></a>
                                                                {% endif %}
                                                            {% endif %}
                                                        {% elif actividad.criteriodocenciaperiodo.criterio.id == 15 or actividad.criteriodocenciaperiodo.criterio.id == 16 or actividad.criteriodocenciaperiodo.criterio.id == CRITERIO_IMPARTICION_CLASE_ID %}
                                                            {% if periodo.id < 112 %}
                                                                <a href="/pro_horarios" class="bloqueo_pantalla">Asistencia</a>
                                                            {% else %}
                                                                {#                                                        <a class="btn btn-success bloqueo_pantalla" href="/pro_personaevaluacion?action=verasistencias_linkmateria&profesorid={{ listaprofe.profesor.id|encrypt }}&materiaid={{ listaprofe.materia.id|encrypt }}" ><i class="fa fa-video-camera"></i> Videos clases</a>#}
                                                                <a class="btn btn-success bloqueo_pantalla" href="/pro_cronograma?action=verasistencias_linkmateria&idcriterio={{ actividad.criteriodocenciaperiodo.criterio.id }}&profesorid={{ profesor.id|encrypt }}&opcion={{ 1|encrypt }}" ><i class="fa fa-video-camera"></i> Videos clases</a>
                                                            {% endif %}
                                                        {% else %}
                                                            {% if actividad.criteriodocenciaperiodo.criterio.id == 7 %}
                                                                {% if actividad.criteriodocenciaperiodo.link %}
                                                                    {#                                                            <a class="btn btn-warning" onclick="vistaevidenciasilabo()" href="javascript:;"><i class="fa fa-print"></i>&nbsp; Evidencias Sílabo</a>#}
                                                                    <a class="btn btn-success bloqueo_pantalla" href="/{{ actividad.criteriodocenciaperiodo.link }}" ><i class="fa fa-video-camera"></i> Ver contenidos</a>
                                                                {% else %}
                                                                    <a class="btn btn-success bloqueo_pantalla" href="/pro_cronograma?action=verasistencias_linkorientacion&idcriterio={{ actividad.criteriodocenciaperiodo.criterio.id }}&profesorid={{ profesor.id|encrypt }}&opcion={{ 1|encrypt }}" ><i class="fa fa-video-camera"></i> Ver contenidos</a>
                                                                {% endif %}
                                                            {% else %}
                                                                {% if actividad.criteriodocenciaperiodo.criterio.id == 106 %}
                                                                    <a class="btn btn-success bloqueo_pantalla" href="/pro_cronograma?action=listadocontenidos&idcriterio={{ actividad.criteriodocenciaperiodo.criterio.id }}&profesorid={{ profesor.id|encrypt }}&opcion={{ 1|encrypt }}" ><i class="fa fa-list"></i> Ver contenidos</a>
                                                                {% else %}
                                                                    {% if actividad.criteriodocenciaperiodo.criterio.id == 37 %}
                                                                        <a class="btn btn-success bloqueo_pantalla" href="/pro_cronograma?action=listadomateriales&idcriterio={{ actividad.criteriodocenciaperiodo.criterio.id }}&profesorid={{ profesor.id|encrypt }}&opcion={{ 1|encrypt }}" ><i class="fa fa-list"></i> Ver contenidos</a>
                                                                    {% else %}
                                                                        {% if actividad.criteriodocenciaperiodo.criterio.id == 4 %}
                                                                            {% if actividad.criteriodocenciaperiodo.link %}
                                                                                <a class="btn btn-success bloqueo_pantalla" href="/{{ actividad.criteriodocenciaperiodo.link }}&idcriterio={{ actividad.criteriodocenciaperiodo.criterio.id }}&profesorid={{ profesor.id|encrypt }}&opcion={{ 1|encrypt }}" ><i class="fa fa-list"></i> Ver contenidos</a>
                                                                            {% else %}
                                                                                <a class="btn btn-success bloqueo_pantalla" href="/pro_cronograma?action=contenidocalificado&idcriterio={{ actividad.criteriodocenciaperiodo.criterio.id }}&profesorid={{ profesor.id|encrypt }}&opcion={{ 1|encrypt }}" ><i class="fa fa-list"></i> Ver contenidos</a>
                                                                                <a href="/pro_cronograma?action=subirevidencia&id={{ actividad.id|encrypt }}&p=1" class='btn btn-mini btn-success tu' title="Subir Evidencias" ><i class='fa fa-plus'></i></a>
                                                                                <a href="/pro_cronograma?action=verevidencia&id={{ actividad.id|encrypt }}" class='btn btn-mini btn-warning tu' title="Ver Evidencias" ><i class='fa fa-list'></i></a>
                                                                            {% endif %}
                                                                        {% else %}
                                                                            {% if actividad.criteriodocenciaperiodo.criterio.id == 99 %}
                                                                                <a class="btn btn-success bloqueo_pantalla" href="/pro_personaevaluacion?action=evidenciatitulacion&idprofesor={{ profesor.id|encrypt }}&opcion={{ 1|encrypt }}" ><i class="fa fa-list"></i> Ver fuente de información</a>
                                                                            {% else %}
                                                                                {% if actividad.criteriodocenciaperiodo.criterio.id == 105 %}
                                                                                    <a class="btn btn-success bloqueo_pantalla" href="/pro_cronograma?action=contenidocalificadoonline&idcriterio={{ actividad.criteriodocenciaperiodo.criterio.id }}&profesorid={{ profesor.id|encrypt }}&opcion={{ 1|encrypt }}" ><i class="fa fa-list"></i> Ver contenidos</a>
                                                                                    {#                                                                            <a href="/pro_cronograma?action=subirevidencia&id={{ actividad.id|encrypt }}&p=1" class='btn btn-mini btn-success tu' title="Subir Evidencias" ><i class='fa fa-plus'></i></a>#}
                                                                                    {% if periodo.id < 113 %}
                                                                                        <a href="/pro_cronograma?action=verevidencia&id={{ actividad.id|encrypt }}" class='btn btn-mini btn-warning tu' title="Ver Evidencias" ><i class='fa fa-list'></i></a>
                                                                                    {% endif %}
                                                                                {% else %}
                                                                                    <a href="/pro_planificacion" class="bloqueo_pantalla btn btn-success">Aula Virtual</a>
                                                                                {% endif %}
                                                                            {% endif %}
                                                                        {% endif %}
                                                                    {% endif %}
                                                                {% endif %}
                                                            {% endif %}
                                                        {% endif %}
                                                    {% endif %}
                                                {% else %}
                                                    {#                                                Conofigurar en cada periodo los link y tipos de true o false#}
                                                    {#                                                {% if actividad.criteriodocenciaperiodo.mostrarevidencia %}#}
                                                    {#                                                    {{ actividad.criteriodocenciaperiodo.criterio_id }}#}
                                                    {% if actividad.criteriodocenciaperiodo.criteriolink %}
                                                        {% if actividad.criteriodocenciaperiodo.criteriolink.tipolink == 1 %}
                                                            <a class="btn btn-success bloqueo_pantalla" href="/{{ actividad.criteriodocenciaperiodo.criteriolink.link }}&idcriterio={{ actividad.criteriodocenciaperiodo.criterio.id }}&profesorid={{ profesor.id|encrypt }}&opcion={{ 1|encrypt }}&tipoevi={{ 1|encrypt }}" ><i class="fa fa-list"></i> Ver contenidos</a>
                                                        {% endif %}
                                                        {% if actividad.criteriodocenciaperiodo.criteriolink.tipolink == 2 %}
                                                            <a class="btn btn-success {{ actividad.criteriodocenciaperiodo.criteriolink.link }}" idpro="{{ profesor.id|encrypt }}" href="javascript:;"><i class="fa fa-list"></i> Ver contenidos</a>
                                                        {% endif %}
                                                    {% endif %}
                                                    {% if actividad.criteriodocenciaperiodo.subirevidencia %}
                                                        <a href="/pro_cronograma?action=subirevidencia&id={{ actividad.id|encrypt }}&p=1" class='btn btn-mini btn-success tu' title="Subir Evidencias" ><i class='fa fa-plus'></i></a>
                                                        <a href="/pro_cronograma?action=verevidencia&id={{ actividad.id|encrypt }}" class='btn btn-mini btn-warning tu' title="Ver Evidencias" ><i class='fa fa-list'></i></a>
                                                    {% endif %}
                                                    {#                                                {% endif %}#}
                                                {% endif %}
                                                {% if actividad.criteriodocenciaperiodo.criterio.id|tranformarstring in criterio_docencia_subir_cronograma %}
                                                    <div style="margin-top: 5px">
                                                        {% if not actividad.tiene_cronograma.estado == 2 %}
                                                            <a href="/pro_cronograma?action=subircronograma&id={{ actividad.id|encrypt }}" class='btn btn-info btn-mini tu' title="Subir Cronograma" ><i class='fa fa-arrow-up'> </i></a>
                                                        {% endif %}
                                                    </div>
                                                {% endif %}
                                            </td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                    {% endif %}
                    {% if distributivo_horas.detalle_horas_investigacion %}
                        <tr>
                            <th>INVESTIGACION ({{ distributivo_horas.horasinvestigacion|floatformat:0 }} Hrs)</th>
                        </tr>
                        <tr>
                            <td>
                                <table class="table table-condensed">
                                    <thead>
                                    <tr>
                                        <th>Actividad</th>
                                        <th style="width:100px; text-align: center">Horas</th>
                                        <th style="width:100px;text-align: center">Rúbricas</th>
                                        <th style="width:100px;text-align: center">Actividades</th>
                                        <th style="width:80px;text-align: center">Estado/Observaciones del cronograma</th>
                                        <th style="width:80px;text-align: center">Acciones</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for actividad in distributivo_horas.detalle_horas_investigacion %}
                                        <tr>
                                            <td>
                                                {{ actividad.criterioinvestigacionperiodo.criterio }}
                                                <table class="table table-condensed" >
                                                    <thead>
                                                    <tr>
                                                        <th>Sub Actividad</th>
                                                        <th style="width:100px;text-align: center">Horas</th>
                                                        <th style="width:100px;text-align: center">Vigente</th>
                                                        <th style="width:250px;text-align: center">Fechas</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    {% for x in actividad.actividades %}
                                                        <tr>
                                                            <td style="text-align: justify">{{ x.nombre }}</td>
                                                            <td style="text-align: center">{{ x.horas }}</td>
                                                            <td style="text-align: center">
                                                                {%  if x.vigente %}
                                                                    SI
                                                                {% else %}
                                                                    NO
                                                                {% endif %}

                                                            </td>
                                                            <td style="text-align: justify">Desde: {{ x.desde|date:"d-m-Y" }} Hasta: {{ x.hasta|date:"d-m-Y" }} </td>
                                                        </tr>
                                                    {% endfor %}
                                                    </tbody>
                                                </table>
                                            </td>
                                            <td style="text-align: center">{{ actividad.horas }}</td>
                                            <td style="text-align: center">
                                                <a class="btn btn-mini btn-info mostrardetalle_view tu" title="Ver Detalle" href="javascript:;" ide="{{ actividad.id }}"><i class="fa fa-eye"></i></a>
                                            </td>
                                            <td style="text-align: center">{{ actividad.numero_actividaddetalledistributivo }}</td>
                                            <td style="text-align: center">
                                                {% if actividad.tiene_cronograma %}
                                                    <span class="label {% if actividad.tiene_cronograma.estado == 1 %}label-warning{% elif actividad.tiene_cronograma.estado == 2 %}label-success {% else %}label-important{% endif %}">{{ actividad.tiene_cronograma.get_estado_display }}</span><br>
                                                    <div style="margin-top: 5px">
                                                        <a class="btn btn-default btn-mini tu observacion" id="{{ actividad.tiene_cronograma.id }}"><i class="fa fa-eye"></i> Observación</a>
                                                        {% if actividad.tiene_cronograma %}<a href="{{ actividad.tiene_cronograma.download_link }}" class='btn btn-warning btn-mini tu' target="_blank" title="Descargar"><i class="fa fa-file-pdf-o"></i></a>{% endif %}
                                                    </div>
                                                {% endif %}
                                            </td>
                                            <td style="text-align: center" data-title='Acciones'>
                                                <a href="/pro_cronograma?action=subirevidencia&id={{ actividad.id|encrypt }}&p=1" class='btn btn-mini btn-success tu' title="Subir Evidencia" ><i class='fa fa-plus'></i></a>
                                                <a href="/pro_cronograma?action=verevidencia&id={{ actividad.id|encrypt }}" class='btn btn-mini btn-warning tu' title="Ver Evidencias" ><i class='fa fa-list'></i></a><br>
                                                <br>
                                                {% if actividad.criterioinvestigacionperiodo.criterio.id in criterio_investigacion_subir_cronograma %}
                                                    {#                                                <div style="margin-top: 5px">#}
                                                    {% if not actividad.tiene_cronograma.estado == 2 %}
                                                        <a  href="/pro_cronograma?action=subircronograma&id={{ actividad.id|encrypt }}" class='btn btn-info btn-mini tu' title="Subir Cronograma" ><i class='fa fa-arrow-up '> </i></a>
                                                    {% endif %}
                                                    {#                                                    {% if actividad.tiene_cronograma %}<a href="{{ actividad.tiene_cronograma.download_link }}" class='btn btn-warning btn-mini tu' target="_blank" title="Descargar"><i class="fa fa-file-pdf-o"></i> </a>{% endif %}#}
                                                    {#                                                </div>#}
                                                {% endif %}
                                                {%  if actividad.criterioinvestigacionperiodo.productoinvestigacion %}
                                                    <a href="/pro_cronograma?action=productoinvestigacion&id={{ actividad.id|encrypt }}" class='btn btn-mini btn-default tu' title="Productos inv" ><i class='fa fa-list'></i></a><br>
                                                {% endif %}
                                            </td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                    {% endif %}
                    {% if distributivo_horas.detalle_horas_gestion %}
                        <tr>
                            <th>GESTION ({{ distributivo_horas.horasgestion|floatformat:0 }} Hrs)</th>
                        </tr>
                        <tr>
                            <td>
                                <table class="table table-condensed">
                                    <thead>
                                    <tr>
                                        <th>Actividad</th>
                                        <th style="width:100px; text-align: center">Horas</th>
                                        <th style="width:100px;text-align: center">Rúbricas</th>
                                        <th style="width:100px;text-align: center">Actividades</th>
                                        <th style="width:80px;text-align: center">Estado/Observaciones del cronograma</th>
                                        <th style="width:80px;text-align: center">Acciones</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for actividad in distributivo_horas.detalle_horas_gestion %}
                                        <tr>
                                            <td>
                                                {{ actividad.criteriogestionperiodo.criterio }}({{ actividad.criteriogestionperiodo.id }})<br>
                                                <table class="table table-condensed">
                                                    <thead>
                                                    <tr>
                                                        <th>Sub Actividad</th>
                                                        <th style="width:100px;text-align: center">Horas</th>
                                                        <th style="width:250px;text-align: center">Fechas</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    {% for x in actividad.actividades %}
                                                        <tr>
                                                            <td style="text-align: justify">{{ x.nombre }}</td>
                                                            <td style="text-align: center">{{ x.horas }}</td>
                                                            <td style="text-align: justify">F. desde: {{ x.desde|date:"d-m-Y" }} F. hasta: {{ x.hasta|date:"d-m-Y" }} </td>
                                                        </tr>
                                                    {% endfor %}
                                                    </tbody>
                                                </table>
                                            </td>
                                            <td style="text-align: center">{{ actividad.horas }}</td>
                                            <td style="text-align: center">
                                                <a class="btn btn-mini btn-info mostrardetalle_view tu" title="Ver Detalle" href="javascript:;" ide="{{ actividad.id }}"><i class="fa fa-eye"></i></a>
                                            </td>
                                            <td style="text-align: center">{{ actividad.numero_actividaddetalledistributivo }}</td>
                                            <td style="text-align: center">
                                                {% if actividad.tiene_cronograma %}
                                                    <span class="label {% if actividad.tiene_cronograma.estado == 1 %}label-warning{% elif actividad.tiene_cronograma.estado == 2 %}label-success {% else %}label-important{% endif %}">{{ actividad.tiene_cronograma.get_estado_display }}</span><br>
                                                    <div style="margin-top: 5px">
                                                        <a class="btn btn-default btn-mini tu observacion" id="{{ actividad.tiene_cronograma.id }}"><i class="fa fa-eye"></i> Observación</a>
                                                        {% if actividad.tiene_cronograma %}<a href="{{ actividad.tiene_cronograma.download_link }}" class='btn btn-warning btn-mini tu' target="_blank" title="Descargar"><i class="fa fa-file-pdf-o"></i></a>{% endif %}
                                                    </div>
                                                {% endif %}
                                            </td>
                                            <td style="text-align: center">
                                                {% if periodo.id >= 112 and actividad.criteriogestionperiodo.criterio.id == 138 %}
                                                    <a class="btn btn-success bloqueo_pantalla" href="/pro_cronograma?action=veractividadrevisor&idcriterio={{ actividad.criteriogestionperiodo.criterio.id }}&profesorid={{ profesor.id|encrypt }}&opcion={{ 1|encrypt }}" ><i class="fa fa-list"></i> Ver contenidos</a>
                                                {% else %}
                                                    {% if actividad.criteriogestionperiodo.link %}
                                                        {% if actividad.criteriogestionperiodo.link == 'distributivo' %}
                                                            <a href="javascript:;" tipos="{{ reporte_11.tiporeporte }}" nhref="/reportes?action=run&n={{ reporte_11.nombre }}&idpersona={{ profesor.persona.id }}&idperiodo={{ periodo.id }}" title="Imprimir distributivo" class="reportedirecto btn btn-warning reporte tu"> <i class='fa fa-print'></i> Imprimir distributivo</a>
                                                            <a class="btn btn-warning" onclick="vistaevidenciasilabo()" href="javascript:;"><i class="fa fa-print"></i>&nbsp; Evidencias Sílabo</a>
                                                            <a href="/pro_cronograma?action=subirevidencia&id={{ actividad.id|encrypt }}&p=1" class='btn btn-mini btn-success tu' title="Subir Evidencias" ><i class='fa fa-plus'></i></a>
                                                            <a href="/pro_cronograma?action=verevidencia&id={{ actividad.id|encrypt }}" class='btn btn-mini btn-warning tu' title="Ver Evidencias" ><i class='fa fa-list'></i></a><br>
                                                        {% endif %}
                                                    {% else %}
                                                        <a href="/pro_cronograma?action=subirevidencia&id={{ actividad.id|encrypt }}&p=1" class='btn btn-mini btn-success tu' title="Subir Evidencias" ><i class='fa fa-plus'></i></a>
                                                        <a href="/pro_cronograma?action=verevidencia&id={{ actividad.id|encrypt }}" class='btn btn-mini btn-warning tu' title="Ver Evidencias" ><i class='fa fa-list'></i></a><br>
                                                    {% endif %}
                                                {% endif %}
                                                {% if actividad.criteriogestionperiodo.criterio.id|tranformarstring in criterio_gestion_subir_cronograma %}
                                                    <div style="margin-top: 5px">
                                                        {% if not actividad.tiene_cronograma.estado == 2 %}
                                                            <a href="/pro_cronograma?action=subircronograma&id={{ actividad.id|encrypt }}" class='btn btn-info btn-mini tu' title="Subir Cronograma" ><i class='fa fa-arrow-up'></i></a>
                                                        {% endif %}
                                                    </div>
                                                {% endif %}
                                            </td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                    {% endif %}
                    {% if distributivo_horas.detalle_horas_vinculacion %}
                        <tr>
                            <th>VINCULACIÓN ({{ distributivo_horas.horasvinculacion|floatformat:0 }} Hrs)</th>
                        </tr>
                        <tr>
                            <td>
                                <table class="table table-condensed">
                                    <thead>
                                    <tr>
                                        <th>Actividad</th>
                                        <th style="width:100px; text-align: center">Horas</th>
                                        <th style="width:100px;text-align: center">Rúbricas</th>
                                        <th style="width:100px;text-align: center">Actividades</th>
                                        <th style="width:80px;text-align: center">Estado/Observaciones del cronograma</th>
                                        <th style="width:80px;text-align: center">Acciones</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for actividad in distributivo_horas.detalle_horas_vinculacion %}
                                        <tr>
                                            <td>
                                                {{ actividad.criteriodocenciaperiodo.criterio }}({{ actividad.criteriodocenciaperiodo.id }})<br>
                                                <table class="table table-condensed">
                                                    <thead>
                                                    <tr>
                                                        <th>Sub Actividad</th>
                                                        <th style="width:100px;text-align: center">Horas</th>
                                                        <th style="width:250px;text-align: center">Fechas</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    {% for x in actividad.actividades %}
                                                        <tr>
                                                            <td style="text-align: justify">{{ x.nombre }}</td>
                                                            <td style="text-align: center">{{ x.horas }}</td>
                                                            <td style="text-align: justify">F. desde: {{ x.desde|date:"d-m-Y" }} F. hasta: {{ x.hasta|date:"d-m-Y" }} </td>
                                                        </tr>
                                                    {% endfor %}
                                                    </tbody>
                                                </table>
                                            </td>
                                            <td style="text-align: center">{{ actividad.horas }}</td>
                                            <td style="text-align: center">
                                                <a class="btn btn-mini btn-info mostrardetalle_view tu" title="Ver Detalle" href="javascript:;" ide="{{ actividad.id }}"><i class="fa fa-eye"></i></a>
                                            </td>
                                            <td style="text-align: center">{{ actividad.numero_actividaddetalledistributivo }}</td>
                                            <td style="text-align: center">
                                                {% if actividad.tiene_cronograma %}
                                                    <span class="label {% if actividad.tiene_cronograma.estado == 1 %}label-warning{% elif actividad.tiene_cronograma.estado == 2 %}label-success {% else %}label-important{% endif %}">{{ actividad.tiene_cronograma.get_estado_display }}</span><br>
                                                    <div style="margin-top: 5px">
                                                        <a class="btn btn-default btn-mini tu observacion" id="{{ actividad.tiene_cronograma.id }}"><i class="fa fa-eye"></i> Observación</a>
                                                        {% if actividad.tiene_cronograma %}<a href="{{ actividad.tiene_cronograma.download_link }}" class='btn btn-warning btn-mini tu' target="_blank" title="Descargar"><i class="fa fa-file-pdf-o"></i></a>{% endif %}
                                                    </div>
                                                {% endif %}
                                            </td>
                                            <td style="text-align: center">
                                                {% if periodo.id >= 112 and actividad.criteriogestionperiodo.criterio.id == 138 %}
                                                    <a class="btn btn-success bloqueo_pantalla" href="/pro_cronograma?action=veractividadrevisor&idcriterio={{ actividad.criteriogestionperiodo.criterio.id }}&profesorid={{ profesor.id|encrypt }}&opcion={{ 1|encrypt }}"><i class="fa fa-list"></i> Ver contenidos</a>
                                                {% else %}
                                                    {% if actividad.criteriogestionperiodo.link %}
                                                        {% if actividad.criteriogestionperiodo.link == 'distributivo' %}
                                                            <a href="javascript:;" tipos="{{ reporte_11.tiporeporte }}" nhref="/reportes?action=run&n={{ reporte_11.nombre }}&idpersona={{ profesor.persona.id }}&idperiodo={{ periodo.id }}" title="Imprimir distributivo" class="reportedirecto btn btn-warning reporte tu"> <i class='fa fa-print'></i> Imprimir distributivo</a>
                                                            <a class="btn btn-warning" onclick="vistaevidenciasilabo()" href="javascript:;"><i class="fa fa-print"></i>&nbsp; Evidencias Sílabo</a>
                                                            <a href="/pro_cronograma?action=subirevidencia&id={{ actividad.id|encrypt }}&p=1" class='btn btn-mini btn-success tu' title="Subir Evidencias"><i class='fa fa-plus'></i></a>
                                                            <a href="/pro_cronograma?action=verevidencia&id={{ actividad.id|encrypt }}" class='btn btn-mini btn-warning tu' title="Ver Evidencias"><i class='fa fa-list'></i></a><br>
                                                        {% endif %}
                                                    {% else %}
                                                        <a href="/pro_cronograma?action=subirevidencia&id={{ actividad.id|encrypt }}&p=1" class='btn btn-mini btn-success tu' title="Subir Evidencias"><i class='fa fa-plus'></i></a>
                                                        <a href="/pro_cronograma?action=verevidencia&id={{ actividad.id|encrypt }}" class='btn btn-mini btn-warning tu' title="Ver Evidencias"><i class='fa fa-list'></i></a><br>
                                                    {% endif %}
                                                {% endif %}
                                                {% if actividad.criteriogestionperiodo.criterio.id|tranformarstring in criterio_gestion_subir_cronograma %}
                                                    <div style="margin-top: 5px">
                                                        {% if not actividad.tiene_cronograma.estado == 2 %}
                                                            <a href="/pro_cronograma?action=subircronograma&id={{ actividad.id|encrypt }}" class='btn btn-info btn-mini tu' title="Subir Cronograma"><i class='fa fa-arrow-up'></i></a>
                                                        {% endif %}
                                                    </div>
                                                {% endif %}
                                            </td>
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                    {% endif %}
                    </thead>
                </table>
            </div>
        </div>
    {% endif %}
    {%  if materiaspracticas %}
        <div class="row-fluid">
            <div class="span12">
                <table class='table table-bordered table-striped' >
                    <thead>
                    <tr>
                        <th colspan="6">PRÁCTICAS DE MATERIAS</th>
                    </tr>
                    <tr>
                        <th>Materia</th>
                        <th style="width: 90px;text-align: center;">Mis Prácticas</th>
                        <th style="width: 120px; text-align: center">Acciones</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for materiapractica in materiaspracticas %}
                        <tr>
                            <td>
                                {{ materiapractica.nombre_mostrar }}
                                {% if  materiapractica.cerrado %}
                                    <br><label class="label label-important"> CERRADA</label>
                                {% endif %}
                            </td>
                            {% with practicas=materiapractica|args:profesor|call:'cantidad_practicas_profesor' %}
                                <td style="text-align: center;">{{ practicas }}</td>
                            {% endwith %}
                            <td style="text-align: center">
                                <a href="/pro_cronograma?action=practicas&id={{ materiapractica.id|encrypt }}" class="btn btn-success btn-mini"><i class="fa fa-list"></i> Pr&aacute;cticas</a>
                                <a href="javascript:;" idm="{{ materiapractica.id|encrypt }}" class="btn btn-warning btn-mini informeestudiantepractica tu" title="Estudiantes"><i class="fa fa-list"></i></a>
                            </td>
                        </tr>
                    {% empty %}
                        <tr>
                            <td colspan="15" style="text-align: center">NO TIENE MATERIAS PRACTICAS ASIGNADAS</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    {%  endif %}
    {% if materiascursos %}
        <div class="row-fluid">
            <div class="span12">
                <table class='table table-bordered table-striped' >
                    <thead>
                    <tr>
                        <th colspan="6">CURSOS Y ESCUELAS - (MODULOS REMEDIALES)</th>
                    </tr>
                    <tr>
                        <th>Materia</th>
                        <th style="width: 90px;text-align: center;">Inicio</th>
                        <th style="width: 90px;text-align: center;">Fin</th>
                        <th style="width: 90px;">Acciones</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% if materiascursos %}
                        {% for materiascurso in materiascursos %}
                            <tr>
                                <td>
                                    {{ materiascurso.asignatura}}
                                    {% if  materiascurso.cerrada  %}
                                        <br><label class="label label-important"> CERRADA</label>
                                    {% endif %}
                                </td>
                                <td style="text-align: center;">{{ materiascurso.fecha_inicio|date:"d-m-Y" }}</td>
                                <td style="text-align: center;">{{ materiascurso.fecha_fin|date:"d-m-Y" }}</td>
                                <td>
                                    <div class="btn-group">
                                        <a class="btn btn-mini dropdown-toggle" data-toggle="dropdown" href="javascript:;">Acciones<span class="caret"></span></a>
                                        <ul class="dropdown-menu pull-right">
                                            {% if materiascurso.cerrada %}
                                                {% if reporte_10 %}
                                                    <li><a href="javascript:;" tipos="{{ reporte_10.tiporeporte }}" nhref="/reportes?action=run&n={{ reporte_10.nombre }}&materia={{ materiascurso.id }}" class="reportedirecto"><i class="fa fa-print"></i> Acta</a></li>
                                                {% endif %}
                                            {% else %}
                                                <li><a href="/pro_cronograma?action=cerrarmateriacurso&id={{ materiascurso.id|encrypt }}" class="btn-form"><i class="fa fa-times"></i> Cerrar</a> </li>
                                            {% endif %}
                                            <li><a href="/pro_cronograma?action=calificacioncurso&id={{ materiascurso.id|encrypt }}"><i class="fa fa-list"></i> Calificaciones</a> </li>
                                            {% if reporte_3 %}
                                                <!-- Impresiones -->
                                                <li class="dropdown-submenu pull-left">
                                                    <a href="javascript:;"><i class="fa fa-print"></i> Impresion</a>
                                                    <ul class="dropdown-menu" style="width: 100%;">
                                                        <li><a href="javascript:;" tipos="{{ reporte_5.tiporeporte }}" nhref="/reportes?action=run&n={{ reporte_5.nombre }}&actividad={{ materiascurso.id }}" class="reportedirecto"><i class="fa fa-print"></i> Lista registrados</a></li>
                                                    </ul>
                                                </li>
                                            {% endif %}
                                        </ul>
                                    </div>
                                </td>
                            </tr>
                        {% endfor %}
                    {% else %}
                        <tr>
                            <td colspan="15" style="text-align: center">NO TIENE MATERIAS ASIGNADAS</td>
                        </tr>
                    {% endif %}
                    </tbody>
                </table>
            </div>
        </div>
    {% endif %}
    {% if actividades %}
        <div class="row-fluid">
            <div class="span12">
                <table class='table table-bordered table-striped' >
                    <thead>
                    <tr>
                        <th colspan="7">ACTIVIDADES COMPLEMENTARIAS</th>
                    </tr>
                    <tr>
                        <th style="text-align: center">Actividad</th>
                        <th style="text-align: center">DETALLE / HORARIO / JORNADA</th>
                        <th style="width: 150px;text-align: center;" class="hidden-phone hidden-tablet">FECHA INICIO / FIN DE INSCRIPCIÓN</th>
                        <th style="width: 80px;text-align: center;" class="hidden-phone hidden-tablet">Cupo</th>
                        <th style="width: 80px;text-align: center;">Registrados</th>
                        <th style="width: 80px;text-align: center;" class="hidden-phone hidden-tablet">Fechas Registradas</th>
                        <th style="width: 70px;"></th>
                    </tr>
                    </thead>
                    <tbody>
                    {% if actividades %}
                        {% for actividad in actividades %}
                            <tr>
                                <td style="text-transform: uppercase" data-title='Actividad'>
                                    {{ actividad.nombre }}<br>
                                    {{ actividad.coordinacion }}
                                </td>
                                <td data-title='Detalle'>{{ actividad.descripcion|upper }}</td>
                                <td style="text-align: center;" class="hidden-phone hidden-tablet">
                                    {{ actividad.fechainicio|date:"d-m-Y" }}<br>
                                    {{ actividad.fechafin|date:"d-m-Y" }}
                                </td>
                                <td style="text-align: center;" class="hidden-phone hidden-tablet">{{ actividad.cupo }}</td>
                                <td style="text-align: center;" data-title='Registrados'>{{ actividad.totalinscritos }}</td>
                                <td style="text-align: center;" class="hidden-phone hidden-tablet">
                                    {% with fechaactividad=actividad|args:profesor|call:'totalfechaactividades' %}
                                        {{ fechaactividad }}
                                    {% endwith %}
                                </td>
                                <td>
                                    <div class="btn-group">
                                        <a class="btn btn-mini dropdown-toggle" data-toggle="dropdown" href="javascript:;">Acciones<span class="caret"></span></a>
                                        <ul class="dropdown-menu pull-right">
                                            <li><a class="bloqueo_pantalla" href="/pro_cronograma?action=cronograma&idactividad={{ actividad.id|encrypt }}"><i class="fa fa-calendar"></i> Cronograma Asistencia</a> </li>
                                            <li><a onclick="pdfinscritos({{ actividad.id }})" href="javascript:;"><span class="fa fa-print "></span> Imprimir Inscritos</a></li>
                                            {% if profesor.id == actividad.tutorprincipal.id  %}
                                                <li><a class="bloqueo_pantalla" href="/pro_cronograma?action=calificar&idactividad={{ actividad.id|encrypt }}"><i class="fa fa-pencil"></i> Calificar</a> </li>
                                            {% endif %}
                                        </ul>
                                    </div>
                                </td>
                            </tr>
                        {% endfor %}
                    {% else %}
                        <tr>
                            <td colspan="15" style="text-align: center">NO TIENE ACTIVIDADES ASIGNADAS</td>
                        </tr>
                    {% endif %}
                    </tbody>
                </table>
            </div>
        </div>
    {% endif %}
    {% if proyectos %}
        <div class="row-fluid">
            <div class="span12">
                <table class='table table-bordered table-striped' >
                    <thead>
                    <tr>
                        <th colspan="6">PROYECTOS DE VINCULACIÓN</th>
                    </tr>
                    <tr>
                        <th>Proyecto</th>
                        <th style="width: 90px;text-align: center;">Inicio</th>
                        <th style="width: 90px;text-align: center;">Fin</th>
                        <th style="width: 80px;text-align: center;">Registrados</th>
                        <th style="width: 300px;">Lugar</th>
                        <th style="width: 90px;"></th>
                    </tr>
                    </thead>
                    <tbody>
                    {% if proyectos %}
                        {% for proyecto in proyectos %}
                            <tr>
                                <td>
                                    {{ proyecto.nombre }}
                                    {% if proyecto.cerrado %}
                                        <br><label class="label label-important">CERRADO</label>
                                    {% endif %}
                                </td>
                                <td style="text-align: center;">{{ proyecto.inicio|date:"d-m-Y" }}</td>
                                <td style="text-align: center;">{{ proyecto.fin|date:"d-m-Y" }}</td>
                                <td style="text-align: center;">{{ proyecto.cantidad_registrados }}</td>
                                <td>{{ proyecto.lugar }}</td>
                                <td>
                                    <div class="btn-group">
                                        <a class="btn btn-mini dropdown-toggle" data-toggle="dropdown" href="javascript:;">Acciones<span class="caret"></span></a>
                                        <ul class="dropdown-menu pull-right">
                                            {% if proyecto.cerrado %}
                                                <li><a href="/pro_cronograma?action=abrirpry&id={{ proyecto.id|encrypt }}" class="btn-form"><i class="fa fa-folder-open"></i> Abrir</a> </li>
                                            {% else %}
                                                <li><a href="/pro_cronograma?action=cerrarpry&id={{ proyecto.id|encrypt }}" class="btn-form"><i class="fa fa-folder-close"></i> Cerrar</a> </li>
                                            {% endif %}
                                            <li style="text-align: left;"><a href="/pro_cronograma?action=calificacionpry&id={{ proyecto.id }}"><i class="fa fa-list"></i>Calificaciones</a></li>
                                            {% if reporte_1 or reporte_2 %}
                                                <li class="dropdown-submenu pull-left">
                                                    <a href="javascript:;"><i class="fa fa-print"></i> Impresion</a>
                                                    <ul class="dropdown-menu" style="width: 100%;">
                                                        {% if reporte_1 %}
                                                            <li style="text-align: left;"><a href="javascript:;" tipos="{{ reporte_1.tiporeporte }}" nhref="/reportes?action=run&n={{ reporte_1.nombre }}&proyecto={{ proyecto.id }}" class="reportedirecto"><i class="fa fa-print"></i> Listado de inscritos</a></li>
                                                        {% endif %}
                                                        {% if reporte_2 %}
                                                            <li style="text-align: left;"><a href="javascript:;" tipos="{{ reporte_2.tiporeporte }}" nhref="/reportes?action=run&n={{ reporte_2.nombre }}&proyecto={{ proyecto.id }}" class="reportedirecto"><i class="fa fa-print"></i> Acta de calificaciones</a></li>
                                                        {% endif %}
                                                    </ul>
                                                </li>
                                            {% endif %}
                                        </ul>
                                    </div>
                                </td>
                            </tr>
                        {% endfor %}
                    {% else %}
                        <tr>
                            <td colspan="15" style="text-align: center">NO TIENE PROYECTOS ASIGNADOS</td>
                        </tr>
                    {% endif %}
                    </tbody>
                </table>
            </div>
        </div>
    {% endif %}
    {#    {% if tutoriaspracticas %}#}
    <div class="row-fluid">
        <div class="span12">
            <table class="table table-bordered filterable">
                <thead>
                <tr>
                    <th colspan="8">TUTORIAS PRÁCTICAS PRE PROFESIONALES</th>
                </tr>
                <tr>
                    <th style="text-align: center">Cantidad</th>
                    <th style="text-align: center">Acciones</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td style="text-align: center"><b class="label label-inverse" style="font-size: 14px; padding: 5px"><i class="fa fa-users"></i> {{ tutoriaspracticas }}</b></td>
                    <td style="text-align: center"> <a class="btn btn-primary" href='/pro_cronograma?action=listatutorias'><span class="fa fa-eye"></span> Ver </a> </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    {#    {% endif %}#}
    {% if supervisorpracticas %}
        <div class="row-fluid">
            <div class="span12">
                <table class="table table-bordered table-striped filterable">
                    <thead>
                    <tr>
                        <th colspan="8">SUPERVISIÓN PRÁCTICAS PRE PROFESIONALES</th>
                    </tr>
                    <tr>
                        <th style="text-align: center">Cantidad</th>
                        <th style="text-align: center">Acciones</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td style="text-align: center">{{ supervisorpracticas }}</td>
                        <td style="text-align: center"> <a class="btn " href='/pro_cronograma?action=listasupervision'><span class="fa fa-eye"></span> Ver </a> </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    {% endif %}
    {% if supervisorayudantia %}
        <div class="row-fluid">
            <div class="span12">
                <table class="table table-bordered table-striped filterable">
                    <thead>
                    <tr>
                        <th colspan="8">SUPERVISIÓN AYUDANTÍAS CATEDRA</th>
                    </tr>
                    <tr>
                        <th style="text-align: center">Cantidad</th>
                        <th style="text-align: center">Acciones</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td style="text-align: center">{{ supervisorayudantia }}</td>
                        <td style="text-align: center"> <a class="btn " href='/pro_cronograma?action=listasupervisionayudantia'><span class="fa fa-eye"></span> Ver </a> </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    {% endif %}
    {#    {% if periodo.id >= 110 and periodo.vercriterioprofesor %}#}
    {% if periodo.versionreporte == 2 and periodo.vercriterioprofesor %}
        <div class="row-fluid">
            <div class="span12">
                <table class="table table-bordered table-striped filterable" id="miTabla">
                    <thead>
                    <tr>
                        <th style="text-align: center"></th>
                        {#                        <th style="text-align: center"></th>#}
                        <th style="text-align: center" colspan="2">ACTIVIDAD ACÁDEMICA</th>
                        {% for ad in actividadesdocente %}
                            {% with cantidadrecurso=ad|args:periodo|call:'cantidad_recursos_actividades' %}
                                <th style="text-align: center; font-size: 7px;" colspan="{{ cantidadrecurso }}">{{ ad.criterio.nombre }}</th>
                            {% endwith %}
                        {% endfor %}
                        <th style="text-align: center; vertical-align: middle" colspan="2" rowspan="2">SUMAN</th>
                        {% for ag in actividadesgestion %}
                            {% with cantidadrecurso=ag|args:periodo|call:'cantidad_recursos_actividades' %}
                                <th style="text-align: center; font-size: 7px;" colspan="{{ cantidadrecurso }}">{{ ag.criterio.nombre }}</th>
                            {% endwith %}
                        {% endfor %}
                        <th style="text-align: center; vertical-align: middle" colspan="2" rowspan="2">TOTAL</th>
                    </tr>
                    <tr>
                        <th style="text-align: center"></th>
                        <th style="text-align: center" colspan="2">RECURSO DE APRENDIZAJE(PRODUCTO)</th>
                        {% for ad in actividadesdocente %}
                            {% with recursos=ad|args:periodo|call:'recursos_actividades' %}
                                {% for recurso in recursos %}
                                    <th style="text-align: center; font-size: 7px;" width="20px">{{ recurso.nombre }}</th>
                                {% endfor %}
                            {% endwith %}
                        {% endfor %}
                        {% for ag in actividadesgestion %}
                            {% with recursos=ag|args:periodo|call:'recursos_actividades' %}
                                {% for recurso in recursos %}
                                    <th style="text-align: center; font-size: 7px;" width="20px">{{ recurso.nombre }}</th>
                                {% endfor %}
                            {% endwith %}
                        {% endfor %}
                    </tr>
                    </thead>
                    <tbody>
                    {#                    por presencial#}
                    {% for asignatura in asignaturas_presencial %}
                        {% with banderaasignaturapresencial=0|sumarvalores:forloop.counter %}
                            {% for tipoprofesor in tiposprofesorpresencial %}
                                {% with puede=asignatura|args:profesor.id|args:periodo|args:tipoprofesor|args:modalidadpresencial|call:'puede_tipoprofesor' %}
                                    {% if puede %}
                                        {% with banderatipoprofesor=0|sumarvalores:forloop.counter %}
                                            <tr>
                                                {% if banderaasignaturapresencial == 1 and banderatipoprofesor == 1 %}
                                                    <td style="text-align: center; vertical-align: middle" class="captionpresencia">
                                                        <strong>Presencial - SemiPresencial</strong>
                                                    </td>
                                                {% endif %}
                                                <td class="total"  ida="{{ asignatura.id }}" idt="{{ tipoprofesor.id }}">
                                                    <strong>{{ tipoprofesor }}</strong>
                                                </td>
                                                <td>
                                                    {{ asignatura }} <br>
                                                    {#                                                    {% with paralelos=asignatura|args:profesor.id|args:periodo|args:modalidadpresencial|args:tipoprofesor|call:'paralelos_asignatura' %}#}
                                                    {#                                                        {% for paralelo in paralelos %}#}
                                                    {#                                                            - <strong>{{ paralelo.asignaturamalla.malla.carrera.nombre }}</strong>: {{ paralelo.paralelo }}<br>#}
                                                    {#                                                        {% endfor %}#}
                                                    {#                                                    {% endwith %}#}
                                                </td>
                                                {% for ad in actividadesdocente %}
                                                    {% with recursos=ad|args:periodo|call:'recursos_actividades' %}
                                                        {% for recurso in recursos %}
                                                            <td style="text-align: center; vertical-align: middle" class="dp{{ asignatura.id }}_{{ tipoprofesor.id }}">
                                                                {% with distributivo=recurso|args:periodo|args:ad|args:tipoprofesor|args:'1'|call:'recurso_distributivo' %}
                                                                    {% with valor=asignatura|args:recurso|args:profesor.id|args:'1'|args:ad.criterio|args:modalidadpresencial|args:'R'|args:tipoprofesor|args:periodo|args:distributivo|args:modalidadpresencial|call:'valor_recurso_asignatura' %}
                                                                        {% if not valor == 9999 %}
                                                                            {{ valor|default_if_none:"0" }}
                                                                        {% else %}
                                                                            -
                                                                        {% endif %}
                                                                    {% endwith %}
                                                                {% endwith %}
                                                            </td>
                                                        {% endfor %}
                                                    {% endwith %}
                                                {% endfor %}
                                                <td style="text-align: center; vertical-align: middle" class="totaldp{{ asignatura.id }}_{{ tipoprofesor.id }} totaldppresencial suma"></td>
                                                <script type="text/javascript">
                                                    document.querySelectorAll('.totaldp'+{{ asignatura.id }} + "_" + {{ tipoprofesor.id }}).forEach(function (total) {
                                                        if (total.classList.length > 0) {
                                                            var suma = 0;
                                                            document.querySelectorAll('.dp' + {{ asignatura.id }} + "_" + {{ tipoprofesor.id }}).forEach(function (celda) {
                                                                if (celda.innerHTML.trim() != '-') {
                                                                    var valor = parseFloat(celda.innerHTML);
                                                                    suma += valor;
                                                                }
                                                            });
                                                            total.innerHTML = suma;
                                                        }
                                                    });
                                                </script>
                                                {% if banderaasignaturapresencial == 1 and banderatipoprofesor == 1 %}
                                                    <td style="text-align: center; vertical-align: middle" class="totalpresencial">ff</td>
                                                {% endif %}
                                                {% if banderaasignaturapresencial == 1 and banderatipoprofesor == 1 %}
                                                    {% for ag in actividadesgestion %}
                                                        {% with recursos=ag|args:periodo|call:'recursos_actividades' %}
                                                            {% for recurso in recursos %}
                                                                <td style="text-align: center; vertical-align: middle" class="rgestion gp{{ asignatura.id }}_{{ tipoprofesor.id }}_{{ recurso.id }} suma" idr="{{ recurso.id }}">
                                                                    {% with valor=recurso|args:profesor.id|args:periodo|args:ag|call:'valor_recurso_gestion' %}
                                                                        {{ valor|default_if_none:"0" }}
                                                                    {% endwith %}
                                                                </td>
                                                            {% endfor %}
                                                        {% endwith %}
                                                    {% endfor %}
                                                    <td style="text-align: center; vertical-align: middle" class="rtotal rt{{ asignatura.id }}_{{ tipoprofesor.id }}">sss</td>
                                                {% endif %}
                                            </tr>
                                        {% endwith %}
                                    {% endif %}
                                {% endwith %}
                            {% endfor %}
                        {% endwith %}
                    {% endfor %}
                    <script type="text/javascript">
                        document.querySelectorAll('.totalpresencial').forEach(function (total) {
                            if (total.classList.length > 0) {
                                var suma = 0;
                                var i = 0;
                                document.querySelectorAll('.totaldppresencial').forEach(function (celda) {
                                    i = i+1;
                                    if (celda.innerHTML.trim() != '-') {
                                        var valor = parseFloat(celda.innerHTML);
                                        suma += valor;
                                    }
                                });
                                total.innerHTML = suma;
                            }
                            $(".totalpresencial").attr('rowspan',i);
                            $(".captionpresencia").attr('rowspan',i);
                        });
                    </script>


                    {#                    por linea#}
                    {% for asignatura in asignaturas_enlinea %}
                        {% with banderaasignaturalinea=0|sumarvalores:forloop.counter %}
                            {% for tipoprofesor in tiposprofesorlinea %}
                                {% with puede=asignatura|args:profesor.id|args:periodo|args:tipoprofesor|args:modalidadlinea|call:'puede_tipoprofesor' %}
                                    {% if puede %}
                                        {% with banderatipoprofesor=0|sumarvalores:forloop.counter %}
                                            <tr>
                                                {% if banderaasignaturalinea == 1 and banderatipoprofesor == 1 %}
                                                    <td style="text-align: center; vertical-align: middle" class="captionlinea">
                                                        <strong>En Linea</strong>
                                                    </td>
                                                {% endif %}
                                                <td class="total" ida="{{ asignatura.id }}" idt="{{ tipoprofesor.id }}">
                                                    <strong>{{ tipoprofesor }}</strong>
                                                </td>
                                                <td>
                                                    {{ asignatura }} <br>
                                                    {#                                                    {% with paralelos=asignatura|args:profesor.id|args:periodo|args:modalidadlinea|args:tipoprofesor|call:'paralelos_asignatura' %}#}
                                                    {#                                                        {% for paralelo in paralelos %}#}
                                                    {#                                                            - <strong>{{ paralelo.asignaturamalla.malla.carrera.nombre }}</strong>: {{ paralelo.paralelo }}<br>#}
                                                    {#                                                        {% endfor %}#}
                                                    {#                                                    {% endwith %}#}
                                                </td>
                                                {% for ad in actividadesdocente %}
                                                    {% with recursos=ad|args:periodo|call:'recursos_actividades' %}
                                                        {% for recurso in recursos %}
                                                            <td style="text-align: center; vertical-align: middle" class="dl{{ asignatura.id }}_{{ tipoprofesor.id }}">
                                                                {% with distributivo=recurso|args:periodo|args:ad|args:tipoprofesor|args:'1'|call:'recurso_distributivo' %}
                                                                    {% with valor=asignatura|args:recurso|args:profesor.id|args:'1'|args:ad.criterio|args:modalidadlinea|args:'R'|args:tipoprofesor|args:periodo|args:distributivo|args:modalidadlinea|call:'valor_recurso_asignatura' %}
                                                                        {% if not valor == 9999 %}
                                                                            {{ valor|default_if_none:"0" }}
                                                                        {% else %}
                                                                            -
                                                                        {% endif %}
                                                                    {% endwith %}
                                                                {% endwith %}
                                                            </td>
                                                        {% endfor %}
                                                    {% endwith %}
                                                {% endfor %}
                                                <td style="text-align: center; vertical-align: middle" class="totaldl{{ asignatura.id }}_{{ tipoprofesor.id }} totaldplinea suma"></td>
                                                <script type="text/javascript">
                                                    document.querySelectorAll('.totaldl'+{{ asignatura.id }} + "_" + {{ tipoprofesor.id }}).forEach(function (total) {
                                                        if (total.classList.length > 0) {
                                                            var suma = 0;
                                                            document.querySelectorAll('.dl' + {{ asignatura.id }} + "_" + {{ tipoprofesor.id }}).forEach(function (celda) {
                                                                if (celda.innerHTML.trim() != '-') {
                                                                    var valor = parseFloat(celda.innerHTML);
                                                                    suma += valor;
                                                                }
                                                            });
                                                            total.innerHTML = suma;
                                                        }
                                                    });
                                                </script>
                                                {% if banderaasignaturalinea == 1 and banderatipoprofesor == 1 %}
                                                    <td style="text-align: center; vertical-align: middle" class="totallinea">ff</td>
                                                {% endif %}
                                                {% if banderaasignaturalinea == 1 and banderatipoprofesor == 1 %}
                                                    {% for ag in actividadesgestion %}
                                                        {% with recursos=ag|args:periodo|call:'recursos_actividades' %}
                                                            {% for recurso in recursos %}
                                                                <td style="text-align: center; vertical-align: middle" class="rgestion gp{{ asignatura.id }}_{{ tipoprofesor.id }}_{{ recurso.id }} suma" idr="{{ recurso.id }}">
                                                                    {% with valor=recurso|args:profesor.id|args:periodo|args:ag|call:'valor_recurso_gestion' %}
                                                                        {{ valor|default_if_none:"0" }}
                                                                    {% endwith %}
                                                                </td>
                                                            {% endfor %}
                                                        {% endwith %}
                                                    {% endfor %}
                                                    <td style="text-align: center; vertical-align: middle" class="rtotal rt{{ asignatura.id }}_{{ tipoprofesor.id }}">sss</td>
                                                {% endif %}
                                            </tr>
                                        {% endwith %}
                                    {% endif %}
                                {% endwith %}
                            {% endfor %}
                        {% endwith %}
                    {% endfor %}
                    <script type="text/javascript">
                        document.querySelectorAll('.totallinea').forEach(function (total) {
                            if (total.classList.length > 0) {
                                var suma = 0;
                                var i = 0;
                                document.querySelectorAll('.totaldplinea').forEach(function (celda) {
                                    i = i+1;
                                    if (celda.innerHTML.trim() != '-') {
                                        var valor = parseFloat(celda.innerHTML);
                                        suma += valor;
                                    }
                                });
                                total.innerHTML = suma;
                            }
                            $(".totallinea").attr('rowspan',i);
                            $(".captionlinea").attr('rowspan',i);
                        });
                        var idr = 0;
                        document.querySelectorAll('.rgestion').forEach(function (celda) {
                            idr = celda.getAttribute('idr');
                        });
                        var j = 0;
                        document.querySelectorAll('.total').forEach(function (celda) {
                            j = j+1;
                            var ida = celda.getAttribute('ida');
                            var idt = celda.getAttribute('idt');
                            if (j>1){
                                $(".gp"+ida+"_"+idt+"_"+idr).remove();
                                $(".rt"+ida+"_"+idt).remove();
                            }
                        });
                        $(".rgestion").attr('rowspan',j);
                        $(".rtotal").attr('rowspan',j);

                        document.querySelectorAll('.rtotal').forEach(function (total) {
                            if (total.classList.length > 0) {
                                var suma = 0;
                                var i = 0;
                                document.querySelectorAll('.suma').forEach(function (celda) {
                                    i = i+1;
                                    if (celda.innerHTML.trim() != '-') {
                                        var valor = parseFloat(celda.innerHTML);
                                        suma += valor;
                                    }
                                });
                                total.innerHTML = suma;
                            }
                        });
                    </script>


                    </tbody>
                </table>
            </div>
        </div>
    {% endif %}
    {% if tienelogs %}
        <div class="row-fluid">
        <div class="span12">
        <table class="table table-bordered table-striped filterable" id="miTabla">
            <thead>
            <tr>
                <th colspan="9">REPORTE AULA VIRTUAL - (TAREAS)</th>
            </tr>
            <tr>
                <th style="width: 150px;">Revisor</th>
                <th>Materia</th>
                <th style="width: 300px;">Deber</th>
                <th style="width: 80px;">Cantidad Estudiantes</th>
                <th style="width: 80px;">Fecha</th>
                <th style="width: 80px;">Tiempo revisión</th>
                <th style="width: 80px;">Tiempo revisión mínima</th>
                <th style="width: 80px;">Tiempo revisión máxima</th>
                <th style="width: 80px;">Promedio de Tiempo</th>
                {#                <th style="width: 80px;">Desviación Estandar</th>#}
            </tr>
            </thead>
            <tbody>
            {% with log=periodo|args:profesor|call:'log_deberes_profesor' %}
                {% for l in log %}
                    <tr>
                        <td>{{ l.revisor }}</td>
                        <td>{{ l.materia }}</td>
                        <td>{{ l.deber }}</td>
                        <td style="text-align: center"> {{ l.estudiantes }}</td>
                        <td style="text-align: center">{{ l.fecha|date:'Y-m-d' }}</td>
                        <td style="text-align: center">{{ l.hora }}</td>
                        <td style="text-align: center">{{ l.horaminima }}</td>
                        <td style="text-align: center">{{ l.horamaxima }}</td>
                        <td style="text-align: center">{{ l.promedio }}</td>
                        {#                        <td style="text-align: center">{{ l.desviacionestandar }}</td>#}
                    </tr>
                {% endfor %}
            {% endwith %}
            </tbody>
        </table>
    {% endif %}
{#{% if asesoramientossee00 %}#}
{#    <div class="row-fluid">#}
{#        <div class="span12">#}
{#            <table class="table table-bordered table-striped filterable tabla_asesoramientossee" id="miTabla">#}
{#                <thead>#}
{#                <tr>#}
{#                    <th colspan="9">Asesoramiento de Servicios de Estudios Estadísticos</th>#}
{#                </tr>#}
{#                <tr>#}
{#                    <th style="width: 20%;">Titúlo</th>#}
{#                    <th style="width: 10%;text-align: center;">Tipo Trabajo</th>#}
{#                    <th style="width: 30%;">Resumen Trabajo</th>#}
{#                    <th style="width: 20%;text-align: center;">Estado/Observacion</th>#}
{#                    <th style="width: 10%;text-align: center;">Funcionario Asesor Técnico</th>#}
{#                    <th style="width: 10%;text-align: center;">Atención</th>#}
{#                </tr>#}
{#                </thead>#}
{#                <tbody>#}
{#                {% for l in asesoramientossee %}#}
{#                    <tr>#}
{#                        <td>{{ l.titulo }}</td>#}
{#                        <td style="text-align: center" >{{ l.tipotrabajo }}</td>#}
{#                        <td class="text-justify" >{{ l.descripcion }}</td>#}
{#                        <td class="text-center"  style="text-align: center">#}
{#                            <span class="label label-{% if l.estado ==  1 %}warning{% elif l.estado ==  2 %}success{% else %}important{% endif %}  ">{{ l.get_estado_display }}</span>#}
{#                            <br>#}
{#                            {% if l.observacion %}#}
{#                                <p>#}
{#                                    {{ l.observacion }}#}
{#                                </p>#}
{#                            {% endif %}#}
{#                        </td>#}
{#                        <td style="text-align: center">#}
{#                            {% if  l.funcionarioasesortecnico%}#}
{#                                {{ l.funcionarioasesortecnico }}#}
{#                            {% endif %}#}
{#                        </td>#}
{#                        <td style="text-align: center">#}
{#                            {% if l.fechaatencion and l.horaatencion%}#}
{#                                <b>Fecha: </b> {{ l.fechaatencion |date:'d-m-Y'}}<br><b>Hora: </b>{{ l.horaatencion }}#}
{#                            {% endif %}#}
{#                        </td>#}
{#                    </tr>#}
{#                {% endfor %}#}
{#                </tbody>#}
{#            </table>#}
{#        </div>#}
{#    </div>#}
{#{% endif %}#}

<div class="modal static" id="afinidad" style="display: none;">
    <div class="modal-header">
        <h3 class="paneltitle">Afinidad de la formación académica</h3>
    </div>
    <div class="modal-body" id="afinidadbody">
    </div>
    <div class="modal-footer">
        <a href="javascript:;" class="btn btn-info" id="afinidad_cerrar"> Cerrar</a>
    </div>
</div>
<div class="modal fade static" id="itemspanel" style="display: none;" >
    <div class="modal-header">
        <h4 id="paneltitle">Ingresar un rango de fechas:</h4>
    </div>
    <div class="modal-body panelbody">
        <div class="alert alert-danger incompletoaddpreguntas" style="display: none">
            <i class="fa fa-info-sign"></i> Seleccione un rango de fechas para continuar...!!!
        </div>
        <div style="text-align: center">
            <input placeholder="fecha desde" type="text" value="{{ fechainicio }}" name="fini" id="id_fini" style="width: 100px">
            <input placeholder="fecha hasta" type="text" value="{{ fechafin }}" name="ffin" id="id_ffin" style="width: 100px">
        </div><br>
    </div>
    <div class="modal-footer">
        <p style="text-align: center; margin-bottom: 0">
            <a href="javascript:;" class="btn btn-danger generarinforme"><i class="fa fa-plus"></i> Procesar</a>
            <a href="javascript:;" id="add_cancel" class="btn btn-info"> Cancelar</a>
        </p>
    </div>
</div>
<div class="modal fade static" id="itemspaneleditzoom" style="display: none;" >
    <div class="modal-header">
        <h4 id="paneltitle">Actualizar enlace zoom:</h4>
    </div>
    <div class="modal-body panelbody">
        <div class="alert alert-danger incompletoeditzoom" style="display: none">
            <i class="fa fa-info-sign"></i> Ingrese enlace zoom!!!
        </div>
        <div style="text-align: left">
            <input autocomplete="off" placeholder="enlace zoom" type="text" value="{{ profesor.urlzoom }}" name="enlacezoom" id="id_enlacezoom" style="width: 500px">
            <br><strong>Ejemplo: https://unemi-edu-ec.zoom.us/j/5488474043</strong>
        </div><br>
    </div>
    <div class="modal-footer">
        <p style="text-align: center; margin-bottom: 0">
            <a href="javascript:;" class="btn btn-success actualizazoom"><i class="fa fa-plus"></i> Actualizar</a>
            <a href="javascript:;" id="editzoom_cancel" class="btn btn-info"> Cancelar</a>
        </p>
    </div>
</div>
<div class="modal fade static" id="itemspaneladm" style="display: none;" >
    <div class="modal-header">
        <h4 id="paneltitle">Ingresar un rango de fechas adm:</h4>
    </div>
    <div class="modal-body panelbody">
        <div class="alert alert-danger incompletoaddpreguntasadm" style="display: none">
            <i class="fa fa-info-sign"></i> Seleccione un rango de fechas para continuar...!!!
        </div>
        <div style="text-align: center">
            <input placeholder="fecha desde" type="text" value="{{ fechainicio }}" name="fini" id="id_finiadm" style="width: 100px">
            <input placeholder="fecha hasta" type="text" value="{{ fechafin }}" name="ffin" id="id_ffinadm" style="width: 100px">
        </div><br>
    </div>
    <div class="modal-footer">
        <p style="text-align: center; margin-bottom: 0">
            <a href="javascript:;" class="btn btn-danger generarinformeadm"><i class="fa fa-plus"></i> Procesar</a>
            <a href="javascript:;" id="add_canceladm" class="btn btn-info"> Cancelar</a>
        </p>
    </div>
</div>
<div class="modal fade static" id="itemspanelobservacion" style="display: none;">
    <div class="modal-header">
        <h3 class="paneltitle">Observación</h3>
    </div>
    <div class="modal-body panelbodyobs">
    </div>
    <div class="modal-footer">
        <p style="text-align: right; margin-bottom: 0">
            <a href="javascript:;" id="cerrar" class="btn btn-info"><i class="fa fa-close"></i> Cerrar</a>
        </p>
    </div>
</div>
<div class="modal fade static" id="modalaceptacion" style="display: none;">
    <div class="modal-header">
        <h3 class="paneltitle">Aceptar o rechazar asignatura</h3>
    </div>
    <div class="modal-body" id="modalaceptacion_body">
        <textarea id="id_motivo" rows="3" cols="40" name="observacion" maxlength="1000" style="width: 100%" class="validate[required]"></textarea>
        <input type="hidden" value="0" id="codigopm" name="codigopm">
    </div>
    <div class="modal-footer">
        <div style="float: right">
            <td ><a href="javascript:;" id="modalaceptacionaceptar" class="btn btn-success"> Aceptar</a></td>
            <td ><a href="javascript:;" id="modalaceptacionrechazar" class="btn btn-danger"> Rechazar</a></td>
            <a href="javascript:;" id="modalaceptacion_cerrar" class="btn btn-info"> Cerrar</a>
        </div>
    </div>
</div>
<div class="modal fade static" id="modalaceptacionhorario" style="display: none;">
    <div class="modal-header">
        <h3 class="paneltitle">Aceptar o rechazar Horario</h3>
    </div>
    <div class="modal-body" id="modalaceptacionhorario_body">
        <textarea id="id_motivohorario" rows="3" cols="40" name="observacionhorario" maxlength="1000" style="width: 100%" class="validate[required]"></textarea>
        <input type="hidden" value="0" id="codigopmhorario" name="codigopmhorario">
    </div>
    <div class="modal-footer">
        <div style="float: right">
            <td ><a href="javascript:;" id="modalaceptacionaceptarhorario" class="btn btn-success"> Aceptar</a></td>
            <td ><a href="javascript:;" id="modalaceptacionrechazarhorario" class="btn btn-danger"> Rechazar</a></td>
            <a href="javascript:;" id="modalaceptacion_cerrarhorario" class="btn btn-info"> Cerrar</a>
        </div>
    </div>
</div>




<div class="modal fade static" id="itemspanelseguimiento" style="display: none;" >
    <div class="modal-header">
        <h4 id="paneltitle">Ingresar un rango de fechas :</h4>
    </div>
    <div class="modal-body panelbody">
        <div class="alert alert-danger incompletoseguimiento" style="display: none">
            <i class="fa fa-info-sign"></i> Seleccione un rango de fechas para continuar...!!!
        </div>
        <div style="text-align: center">
            <input placeholder="fecha desde" type="text" value="{{ fechainicio }}" name="fini" id="id_fini_seguimiento" style="width: 100px">
            <input placeholder="fecha hasta" type="text" value="{{ fechafin }}" name="ffin" id="id_ffin_seguimiento" style="width: 100px">
            <input type="hidden" value="0" id="idmateria">
        </div><br>
    </div>
    <div class="modal-footer">
        <p style="text-align: center; margin-bottom: 0">
            <a href="javascript:;" class="btn btn-danger generar_seguimiento"><i class="fa fa-plus"></i> Procesar</a>
            <a href="javascript:;" id="cancel_seguimiento" class="btn btn-info"> Cancelar</a>
        </p>
    </div>
</div>

<div class="modal fade static" id="itemspanel_generar_seguimiento" style="display: none;" >
    <div class="modal-header">
        <h4 id="paneltitle">Ingresar un rango de fechas :</h4>
    </div>
    <div class="modal-body panelbody">
        <div class="alert alert-danger incompletoseguimiento_general" style="display: none">
            <i class="fa fa-info-sign"></i> Seleccione un rango de fechas para continuar...!!!
        </div>
        <div style="text-align: center">
            <input placeholder="fecha desde" type="text" value="{{ fechainicio }}" name="fini" id="id_fini_seguimiento_general" style="width: 100px">
            <input placeholder="fecha hasta" type="text" value="{{ fechafin }}" name="ffin" id="id_ffin_seguimiento_general" style="width: 100px">
            <input type="hidden" id="idreporte" name="idreporte" value="0">
        </div><br>
    </div>
    <div class="modal-footer">
        <p style="text-align: center; margin-bottom: 0">
            <a href="javascript:;" class="btn btn-danger generar_seguimiento_general"><i class="fa fa-plus"></i> Procesar</a>
            <a href="javascript:;" id="cancel_seguimiento_general" class="btn btn-info"> Cancelar</a>
        </p>
    </div>
</div>

<div class="modal fade static" id="itemspanel_generar_seguimiento_new" style="display: none;" >
    <div class="modal-header">
        <h4 id="paneltitle">Ingresar un rango de fechas :</h4>
    </div>
    <div class="modal-body panelbody">
        <div class="alert alert-danger incompletoseguimiento_general_new" style="display: none">
            <i class="fa fa-info-sign"></i> Seleccione un rango de fechas para continuar...!!!
        </div>
        <div style="text-align: center">
            <input placeholder="fecha desde" type="text" value="{{ fechainicio }}" name="fini_new" id="id_fini_seguimiento_general_new" style="width: 100px">
            <input placeholder="fecha hasta" type="text" value="{{ fechafin }}" name="ffin_new" id="id_ffin_seguimiento_general_new" style="width: 100px">
            <input type="hidden" id="idreporte_new" name="idreporte_new" value="0">
        </div><br>
    </div>
    <div class="modal-footer">
        <p style="text-align: center; margin-bottom: 0">
            <a href="javascript:;" class="btn btn-danger generar_seguimiento_general_new"><i class="fa fa-plus"></i> Procesar</a>
            <a href="javascript:;" id="cancel_seguimiento_general_new" class="btn btn-info"> Cancelar</a>
        </p>
    </div>
</div>
<div class="modal fade static" id="itemspanel_generar_seguimiento_tutor" style="display: none;" >
    <div class="modal-header">
        <h4 id="paneltitle">Ingresar un rango de fechas :</h4>
    </div>
    <div class="modal-body panelbody">
        <div class="alert alert-danger incompletoseguimiento_general_tutor" style="display: none">
            <i class="fa fa-info-sign"></i> Seleccione un rango de fechas para continuar...!!!
        </div>
        <div style="text-align: center">
            <input placeholder="fecha desde" type="text" value="{{ fechainicio }}" name="fini_tutor" id="id_fini_seguimiento_general_tutor" style="width: 100px">
            <input placeholder="fecha hasta" type="text" value="{{ fechafin }}" name="ffin_tutor" id="id_ffin_seguimiento_general_tutor" style="width: 100px">
            <input type="hidden" id="idreporte_tutor" name="idreporte_tutor" value="0">
        </div><br>
    </div>
    <div class="modal-footer">
        <p style="text-align: center; margin-bottom: 0">
            <a href="javascript:;" class="btn btn-danger generar_seguimiento_general_tutor"><i class="fa fa-plus"></i> Procesar</a>
            <a href="javascript:;" id="cancel_seguimiento_general_tutor" class="btn btn-info"> Cancelar</a>
        </p>
    </div>
</div>
<div class="modal fade static" id="itemspanel_generar_seguimientovirtual" style="display: none;" >
    <div class="modal-header">
        <h4 id="paneltitle">Ingresar un rango de fechas :</h4>
    </div>
    <div class="modal-body panelbody">
        <div class="alert alert-danger incompletogenerar_seguimientovirtual" style="display: none">
            <i class="fa fa-info-sign"></i> Seleccione un rango de fechas para continuar...!!!
        </div>
        <div style="text-align: center">
            ASIGNATURA: <span id="id_nommateria"></span><br>
            <input placeholder="fecha desde" type="text" value="{{ fechainicio }}" name="fini_virtual" id="id_fini_virtual" style="width: 100px">
            <input placeholder="fecha hasta" type="text" value="{{ fechafin }}" name="ffin_virtual" id="id_ffin_virtual" style="width: 100px">
            <input type="hidden" id="idreporte_virtual" name="idreporte_virtual" value="0">
            <input type="hidden" id="idmateria_virtual" name="idmateria_virtual" value="0">
        </div><br>
    </div>
    <div class="modal-footer">
        <p style="text-align: center; margin-bottom: 0">
            <a href="javascript:;" class="btn btn-danger generar_seguimiento_virtual"><i class="fa fa-plus"></i> Procesar</a>
            <a href="javascript:;" id="cancel_seguimiento_virtual" class="btn btn-info"> Cancelar</a>
        </p>
    </div>
</div>

<div class="modal fade static" id="itemspanel_informe_autor" style="display: none;" >
    <div class="modal-header">
        <h4 id="paneltitle">Ingresar un rango de fechas :</h4>
    </div>
    <div class="modal-body panelbody">
        <div class="alert alert-danger incompletoseguimiento_informe_autor" style="display: none">
            <i class="fa fa-info-sign"></i> Seleccione un rango de fechas para continuar...!!!
        </div>
        <div style="text-align: center">
            <input placeholder="fecha desde" type="text" value="{{ fechainicio }}" name="fini" id="id_fini_autor" style="width: 100px">
            <input placeholder="fecha hasta" type="text" value="{{ fechafin }}" name="ffin" id="id_ffin_autor" style="width: 100px">
            <input type="hidden" value="0" name="idmateriaaautor" id="idmateriaaautor" >
        </div><br>
    </div>
    <div class="modal-footer">
        <p style="text-align: center; margin-bottom: 0">
            <a href="javascript:;" class="btn btn-danger generar_informe_autor"><i class="fa fa-plus"></i> Procesar</a>
            <a href="javascript:;" id="cancel_informe_autor" class="btn btn-info"> Cancelar</a>
        </p>
    </div>
</div>


<div class="modal fade static" id="itemspanel_rubrica" style="display: none;">
    <div class="modal-header">
        <h3 class="paneltitle">Mostrar Rúbricas</h3>
    </div>
    <div class="modal-body panelbody_rubrica">
    </div>
    <div class="modal-footer">
        <table class="pull-right">
            <tr>
                <td><a href="javascript:;" class="btn btn-cerrar-rubrica btn-info">Cerrar</a></td>
            </tr>
        </table>
    </div>
</div>
<div class="modal fade static" id="itemspanel_generar_seguimientovirtual1" style="display: none;" >
    <div class="modal-header">
        <h4 id="paneltitle">Ingresar un rango de fechas :</h4>
    </div>
    <div class="modal-body panelbody">
        <div class="alert alert-danger incompletogenerar_seguimientovirtual1" style="display: none">
            <i class="fa fa-info-sign"></i> Seleccione un rango de fechas para continuar...!!!
        </div>
        <div style="text-align: center">
            PROFESOR: <span id="id_nommateria"></span><br>
            <input placeholder="fecha desde" type="text" value="{{ fechainicio }}" name="fini_virtual1" id="id_fini_virtual1" style="width: 100px">
            <input placeholder="fecha hasta" type="text" value="{{ fechafin }}" name="ffin_virtual1" id="id_ffin_virtual1" style="width: 100px">
            <input type="hidden" id="idreporte_virtual1" name="idreporte_virtual1" value="0">
            <input type="hidden" id="idmateria_virtual1" name="idmateria_virtual1" value="0">
        </div><br>
    </div>
    <div class="modal-footer">
        <p style="text-align: center; margin-bottom: 0">
            <a href="javascript:;" class="btn btn-danger generar_seguimiento_virtual1"><i class="fa fa-plus"></i> Procesar</a>
            <a href="javascript:;" id="cancel_seguimiento_virtual1" class="btn btn-info"> Cancelar</a>
        </p>
    </div>
</div>
</div>
    <div class="modal fade static" id="verasesoramientossee" style="display: none;">
        <div class="modal-header">
            <h4 id="paneltitle">Solicitudes Asesoramiento de Servicios de Estudios Estadísticos</h4>
        </div>
        <div class="modal-body" id="body-verasesoramientosee">
        </div>
        <div class="modal-footer">
            <a href="javascript:;" id="cerrarverasesoramientossee" class="btn btn-default"><i class="fa fa-close"></i> Cerrar</a>
        </div>
    </div>
    <div class="modal fade static" id="itemspanel_practicas" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Detalle prácticas</h3>
        </div>
        <div class="modal-body panelbody_practicas" style="overflow: scroll;">
        </div>
        <div class="modal-footer">
            <table class="pull-right">
                <tr>
                    <td><a href="javascript:;" class="btn btn-cerrar-practicas btn-info">Cerrar</a></td>
                </tr>
            </table>
        </div>
    </div>
{% endblock %}
