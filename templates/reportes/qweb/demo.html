<!DOCTYPE HTML>
<html>
    <head>
        <title> Curso CSS</title>
        <style>
            body{
                margin: 0;
                padding: 0;
                /*background:url("https://sga.unemi.edu.ecmedia/reportes/encabezados_pies/hoja_membretada.png") repeat-x; background-size:100% 100%;*/
            }
            table, tr, td, th, tbody, thead, tfoot {
                page-break-inside: avoid !important;
            }

            .watermark {
                position: absolute;
                opacity:0.2;
                font-size:100px;
                width:50%;
                text-align:center;
                z-index:99;
                border: 2px solid black;
                /*-webkit-transform: rotate(-30deg);*/
            }

            /*.page{
                padding: 1.04cm 1.54cm 1.04cm 1.54cm;
                width: 21cm;
                min-height: 29.7cm;
                height: 29.7cm;
            }*/

        </style>
        <script>
            function subst() {
                var vars = {};
                var x = document.location.search.substring(1).split('&');
                for (var i in x) {
                    var z = x[i].split('=', 2);
                    vars[z[0]] = unescape(z[1]);
                }
                var x = ['frompage', 'topage', 'page', 'webpage', 'section', 'subsection', 'subsubsection'];
                for (var i in x) {
                    var y = document.getElementsByClassName(x[i]);
                    for (var j = 0; j < y.length; ++j) y[j].textContent = vars[x[i]];

                    /*if (vars['page'] == 1) { // If page is 1, set FakeHeaders display to none as don't want to show
                    // the header first page of PDF
                        document.getElementById("FakeHeaders").style.display = 'none';
                    }*/
                }


    // HERE IS THE TRICK TO PLACE WATERMARK
    // HERE BODY ELEMENT IS DIFFERENT FOR EVERY PAGE OF PDF
                if (!document.body.classList.contains('imgActive')) { // CHECK IS IMAGE ALREADY ADDED
                    document.body.classList.add('imgActive');
                    var body = document.getElementsByTagName("body")[0];
                    var img = document.createElement("img");

                    img.src = "https://sga.unemi.edu.ec/media/reportes/encabezados_pies/hoja_membretada.png";
                    img.style.opacity = 0.5;
                    img.style.marginTop = '0px';
                    img.style.marginLeft = '0px';
    // IF NOT ADDED AN IMAGE THEN ADD IT , TO DISPLAY IT AS WATERMARL
                    body.appendChild(img);
                }
            }
            // END

        </script>

    </head>
<body style="" onload="subst();">

        <p>Hola mundo!! Hola mundo!! Hola mundo!! Hola mundo!! Hola mundo!! Hola mundo!! Hola mundo!! Hola mundo!! Hola mundo!! Hola mundo!! Hola mundo!! Hola mundo!! Hola mundo!! Hola mundo!! Hola mundo!! Hola mundo!! Hola mundo!! Hola mundo!! Hola mundo!! Hola mundo!! Hola mundo!! Hola mundo!! Hola mundo!! Hola mundo!! Hola mundo!! Hola mundo!! Hola mundo!! </p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <table>
            <tbody>
            <tr><th>Name</th><th>Value</th></tr>
            <tr><td>url</td><td>stackoverflow.com</td></tr>
            <tr><td>ip</td><td>123.123.123.123</td></tr>
            </tbody>
        </table>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>
        <p>Hola mundo!!</p>

    </body>
</html>
