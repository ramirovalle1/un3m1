{% extends "ajaxformbs.html" %}
{% load sga_extras %}
{% block heading %}

    <script type="text/javascript">
        var itemsblib = 1;
        var lista_items1 = [];
        var obj = 0;
        var enf = 0;
        var rec = 0;
        var eva = 0;

        $(function () {
            $(".fancybox").fancybox();
            $(".gallerypdf").fancybox({
                openEffect: 'elastic',
                closeEffect: 'elastic',
                autoSize: true,
                type: 'iframe',
                iframe: {
                    preload: false // fixes issue with iframe and IE
                }
            });
            $("#id_objetivo").css({'text-transform': 'none'});
            $("#id_enfoque").css({'text-transform': 'none'});
            $("#id_enfoquedos").css({'text-transform': 'none'});
            $("#id_enfoquetres").css({'text-transform': 'none'});
            $("#id_recurso").css({'text-transform': 'none'});
            $("#id_evaluacion").css({'text-transform': 'none'});
            $("#id_subtema").css({'text-transform': 'none'});
            $("#id_subtema").addClass("validate[required]");
            $("#id_tema").addClass("validate[required]");
            $("#desplegar_obj").each(function () {
                $(this).trigger('click');
            });
            mostrar__componentes = function () {
                $(".mostrar_temasevaluacion").unbind();
                $(".mostrar_temasevaluacion").click(function () {
                    var codcomp = $(this).attr('codcomp');
                    bloqueointerface();
                    $.get("/pro_planificacion", {'action': 'consultacomponentestemas', 'codcomp': codcomp}, function (data) {
                        var dato;
                        if (data.result == 'ok') {
                            $("#itemsbodytemas").empty();
                            for (elemento in data.listadocomponentestemas) {
                                $("#itemsbodytemas").append("<tr>" +
                                    {#"<td style='text-align: center;'><input type='checkbox' class='seleccionados' idtema="+coditema+" ></td>" +#}
                                    "<td style='text-align: left'>SEMANA " + data.listadocomponentestemas[elemento][3] + " - TEMA " + data.listadocomponentestemas[elemento][2] + ": " + data.listadocomponentestemas[elemento][1] + "</td>" +
                                    "</tr>");
                            }
                            $.unblockUI();
                            $("#itemspanelevacomptemas").modal({backdrop: 'static', width: '610px'}).modal('show');

                        }
                    }, 'json');
                });
            };
            eliminar__componentes = function () {
                $(".eliminarcomponente").unbind();
                $(".eliminarcomponente").click(function () {
                    var codcomp = $(this).attr('codcomp');
                    var idcodsemanal = $(this).attr('idcodsemanal');
                    smoke.confirm("¿Está seguro de eliminar componente.", function (e) {
                        if (e) {
                            bloqueointerface();
                            $.ajax({
                                type: "POST",
                                url: "/pro_planificacion",
                                data: {'action': 'deletecomponente', 'id': codcomp},
                                error: function () {
                                    $.unblockUI();
                                    smoke.alert("Error al obtener los datos.");
                                },
                                success: function (data) {
                                    if (data.result == "ok") {
                                        location.reload();
                                        {#$('#componente'+idcodsemanal+'_'+codcomp).remove();#}
                                        {#$.unblockUI();#}
                                    } else {
                                        $.unblockUI();
                                        smoke.alert(data.mensaje);
                                    }
                                }
                            });
                        }
                    }, {
                        ok: "SI,ELIMINAR",
                        cancel: "NO,CANCELAR",
                        classname: "custom-class",
                        reverseButtons: true
                    });
                });
            };
            $(".eliminarcomponente").click(function () {
                var codcomp = $(this).attr('codcomp');
                var idcodsemanal = $(this).attr('idcodsemanal');
                smoke.confirm("¿Está seguro de eliminar componente.", function (e) {
                    if (e) {
                        bloqueointerface();
                        $.ajax({
                            type: "POST",
                            url: "/pro_planificacion",
                            data: {'action': 'deletecomponente', 'id': codcomp},
                            error: function () {
                                $.unblockUI();
                                smoke.alert("Error al obtener los datos.");
                            },
                            success: function (data) {
                                if (data.result == "ok") {
                                    location.reload();
                                    {#$('#componente'+idcodsemanal+'_'+codcomp).remove();#}
                                    {#$.unblockUI();#}
                                } else {
                                    $.unblockUI();
                                    smoke.alert(data.mensaje);
                                }
                            }
                        });
                    }
                }, {
                    ok: "SI,ELIMINAR",
                    cancel: "NO,CANCELAR",
                    classname: "custom-class",
                    reverseButtons: true
                });

            });

            $(".eliminarsilabosemanal").click(function () {
                var idcodigosemana = $(this).attr('idcodigosemanal');
                smoke.confirm("¿Está seguro de eliminar silabo semanal.", function (e) {
                    if (e) {
                        bloqueointerface();
                        $.ajax({
                            type: "POST",
                            url: "/pro_planificacion",
                            data: {'action': 'delsemanasilabo', 'id': idcodigosemana},
                            error: function () {
                                $.unblockUI();
                                smoke.alert("Error al obtener los datos.");
                            },
                            success: function (data) {
                                if (data.result == "ok") {
                                    location.reload();
                                    {#$.unblockUI();#}
                                } else {
                                    $.unblockUI();
                                    smoke.alert(data.mensaje);
                                }
                            }
                        });
                    }
                }, {
                    ok: "SI,ELIMINAR",
                    cancel: "NO,CANCELAR",
                    classname: "custom-class",
                    reverseButtons: true
                });

            });

            $(".eliminarsilabosemanaltodo").click(function () {
                var idcodigosilabo = $(this).attr('idcodigosilabo');
                smoke.confirm("¿Está seguro de eliminar todo el silabo semanal." +
                    "\n NOTA: Al dar clic en ELIMINAR, se eliminará todas las planificaciones semanales.", function (e) {
                    if (e) {
                        bloqueointerface();
                        $.ajax({
                            type: "POST",
                            url: "/pro_planificacion",
                            data: {'action': 'delsemanasilabotodo', 'id': idcodigosilabo},
                            error: function () {
                                $.unblockUI();
                                smoke.alert("Error al obtener los datos.");
                            },
                            success: function (data) {
                                if (data.result == "ok") {
                                    location.reload();
                                } else {
                                    $.unblockUI();
                                    smoke.alert(data.mensaje);
                                }
                            }
                        });
                    }
                }, {
                    ok: "SI,ELIMINAR",
                    cancel: "NO,CANCELAR",
                    classname: "custom-class",
                    reverseButtons: true
                });

            });

            $(".editar_objetivo").click(function () {
                var id = $(this).attr('ids');
                $.get("/pro_planificacion", {'action': 'editarobjetivoaprendizaje', 'ids': id}, function (data) {
                    var dato;
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $("#itemspanelo").modal({backdrop: 'static', width: '610px'}).modal('show');
                        $("#id_objetivo").val(data.objetivo);
                        $("#idso").val(data.ids);
                    }
                }, 'json');

            });
            $("#itemspanelo .btn-cerrar").click(function () {
                $("#itemspanelo").modal("hide");
            });
            $("#itemspanelo #adicionarobj").click(function () {
                var cont = $("#id_objetivo").val();
                if (cont.length > 0) {
                    var ids = $("#idso").val();
                    var formdata = new FormData($("#formobj")[0]);
                    try {
                        formdata.append("objetivo", JSON.stringify(cont));
                    } catch (err) {
                        console.log(err.message);
                    }
                    bloqueointerface();
                    $.ajax({
                        type: "POST",
                        url: "/pro_planificacion",
                        data: formdata,
                        success: function (data) {
                            if (data.result == 'ok') {
                                bloqueointerface();
                                $("#itemspanelo").modal("hide");
                                location.href = "/pro_planificacion?action=planclase&silaboid=" + data.ids;
                            } else {
                                $.unblockUI();
                                smoke.alert(data.mensaje);
                            }
                        },
                        error: function () {
                            $.unblockUI();
                            smoke.alert("Error al enviar los datos.");
                        },
                        dataType: "json",
                        cache: false,
                        contentType: false,
                        processData: false
                    });
                } else {
                    smoke.alert("Es obligatirio llenar la información Objetivo Apendizaje");
                }
            });
            $(".editar_enfoque").click(function () {
                var id = $(this).attr('ids');
                $.get("/pro_planificacion", {'action': 'editenfoquemetodologico', 'ids': id}, function (data) {
                    var dato;
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $("#itemspanelenf").modal({backdrop: 'static', width: '610px'}).modal('show');
                        $("#id_enfoque").val(data.enfoque);
                        $("#id_enfoquedos").val(data.enfoquedos);
                        $("#id_enfoquetres").val(data.enfoquetres);
                        $("#idse").val(data.ids);
                    }
                }, 'json');

            });
            $("#itemspanelenf .btn-cerrar").click(function () {
                $("#itemspanelenf").modal("hide");
            });
            $("#itemspanelenf #adicionarenf").click(function () {
                var cont = $("#id_enfoque").val();
                var idenfoquedos = $("#id_enfoquedos").val();
                var idenfoquetres = $("#id_enfoquetres").val();
                if (cont.length > 0) {
                    var ids = $("#idse").val();
                    var formdata = new FormData($("#formenf")[0]);
                    try {
                        formdata.append("enfoque", JSON.stringify(cont));
                        formdata.append("enfoquedos", JSON.stringify(idenfoquedos));
                        formdata.append("enfoquetres", JSON.stringify(idenfoquetres));
                    } catch (err) {
                        console.log(err.message);
                    }
                    bloqueointerface();
                    $.ajax({
                        type: "POST",
                        url: "/pro_planificacion",
                        data: formdata,
                        success: function (data) {
                            if (data.result == 'ok') {
                                bloqueointerface();
                                $("#itemspanelenf").modal("hide");
                                location.href = "/pro_planificacion?action=planclase&silaboid=" + data.ids;
                            } else {
                                $.unblockUI();
                                smoke.alert(data.mensaje);
                            }
                        },
                        error: function () {
                            $.unblockUI();
                            smoke.alert("Error al enviar los datos.");
                        },
                        dataType: "json",
                        cache: false,
                        contentType: false,
                        processData: false
                    });
                } else {
                    smoke.alert("Es obligatirio llenar la información Enfoque Metodológico");
                }
            });
            $(".editar_recurso").click(function () {
                var id = $(this).attr('ids');
                $.get("/pro_planificacion", {'action': 'editrecursodidactico', 'ids': id}, function (data) {
                    var dato;
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $("#itemspanelrec").modal({backdrop: 'static', width: '610px'}).modal('show');
                        $("#id_recurso").val(data.recurso);
                        $("#idsr").val(data.ids);
                    }
                }, 'json');
            });
            $("#itemspanelrec .btn-cerrar").click(function () {
                $("#itemspanelrec").modal("hide");
            });
            $("#itemspanelrec #adicionarrec").click(function () {
                var cont = $("#id_recurso").val();
                if (cont.length > 0) {
                    var ids = $("#idsr").val();
                    var formdata = new FormData($("#formrec")[0]);
                    try {
                        formdata.append("recurso", JSON.stringify(cont));
                    } catch (err) {
                        console.log(err.message);
                    }
                    bloqueointerface();
                    $.ajax({
                        type: "POST",
                        url: "/pro_planificacion",
                        data: formdata,
                        success: function (data) {
                            if (data.result == 'ok') {
                                bloqueointerface();
                                $("#itemspanelrec").modal("hide");
                                location.href = "/pro_planificacion?action=planclase&silaboid=" + data.ids;
                            } else {
                                $.unblockUI();
                                smoke.alert(data.mensaje);
                            }
                        },
                        error: function () {
                            $.unblockUI();
                            smoke.alert("Error al enviar los datos.");
                        },
                        dataType: "json",
                        cache: false,
                        contentType: false,
                        processData: false
                    });
                } else {
                    smoke.alert("Es obligatirio llenar la información Recursos Didácticos");
                }
            });

            $(".editar_evaluacion").click(function () {
                var id = $(this).attr('ids');

                $.get("/pro_planificacion", {'action': 'editevaluacion', 'ids': id}, function (data) {
                    var dato;
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $("#itemspaneleva").modal({backdrop: 'static', width: '610px'}).modal('show');
                        $("#id_evaluacion").val(data.evaluacion);
                        $("#idsv").val(data.ids);
                    }
                }, 'json');

            });
            $("#itemspaneleva .btn-cerrar").click(function () {
                $("#itemspaneleva").modal("hide");
            });
            $("#itemspaneleva #adicionareva").click(function () {
                var cont = $("#id_evaluacion").val();
                if (cont.length > 0) {
                    var ids = $("#idsv").val();
                    var formdata = new FormData($("#formeva")[0]);
                    try {
                        formdata.append("evaluacion", JSON.stringify(cont));
                    } catch (err) {
                        console.log(err.message);
                    }
                    bloqueointerface();
                    $.ajax({
                        type: "POST",
                        url: "/pro_planificacion",
                        data: formdata,
                        success: function (data) {
                            if (data.result == 'ok') {
                                bloqueointerface();
                                $("#itemspaneleva").modal("hide");
                                location.href = "/pro_planificacion?action=planclase&silaboid=" + data.ids;
                            } else {
                                $.unblockUI();
                                smoke.alert(data.mensaje);
                            }
                        },
                        error: function () {
                            $.unblockUI();
                            smoke.alert("Error al enviar los datos.");
                        },
                        dataType: "json",
                        cache: false,
                        contentType: false,
                        processData: false
                    });
                } else {
                    smoke.alert("Es obligatirio llenar la información Evaluación");
                }
            });
            $("#id_componente").change(function () {
                var nomcomponente = $(this).attr('nomcomponente');
                $("#tipocomponente").html($("option:selected", this).attr('nomcomponente'))
                var idactividad = $("#id_componente").val()
                var codsilabo = $("#codsilabo").val()
                bloqueointerface();
                $.get("/pro_planificacion", {'action': 'consultacomponentesactividadestemas', 'idactividad': idactividad, 'codsilabo': codsilabo}, function (data) {
                    var dato;
                    if (data.result == 'ok') {
                        {#alert(data.listadocomponentestemas)#}
                        $.unblockUI();
                        $("#itemsbody").empty();
                        $('.recorretemas').each(function () {
                            var coditema = $(this).attr('codtema');
                            var nomtema = $(this).attr('nomtema');
                            var nombresemana = $(this).attr('nombresemana');
                            $("#itemsbody").append("<tr id='filatema" + coditema + "' >" +
                                "<td style='text-align: center;' id='filatd" + coditema + "'><input type='checkbox' class='seleccionados' idtema=" + coditema + " ></td>" +
                                "<td style='text-align: left'>SEMANA " + nombresemana + ": " + nomtema + "</td>" +
                                "</tr>");
                        });
                        if (data.listadocomponentestemas != '') {
                            for (elemento in data.listadocomponentestemas) {
                                $("#filatd" + data.listadocomponentestemas[elemento]).html('');
                            }
                        }
                    }
                }, 'json');
            });
            $(".adicionar_evaluacioncomp").click(function () {
                $('#id_componente').empty().append('<option value="">---------</option>').val(0).trigger("change");
                var id = $(this).attr('ids');
                $("#id_silsemana").val(id);
                $("#tipocomponente").html('');
                bloqueointerface();
                $.get("/pro_planificacion", {'action': 'consultacomponentes', 'idsem': id}, function (data) {
                    var dato;
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $("#itemspanelevacomp").modal({backdrop: 'static', width: '610px'}).modal('show');
                        for (elemento in data.listadocomponentes) {
                            $('#id_componente').append('<option nomcomponente="' + data.listadocomponentes[elemento][2] + '" value="' + data.listadocomponentes[elemento][0] + '">' + data.listadocomponentes[elemento][1] + '</option>');
                        }
                        $("#itemsbody").empty();
                    }
                }, 'json');

            });
            $("#itemspanelevacomp #adicionarevacomp").click(function () {
                var id_silsemana = $("#id_silsemana").val();
                var id_componente = $("#id_componente").val();
                var codsilabo = $("#codsilabo").val()
                bloqueointerface();
                if (id_componente == 0) {
                    $.unblockUI();
                    smoke.alert("Favor seleccione componente.");
                    return false;
                }
                var listadotemas = '';
                $('.seleccionados').each(function () {
                    var idtema = $(this).attr('idtema');
                    if ($(this).is(":checked")) {
                        listadotemas += idtema + ",";
                    }
                });
                if (listadotemas == '') {
                    $.unblockUI();
                    smoke.alert('Favor seleccionar temas');
                    return false;
                }
                listadotemas = listadotemas.substring(0, listadotemas.length - 1);
                $.ajax({
                    type: "POST",
                    url: "/pro_planificacion",
                    data: {'action': 'addcomponente', 'id_silsemana': id_silsemana, 'id_componente': id_componente, 'listadotemas': listadotemas, 'codsilabo': codsilabo},
                    error: function () {
                        $.unblockUI();
                        smoke.alert("Error al obtener los datos.");
                    },
                    success: function (data) {
                        if (data.result == "ok") {
                            location.reload();
                            {#$("#itemspanelevacomp").modal("hide");#}
                            {#$("#itemsbodycomponente"+data.idsilabo).append("<tr id='componente"+data.idsilabo+"_"+data.evaluacionaprendizaje+"' >" +#}
                            {#    "<td >"+data.nomcomponente+"</td>" +#}
                            {#    "<td >"+data.nomactividad+"</td>" +#}
                            {#    "<td ><a class='btn btn-warning btn-mini mostrar_temasevaluacion' idcodsemanal="+data.idsilabo+" codcomp="+data.evaluacionaprendizaje+"><i class='fa fa-list'></i></a></td>" +#}
                            {#    "<td ><a class='btn btn-danger btn-mini eliminarcomponente' idcodsemanal="+data.idsilabo+" codcomp="+data.evaluacionaprendizaje+"><strong>X</strong></a></td>" +#}
                            {#    "</tr>");#}
                            {#eliminar__componentes();#}
                            {#mostrar__componentes();#}
                            {#$.unblockUI();#}
                        } else {
                            $.unblockUI();
                            smoke.alert(data.mensaje);
                        }
                    }
                });


            });
            $("#itemspanelevacomp .btn-cerrarcomp").click(function () {
                $("#itemspanelevacomp").modal("hide");
            });
            $(".mostrar_temasevaluacion").click(function () {
                var codcomp = $(this).attr('codcomp');
                bloqueointerface();
                $.get("/pro_planificacion", {'action': 'consultacomponentestemas', 'codcomp': codcomp}, function (data) {
                    var dato;
                    if (data.result == 'ok') {
                        $("#itemsbodytemas").empty();
                        for (elemento in data.listadocomponentestemas) {
                            $("#itemsbodytemas").append("<tr>" +
                                {#"<td style='text-align: center;'><input type='checkbox' class='seleccionados' idtema="+coditema+" ></td>" +#}
                                "<td style='text-align: left'>SEMANA " + data.listadocomponentestemas[elemento][3] + " - TEMA " + data.listadocomponentestemas[elemento][2] + ": " + data.listadocomponentestemas[elemento][1] + "</td>" +
                                "</tr>");
                        }
                        $.unblockUI();
                        $("#itemspanelevacomptemas").modal({backdrop: 'static', width: '610px'}).modal('show');

                    }
                }, 'json');

            });
            $("#itemspanelevacomptemas .btn-cerrarcomptemas").click(function () {
                $("#itemspanelevacomptemas").modal("hide");
            });
            $("#itemspanelduplicar_silabo .btn-cerrar").click(function () {
                $("#itemspanelduplicar_silabo").modal("hide");
            });

            $(".duplicar_silabo").click(function () {
                var id = $(this).attr('ids');
                bloqueointerface();
                $.get("/pro_planificacion", {'action': 'duplicar_silabovdos', 'ids': id}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".panelbody").html(data.data);
                        $("#itemspanelduplicar_silabo").modal({backdrop: 'static', width: '610px'}).modal('show');
                    }
                }, 'json');

            });

            $(".duplicar_silabo_carrera").click(function () {
                var id = $(this).attr('ids');
                bloqueointerface();
                $.get("/pro_planificacion", {'action': 'duplicar_silabo_carreravdos', 'ids': id}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".panelbody").html(data.data);
                        $("#itemspanelduplicar_silabocarrera").modal({backdrop: 'static', width: '610px'}).modal('show');
                    }
                }, 'json');

            });

            $("#itemspanelduplicar_silabocarrera .btn-cerrar").click(function () {
                $("#itemspanelduplicar_silabocarrera").modal("hide");
            });

            $(".duplicar_silabo_otro_docente").click(function () {
                var id = $(this).attr('ids');
                bloqueointerface();
                $.get("/pro_planificacion", {'action': 'duplicar_silabo_otro_docentevdos', 'ids': id}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".panelbody").html(data.data);
                        $("#itemspanelduplicar_silabo").modal({backdrop: 'static', width: '700px'}).modal('show');
                    }
                }, 'json');

            });
            $("#itemspaneldetalle_temas_subtemas .btn-cerrar").click(function () {
                $("#itemspaneldetalle_temas_subtemas").modal("hide");
            });
            $(".detalle_tst_registrar").click(function () {
                var id = $(this).attr('ids');
                $.get("/pro_planificacion", {'action': 'detalle_temasxplanificar', 'ids': id}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".panelbody").html(data.data);
                        $("#itemspaneldetalle_temas_subtemas").modal({backdrop: 'static', width: '1000px'}).modal('show');
                    }
                }, 'json');
            });
            $("#itemspanelplanificacionsalida .btn-cerrar").click(function () {
                $("#itemspanelplanificacionsalida").modal("hide");
            });
            $(".addplanificacionsalida").click(function () {
                var id = $(this).attr('ids');
                $.unblockUI();
                $("#itemspanelplanificacionsalida").modal({backdrop: 'static', width: '610px'}).modal('show');
                $("#ids").val(id);
            });
            $("#adicionarplanificacionsalida").click(function () {
                var cont = $("#contenido").val();
                if (cont.length > 0) {
                    var ids = $("#ids").val();
                    $.ajax({
                        type: "POST",
                        url: "/pro_planificacion",
                        data: {'action': 'addplanificacion_salida', 'ids': ids, 'cont': cont},
                        success: function (data) {
                            if (data.result == 'ok') {
                                $.unblockUI();
                                bloqueointerface();
                                $("#itemspanelplanificacionsalida").modal("hide");
                                location.href = "/pro_planificacion?action=planclase&silaboid=" + data.ids;
                            } else {
                                $.unblockUI();
                                smoke.alert(data.mensaje);
                            }
                        }, error: function () {
                            $.unblockUI();
                            control.val(0).trigger("change");
                            smoke.alert("Error de conexion.");
                        },
                        dataType: "json"
                    });
                } else {
                    smoke.alert("Es obligatirio llenar la información de descricripcion de la salida");
                }
            });
            $("#itemspaneleditplanificacionsalida .btn-cerrar").click(function () {
                $("#itemspaneleditplanificacionsalida").modal("hide");
            });
            $(".editplanificacionsemanalsalida").click(function () {
                var id = $(this).attr('ids');
                $.unblockUI();
                $.get("/pro_planificacion", {'action': 'editplanificacion_salida', 'ids': id}, function (data) {
                    if (data.result == 'ok') {
                        $("#itemspaneleditplanificacionsalida").modal({backdrop: 'static', width: '610px'}).modal('show');
                        $("#id_contenido").val(data.descripcion);
                        $("#ids").val(id);
                    }
                }, 'json');
            });
            $("#editplanificacionsalida").click(function () {
                var cont = $("#id_contenido").val();
                if (cont.length > 0) {
                    var id = $("#ids").val();
                    $.ajax({
                        type: "POST",
                        url: "/pro_planificacion",
                        data: {'action': 'editplanificacion_salida', 'ids': id, 'cont': cont},
                        success: function (data) {
                            if (data.result == 'ok') {
                                $.unblockUI();
                                bloqueointerface();
                                $("#itemspanelplanificacionsalida").modal("hide");
                                location.href = "/pro_planificacion?action=planclase&silaboid=" + data.ids;
                            } else {
                                $.unblockUI();
                                smoke.alert(data.mensaje);
                            }
                        }, error: function () {
                            $.unblockUI();
                            control.val(0).trigger("change");
                            smoke.alert("Error de conexion.");
                        },
                        dataType: "json"
                    });
                } else {
                    smoke.alert("Es obligatirio llenar la información de descricripcion de la salida");
                }
            });
            $("#id_tema").change(function () {
                var id = $(this).val();
                if (id.length > 0) {
                    $("#id_subtema").prop("disabled", false);
                } else {
                    $("#id_subtema").prop("disabled", true);
                }
                {#                alert(id);#}
            });
            $("#itemspaneladicionarsubtemas .btn-cerrar").click(function () {
                $("#itemspaneladicionarsubtemas").modal("hide");
            });
            $(".adicionarsubtemas").click(function () {
                var id = $(this).attr('ids');
                $.unblockUI();
                $.get("/pro_planificacion", {'action': 'adicionar_subtemas', 'ids': id}, function (data) {
                    if (data.results) {
                        $('#id_tema').empty().append('<option value="">---------</option>').val(0).trigger("change");
                        for (elemento in data.listatema) {
                            $('#id_tema').append('<option value="' + data.listatema[elemento][0] + '">' + data.listatema[elemento][1] + '</option>');
                        }
                        $("#itemspaneladicionarsubtemas").modal({backdrop: 'static', width: '610px'}).modal('show');
                        $("#ids").val(id);
                        $(".elementosubtema").remove();
                        for (elemento in data.lista) {
                            $("#contenidosubtemas").append('<tr class="elementosubtema"  id="fila_' + itemsblib + '">' +
                                '<td style="text-align: center ; display:none" class="idtema">' + data.lista[elemento][0] + '</td>' +
                                '<td width="45%" style="text-align: left;" class="tema">' + data.lista[elemento][1] + '</td>' +
                                '<td width="45%" style="text-align: left;" class="subtema">' + data.lista[elemento][2] + '</td>' +
                                '<td style="text-align:center;" width="5%"><a class="btn btn-mini btn-danger tu eliminarsubtema" title="Eliminar"><i class="fa fa-trash"></i> Eminiar</a></td>' +
                                '</tr>');
                            itemsblib += 1;
                            actualizar_lista_subtemas();
                            eliminar__subtemas();
                        }
                    }
                }, 'json');
            });
            $(".addsubtema").click(function () {
                var idt = $("#id_tema").val();
                var tema = $("#id_tema option:selected").text();
                var subtema = $("#id_subtema").val();
                if (subtema.length > 0) {
                    if (leer_lista_subtemas(subtema) == 0) {
                        $("#contenidosubtemas").append('<tr class="elementosubtema"  id="fila_' + itemsblib + '">' +
                            '<td style="text-align: center ; display:none" class="idtema">' + idt + '</td>' +
                            '<td width="45%" style="text-align: left;" class="tema">' + tema + '</td>' +
                            '<td width="45%" style="text-align: left;" class="subtema">' + subtema + '</td>' +
                            '<td style="text-align:center;" width="5%"><a class="btn btn-mini btn-danger tu eliminarsubtema" title="Eliminar"><i class="fa fa-trash"></i> Eminiar</a></td>' +
                            '</tr>');
                        itemsblib += 1;
                        actualizar_lista_subtemas();
                        eliminar__subtemas();
                        $("#adicionarsubtema").prop("disabled", false);
                    } else {
                        smoke.alert("El subtema ya se encuentra registrado");
                    }
                    document.getElementById('id_subtema').value = '';
                }
            });
            actualizar_lista_subtemas = function () {
                lista_items1 = [];
                $(".elementosubtema").each(function () {
                    var item = {
                        idtema: $(this).find(".idtema").html(),
                        tema: $(this).find(".tema").html(),
                        subtema: $(this).find(".subtema").html()
                    };
                    lista_items1.push(item);
                });
            };
            eliminar__subtemas = function () {
                $(".eliminarsubtema").unbind();
                $(".eliminarsubtema").click(function () {
                    var padre = $(this).parent().parent();
                    padre.remove();
                    actualizar_lista_subtemas();
                });
            };
            $(".btn-adicionarsubtema").click(function () {
                var id = $("#ids").val();
                if (lista_items1.length > 0) {
                    $.ajax({
                        type: "POST",
                        url: "/pro_planificacion",
                        data: {'action': 'addsubtemasadicional', 'ids': id, 'lista': JSON.stringify(lista_items1)},
                        success: function (data) {
                            if (data.result == 'ok') {
                                $.unblockUI();
                                bloqueointerface();
                                $("#itemspaneladicionarsubtemas").modal("hide");
                                location.href = "/pro_planificacion?action=planclase&silaboid=" + data.ids;
                            } else {
                                $.unblockUI();
                                smoke.alert(data.mensaje);
                            }
                        }, error: function () {
                            $.unblockUI();
                            control.val(0).trigger("change");
                            smoke.alert("Error de conexion.");
                        },
                        dataType: "json"
                    });
                } else {
                    $("#itemspaneladicionarsubtemas").modal("hide");
                }
            });
            $("#itemspanelimportar_silabo_periodo .btn-cerrar").click(function () {
                $("#itemspanelimportar_silabo_periodo").modal("hide");
            });
            $(".duplicar_silabo_periodo").click(function () {
                var ids = $(this).attr('ids');
                var semana = $(this).attr('semana');
                var numsemana = $(this).attr('numsemana');
                var fini = $(this).attr('fini');
                var ffin = $(this).attr('ffin');
                $.post("/pro_planificacion", {'action': 'duplicar_silabo_otro_periodo', 'ids': ids, 'semana': semana, 'numsemana': numsemana, 'fini': fini, 'ffin': ffin}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".panelbody").html(data.data);
                        $("#itemspanelimportar_silabo_periodo").modal({backdrop: 'static', width: '750px'}).modal('show');
                    }
                }, 'json');
            });

            $("#desplegar_obj").each(function () {
                obj = desplegar(1, obj, 'desplegar_obj');
            });
            $("#desplegar_enf").each(function () {
                enf = desplegar(2, enf, 'desplegar_enf');
            });
            $("#desplegar_rec").each(function () {
                rec = desplegar(3, rec, 'desplegar_rec');
            });
            $("#desplegar_eva").each(function () {
                eva = desplegar(4, eva, 'desplegar_eva');
            });

            $("#desplegar_evaxcomp").each(function () {
                eva = desplegar(5, eva, 'desplegar_evaxcomp');
            });

            $("#desplegar_obj").click(function () {
                obj = desplegar(1, obj, 'desplegar_obj');
            });
            $("#desplegar_enf").click(function () {
                enf = desplegar(2, enf, 'desplegar_enf');
            });
            $("#desplegar_rec").click(function () {
                rec = desplegar(3, rec, 'desplegar_rec');
            });
            $("#desplegar_eva").click(function () {
                eva = desplegar(4, eva, 'desplegar_eva');
            });

            $("#desplegar_evaxcomp").click(function () {
                eva = desplegar(5, eva, 'desplegar_evaxcomp');
            });
            $(".editobjetivo").change(function () {
                var obj = $(this).val();
                var id = $(this).attr('ids');
                bloqueointerface();
                $.post("/pro_planificacion", {'action': 'editobjetivoacttema', 'id': id, 'obj': obj}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                    } else {
                        smoke.alert(data.mensaje);
                    }
                }, 'json');
            });
            $(".editenfoque").change(function () {
                var enf = $(this).val();
                var id = $(this).attr('ids');
                bloqueointerface();
                $.post("/pro_planificacion", {'action': 'editenfoqueact', 'id': id, 'enf': enf}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                    } else {
                        smoke.alert(data.mensaje);
                    }
                }, 'json');
            });
            $(".editenfoquedos").change(function () {
                var enf = $(this).val();
                var id = $(this).attr('ids');
                bloqueointerface();
                $.post("/pro_planificacion", {'action': 'editenfoqueactdos', 'id': id, 'enf': enf}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                    } else {
                        smoke.alert(data.mensaje);
                    }
                }, 'json');
            });
            $(".editenfoquetres").change(function () {
                var enf = $(this).val();
                var id = $(this).attr('ids');
                bloqueointerface();
                $.post("/pro_planificacion", {'action': 'editenfoqueacttres', 'id': id, 'enf': enf}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                    } else {
                        smoke.alert(data.mensaje);
                    }
                }, 'json');
            });
            $(".editrecurso").change(function () {
                var rec = $(this).val();
                var id = $(this).attr('ids');
                bloqueointerface();
                $.post("/pro_planificacion", {'action': 'editrecursoact', 'id': id, 'rec': rec}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                    } else {
                        smoke.alert(data.mensaje);
                    }
                }, 'json');
            });
            $(".editevaluacion").change(function () {
                var eval = $(this).val();
                var id = $(this).attr('ids');
                bloqueointerface();
                $.post("/pro_planificacion", {'action': 'editevaluacionact', 'id': id, 'eval': eval}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                    } else {
                        smoke.alert(data.mensaje);
                    }
                }, 'json');
            });
            $("#itemspanellink .btn-cerrar").click(function () {
                $("#itemspanellink").modal("hide");
            });
            $(".editrecursolink").click(function () {
                var id = $(this).attr('ids');
                $.post("/pro_planificacion", {'action': 'listarecursolink', 'id': id}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".panelbodylink").html(data.data);
                        $(".itemspanellink").modal({backdrop: 'static', width: '700px'}).modal('show');
                    }
                }, 'json');
            });
            $(".actualizar_horas").click(function () {
                bloqueointerface();
                $.post("/pro_planificacion", {'action': 'actualizar_horas', 'id': {{silabocab.id }}}, function (data) {
                    if (data.result == 'ok') {
                        bloqueointerface();
                        location.href = '/pro_planificacion?action=planclase&silaboid={{ silabocab.id|encrypt }}';
                        $.unblockUI();
                    } else {
                        smoke.alert("Error al actualizar las horas")
                    }
                }, 'json');
            });
        });

        function desplegar(id, aux, nombre) {
            if (aux == 0) {
                $(".collapse" + id).collapse('hide');
                $("#" + nombre).parent().find(".fa").removeClass("fa-chevron-up").addClass("fa-chevron-down");
                aux = 1;
            } else {
                $(".collapse" + id).collapse('show');
                $("#" + nombre).parent().find(".fa").removeClass("fa-chevron-down").addClass("fa-chevron-up");
                aux = 0;
            }
            return aux;
        }

        function leer_lista_subtemas(subtema) {
            var ban = 0;
            for (i = 0; i < lista_items1.length; i++) {
                if (subtema == lista_items1[i]['subtema']) {
                    ban = 1;
                    return;
                } else {
                    ban = 0;
                }
            }
            return ban;
        }

        function vistaprevia(idproprag) {
            openwindow('POST', '/pro_planificacion', {action: 'silaboverdos_pdf', id: idproprag}, '_blank');
        }

        function formModal(id, text, action) {
            bloqueointerface();
            $.ajax({
                type: "GET",
                url: `{{ request.path }}`,
                data: {
                    'action': action,
                    'id': id,
                },
                success: function (data) {
                    $.unblockUI();
                    if (data.result === true) {
                        $('.panelbodymatricula').html(data.data);
                        $('#itemspanelmatricula .paneltitlematricula').html(text);
                        $("#itemspanelmatricula").modal({backdrop: 'static', width: '900'}).modal('show');
                        $('[data-toggle="popover"]').popover({
                            placement: 'top',
                            trigger: 'hover'
                        });
                        tooltips = function () {
                            $(".tl").tooltip({placement: "left"});
                            $(".tr").tooltip({placement: "right"});
                            $(".tu").tooltip({placement: "top"});
                            $(".tb").tooltip({placement: "bottom"});
                        };

                        tooltips();
                    } else {
                        smoke.alert(data.mensaje);
                    }
                },
                error: function () {
                    $.unblockUI();
                    smoke.alert("Error de conexión.");
                },
                dataType: "json"
            });
        }

    </script>
    <script src="/static/adicionalesjs/formquestion.js?0.24"></script>
{% endblock %}
{% block atras %}/pro_planificacion?action=silabo&materia={{ silabocab.materia.id|encrypt }}{% endblock %}
{% block canvas %}
    <div class='row-fluid'>
        <div class='span12'>
            <h4>{{ title }}</h4>
            <h4>Profesor: {{ profesor }}</h4>

            <h5>Asignatura: {{ silabocab.materia.asignaturamalla }} - {{ silabocab.materia.paralelo }}</h5>
            <input type="hidden" id="codsilabo" name="codsilabo" value="{{ silabocab.id }}">
        </div>
    </div>
    <div class='row-fluid'>
        <div class='span12'>
            {% if panalitico != 0 %}
                {% if totalporcentajecumplimiento >= 100 %}
                    {% if silabocab.codigoqr %}
                        <a class="btn btn-success btn-sm btn-hover gallerypdf" data-fancybox-type="iframe" href="https://sga.unemi.edu.ec/media/qrcode/silabodocente/qr_silabo_{{ silabocab.id|encrypt }}.pdf"><i class="fa fa-qrcode"></i> Imprimir Sílabo</a>
                    {% else %}
                        <a class="btn btn-warning" onclick="vistaprevia('{{ silabocab.id|encrypt }}')" href="javascript:;"><i class="fa fa-print"></i>&nbsp; Imprimir Sílabo</a>
                    {% endif %}
                    <a class="btn btn-warning bloqueo_pantalla" href="/pro_planificacion?action=trazabilidad&id={{ silabocab.id|encrypt }}&rutapage=planclase"><i class="fa fa-list"></i> Trazabilidad</a>
                {% endif %}
            {% else %}
                {% if not silabocab.codigoqr %}
                    {% if silabocab.tiene_materia_duplicadas %}
                        {% if silabocab.tiene_materia_fecha_igual %}
                            <a ids="{{ silabocab.id|encrypt }}" href="javascript:;" class='btn btn-info tu duplicar_silabo'><i class="fa fa-clone"></i> Duplicar Sílabo</a>
                        {% endif %}
                    {% else %}
                        {% if silabocab.tiene_silabo_otra_carrera and not silabocab.tiene_silabo_semanal %}
                            <a ids="{{ silabocab.id|encrypt }}" href="javascript:;" class='btn btn-success tu duplicar_silabo_carrera'><i class="fa fa-paste"></i> Duplicar Sílabo Otra Carrera</a>
                        {% endif %}
                    {% endif %}
                    {% if silabocab.silabos_para_duplicar and not silabocab.tiene_silabo_semanal %}
                        <a ids="{{ silabocab.id|encrypt }}" href="javascript:;" class='btn btn-inverse tu duplicar_silabo_otro_docente'><i class="fa fa-copy"></i> Duplicar sílabo de otro docente</a>
                    {% endif %}
                {% endif %}
            {% endif %}
        </div>
    </div>
    <div class="row-fluid">
        <div {% if totalporcentajecumplimiento >= 100 %} class="alert alert-success" {% else %} class="alert alert-error"{% endif %} id="mensajeevidencia" style="text-align: justify;font-size: 12px">
            {% if totalporcentajecumplimiento >= 100 %}
                <strong>* Los temas planificados corresponden al 100% del programa analítico.</strong>
                {% if not silabocab.codigoqr %}
                    <a class="btn btn-info" onclick="formModal('{{ silabocab.id|encrypt }}', 'PENDIENTES', 'listadopendientes')" href="javascript:"> <i class="fa fa-check"></i> Ver cumplimiento</a>
                {% endif %}
            {% else %}
                <strong>* Los temas planificados corresponden al {{ totalporcentajecumplimiento }}% del programa analítico. Tiene temas pendientes por planificar. El botón imprimir se habilitará cuando se registre toda la planificación.</strong> {% if totalporcentajecumplimiento > 80 %}( <u><a ids="{{ silabocab.id|encrypt }}" href="javascript:;" class="detalle_tst_registrar">Temas pendientes de planificar</a></u>){% endif %}
                <a class="btn btn-warning" onclick="formModal('{{ silabocab.id|encrypt }}', 'PENDIENTES', 'listadopendientes')" href="javascript:"> <i class="fa fa-bell  blinkimg" border=0></i> Ver pendientes</a>
            {% endif %}
        </div>
    </div>
    <div class='row-fluid'>
        <div class='span12'>
            <table class="table table-bordered">
                {#            <table cellpadding="0" border="1" cellspacing="0"  width="100%">#}
                <thead>
                <tr>
                    <th colspan="4">
                        ASIGNATURA: {{ silabocab.materia.asignatura.nombre }}
                    </th>
                    <th colspan="1" style="text-align: right">
                        {% if not silabocab.codigoqr %}
                            <a class="btn btn-danger btn-mini eliminarsilabosemanaltodo" idcodigosilabo="{{ silabocab.id|encrypt }}"><strong>Eliminar todo</strong></a>
                        {% endif %}
                    </th>
                </tr>
                <tr>
                    {#                    <th style="width: 70px;text-align: center;">Semana</th>#}
                    <th style="text-align: center;width: 200px;">Temas</th>
                    {#                    <th style="text-align: center;width: 100px;">Objetivo Aprendizaje<br><a class="btn btn-block" id="desplegar_obj"><span class="fa fa-chevron-up"></span> Desplegar todo</a></th>#}
                    <th style="text-align: center;width: 100px;">Enfoque Metodológico<br><a class="btn btn-block" id="desplegar_enf"><span class="fa fa-chevron-up"></span> Desplegar todo</a></th>
                    <th style="text-align: center;width: 100px;">Recursos Didácticos<br><a class="btn btn-block" id="desplegar_rec"><span class="fa fa-chevron-up"></span> Desplegar todo</a></th>
                    <th style="text-align: center;width: 200px;">Bibliografía</th>
                    <th style="text-align: center;width: 100px;">Eval. por Comp.<br><a class="btn btn-block" id="desplegar_evaxcomp"><span class="fa fa-chevron-up"></span> Desplegar todo</a></th>
                    {#                    <th style="text-align: center;width: 28px;">Acciones</th>#}
                </tr>
                </thead>
                <tbody>
                {% for fecha in fechas %}
                    {% with semanaadicional=silabocab|args:fecha.1|args:fecha.2|call:'semana_adicional' cronograma_silabo=silabocab|args:fecha.1|args:fecha.2|call:'cronograma_silabo' numero_semana=silabocab|args:fecha.1|args:fecha.2|call:'cronograma_silabo_n_semana' %}
                        <tr>
                            <td bgcolor="#d9edf7" colspan="6" height="30" style="vertical-align:middle;text-align: left;font-size: 16px;">
                                <div class='span9'>
                                    <strong>
                                        {% if semanaadicional %}
                                            {% for semana in  semanaadicional %}
                                                <span><strong class=" label label-warning">{{ semana.cronograma.obejetivosemanal }}</strong></span>
                                            {% endfor %}
                                        {% else %}
                                            {% if cronograma_silabo %}
                                                {% for crono in  cronograma_silabo %}
                                                    <span><strong class=" label label-warning">{{ crono.obejetivosemanal|upper }} | DESDE: {{ fecha.1|date:"Y-m-d" }} HASTA: {{ fecha.2|date:"Y-m-d" }}</strong></span>
                                                    {% if crono.examen %}
                                                        <span class="label label-default">EXAMEN</span>
                                                    {% endif %}
                                                {% endfor %}
                                            {% else %}
                                                Por favor comuníquese con GTA para verificar cronograma y fechas de la materia.<br>
                                            {% endif %}
                                        {% endif %}
                                        {% if fecha.9 > 0 %}
                                            <span class="label label-info tu" title="Horas Presenciales">Hrs-Pre:{{ fecha.7|floatformat:2 }}</span>
                                            <span class="label label-success tu" title="Horas Autónomas">Hrs-Aut:{{ fecha.8|floatformat:2 }}</span>
                                        {% endif %}
                                        {% if fecha.13 > 0 %}
                                            <span class="label label-default tu" title="Horas Práctica Experimental">Hrs-Ape:{{ fecha.13|floatformat:2 }}</span>
                                        {% endif %}
                                        {% if fecha.10.numero_mis_guiaspracticas > 0 %}
                                            <span class="label label-warning tu" title="Numero de practícas de semana">Num-Prac:{{ fecha.10.numero_mis_guiaspracticas }}</span>
                                        {% endif %}

                                        {#                                        SEMANA {% if numero_semana %}{% if numero_semana > 0 %}{{ numero_semana }}{% endif %}{% endif %}#}

                                    </strong>
                                </div>
                                {% if cronograma_silabo %}
                                    {% for crono in  cronograma_silabo %}
                                        {% if not crono.examen %}
                                            <div class='span3' style="text-align: right">
                                                {% if not fecha.9 %}
                                                    {% if not silabocab.codigoqr %}
                                                        <a class="btn btn-mini btn-success tu" href="/pro_planificacion?action=addsemanaplanificacion&idsilabo={{ silabocab.id|encrypt }}&semana={{ fecha.0|encrypt }}&numsemana={{ crono.semana|encrypt }}&fini={{ fecha.1|date:"Y-m-d" }}&ffin={{ fecha.2|date:"Y-m-d" }}" title="Adicionar"><span class="fa fa-plus"></span></a>
                                                        {#                                                        <a ids="{{ silabocab.id|encrypt }}"  semana="{{ fecha.0  }}" numsemana="{{ forloop.counter  }}" fini="{{ fecha.1|date:"Y-m-d"  }}" ffin="{{ fecha.2|date:"Y-m-d"  }}" href="javascript:;" class='btn btn-mini btn-form btn-info tu duplicar_silabo_periodo' title="Importar"><i class="fa fa-clone"></i></a>#}
                                                        <a ids="{{ silabocab.id|encrypt }}" semana="{{ fecha.0 }}" numsemana="{{ crono.semana }}" fini="{{ fecha.1|date:"Y-m-d" }}" ffin="{{ fecha.2|date:"Y-m-d" }}" href="javascript:;" class='btn btn-mini btn-form btn-info tu duplicar_silabo_periodo' title="Importar"><i class="fa fa-clone"></i></a>
                                                    {% endif %}
                                                {% else %}
                                                    {% if not silabocab.codigoqr %}
                                                        <a style="margin-top: 10px" class="btn btn-mini btn-inverse tu addplanificacionsalida" href="javascript:;" ids="{{ fecha.9|encrypt }}"><span class="fa fa-plus tu" title="Gira de clase"></span></a>
                                                        <a style="margin-top: 10px" class="btn btn-mini btn-info tu " href="/pro_planificacion?action=editsemanaplanificacion&ids={{ fecha.9|encrypt }}&fini={{ fecha.1|date:"Y-m-d" }}&ffin={{ fecha.2|date:"Y-m-d" }}" title="Editar"><span class="fa fa-edit"></span></a>
                                                    {% endif %}
                                                    {% if pruede_modificar %}
                                                        {% with enuso=fecha.10|call:'puede_eliminar' %}
                                                            {% with tieneapro=silabocab|call:'tiene_aprobaciones' %}
                                                                {% if tieneapro %}
                                                                    {% with estadoaprobacion=silabocab|call:'estado_aprobacion' %}
                                                                        {% if estadoaprobacion %}
                                                                            {% if not estadoaprobacion.estadoaprobacion == aprobar %}
                                                                                <a style="margin-top: 10px" class="btn btn-mini btn-danger eliminacionmodal tu" href="javascript:;" nhref="/pro_planificacion?action=delsemanasilabo&ids={{ fecha.9|encrypt }}" title="Eliminar"><span class="fa fa-trash"></span></a>
                                                                            {% endif %}
                                                                        {% endif %}
                                                                    {% endwith %}
                                                                {% else %}
                                                                    {% if not silabocab.materia.cerrado %}
                                                                        {#                                                            <a style="margin-top: 10px" class="btn btn-mini btn-danger eliminacionmodal tu" href="javascript:;"  nhref="/pro_planificacion?action=delsemanasilabo&ids={{ fecha.9|encrypt }}" title="Eliminar"><span class="fa fa-trash">b</span></a>#}
                                                                        <a style="margin-top: 10px" class="btn btn-danger btn-mini eliminarsilabosemanal" idcodigosemanal="{{ fecha.9|encrypt }}"><strong>X</strong></a>
                                                                    {% endif %}
                                                                {% endif %}
                                                            {% endwith %}
                                                        {% endwith %}
                                                    {% endif %}
                                                {% endif %}
                                            </div>
                                        {% endif %}
                                    {% endfor %}
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <td width="500px" valign="top">
                                {% if fecha.9 > 0 %}
                                    {% with temasselec=fecha.10|call:'temas_seleccionados_planclase' enuso=fecha.10|call:'puede_eliminar' %}
                                        {% with unidades=fecha.10|call:'unidades_silabosemanal' %}
                                            {% for uni in unidades %}
                                                {% with temasselec=fecha.10|args:uni.temaunidadresultadoprogramaanalitico.unidadresultadoprogramaanalitico.id|call:'temas_silabosemanal' %}
                                                    <table cellpadding="0" border="0" cellspacing="0" FRAME="void" RULES="rows" width="100%">
                                                        <thead>
                                                        <tr>
                                                            <td colspan="2" style="text-align: justify;">
                                                                <b>UNIDAD {{ uni.temaunidadresultadoprogramaanalitico.unidadresultadoprogramaanalitico.orden }}: {{ uni.temaunidadresultadoprogramaanalitico.unidadresultadoprogramaanalitico.descripcion }}</b>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td style="text-align: center; width: 50%"><strong>TEMAS</strong></td>
                                                            <td style="width: 80px;text-align: center; width: 50%"><strong>OBJETIVOS</strong></td>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        {% for temassel in temasselec %}
                                                            <tr>
                                                                <td style="text-align: left;">
                                                                    <dt style="font-weight: normal;">
                                                                        <ul>
                                                                            <div class="recorretemas" nombresemana={{ temassel.silabosemanal.numsemana }} codtema="{{ temassel.id }}" nomtema="UNIDAD {{ uni.temaunidadresultadoprogramaanalitico.unidadresultadoprogramaanalitico.orden }} - TEMA {{ temassel.temaunidadresultadoprogramaanalitico.orden }}.- {{ temassel.temaunidadresultadoprogramaanalitico.descripcion }}"></div>
                                                                    <dt style="font-weight: normal;"><b>TEMA: {{ temassel.temaunidadresultadoprogramaanalitico.orden }}.-</b> {{ temassel.temaunidadresultadoprogramaanalitico.descripcion }}</dt>
                                                                    <ul>
                                                                        {% with subtemasselec=fecha.10|args:temassel.temaunidadresultadoprogramaanalitico|call:'subtemas_silabosemanal' subtemasadicionales=fecha.10|args:temassel.id|call:'subtemas_adicionales' %}
                                                                            {% if subtemasselec %}
                                                                                {% for subtemassel in subtemasselec %}
                                                                                    <dt style="font-weight: normal;"><b>SUBTEMA: {{ subtemassel.subtemaunidadresultadoprogramaanalitico.orden }}.-</b> {{ subtemassel.subtemaunidadresultadoprogramaanalitico.descripcion }}</dt>
                                                                                {% endfor %}
                                                                            {% endif %}
                                                                            {% if subtemasadicionales %}
                                                                                {% for suba in subtemasadicionales %}
                                                                                    <dt style="font-weight: normal;"><b>SUBTEMA:</b> {{ suba }}</dt>
                                                                                {% endfor %}
                                                                            {% endif %}
                                                                        {% endwith %}
                                                                    </ul>
                                                                    </dt>
                                                                </td>
                                                                <td style="text-align: center; width: 250px">
                                                                    <textarea class="editobjetivo" ids="{{ temassel.id|encrypt }}" style="width: 200px;" rows="7" {% if silabocab.codigoqr %}disabled{% endif %}>{{ temassel.objetivoaprendizaje|default_if_none:"" }}</textarea>
                                                                </td>
                                                            </tr>
                                                        {% endfor %}
                                                        </tbody>
                                                    </table>
                                                {% endwith %}
                                            {% endfor %}
                                        {% endwith %}
                                        {#                                        </div>#}
                                        {% with planificacion_semanal_salida=fecha.10|call:'salidas_planificadas_semanales' %}
                                            {% if planificacion_semanal_salida %}
                                                {% for salida in  planificacion_semanal_salida %}
                                                    {% if pruede_modificar %}
                                                        <a ids="{{ salida.id|encrypt }}" href="javascript:;" class='editplanificacionsemanalsalida tu' title='Editar salida de clase'><i class="fa fa-edit"></i></a>
                                                        <a nhref="/pro_planificacion?action=delplanificacion_salida&ids={{ salida.id|encrypt }}" href="javascript:;" class='eliminacionmodal tu' title='Eliminar salida de clase'><i style="color: red" class="fa fa-trash"></i></a>
                                                    {% endif %}
                                                    {#                                                        {% endif %}#}
                                                    {#                                                    {% endwith %}#}
                                                    <span><strong style="width: 85%" class=" label label-inverse">{{ salida }}</strong></span><br>
                                                {% endfor %}
                                            {% endif %}
                                        {% endwith %}
                                    {% endwith %}
                                {% endif %}
                            </td>
                            <td width="100px" valign="top">
                                {% if fecha.9 > 0 %}
                                    {% if fecha.4 %}
                                        {% with tieneapro=silabocab|call:'tiene_aprobaciones' estadoaprobacion=silabocab|call:'estado_aprobacion' %}
                                            {% if not silabocab.codigoqr %}
                                                <a ids="{{ fecha.9|encrypt }}" href="javascript:;" class='tu editar_enfoque' title='Editar Enfoque Metodológico'><i class="fa fa-edit"></i></a>
                                            {% endif %}
                                            <div class="accordion" id="accordionef{{ fecha.9|encrypt }}">
                                                <div class="accordion-group">
                                                    <div class="accordion-heading">
                                                        <a data-toggle="collapse" data-parent="#collapseFour{{ fecha.9|encrypt }}" href="#collapseFour{{ fecha.9|encrypt }}"> <span class="fa fa-list"></span> Enfoque Metodológico</a>
                                                    </div>
                                                    <div id="collapseFour{{ fecha.9|encrypt }}" class="accordion-body collapse2 in">
                                                        <strong>Inicio</strong><br>
                                                        {{ fecha.4 }}<br>
                                                        <br><strong>Desarrollo</strong><br>
                                                        {{ fecha.11|default:"" }}<br>
                                                        <br><strong>Cierre</strong><br>
                                                        {{ fecha.12|default:"" }}
                                                    </div>
                                                </div>
                                            </div>
                                        {% endwith %}
                                    {% endif %}
                                {% endif %}
                            </td>
                            <td width="200px" valign="top">
                                {% if fecha.9 > 0 %}
                                    {% if not silabocab.codigoqr %}
                                        <a ids="{{ fecha.9|encrypt }}" href="javascript:;" class='tu editar_recurso' title='Editar Recursos Didácticos'><i class="fa fa-edit"></i></a>
                                    {% endif %}
                                    <div class="accordion" id="accordionre{{ fecha.9|encrypt }}">
                                        <div class="accordion-group">
                                            <div class="accordion-heading">
                                                <a data-toggle="collapse" data-parent="#collapseFive{{ fecha.9|encrypt }}" href="#collapseFive{{ fecha.9|encrypt }}"> <span class="fa fa-list"></span> Recursos Didácticos</a>
                                            </div>
                                            <div id="collapseFive{{ fecha.9|encrypt }}" class="accordion-body collapse3 in">
                                                <textarea class="editrecurso" ids="{{ fecha.9|encrypt }}" style="width: 180px" rows="7" {% if silabocab.codigoqr %}disabled{% endif %}>{{ fecha.5 }}</textarea>
                                            </div>
                                        </div>
                                    </div>
                                    {% if pruede_modificar %}
                                        {% if not silabocab.codigoqr %}
                                            <a ids="{{ fecha.9|encrypt }}" href="javascript:;" class='tu editrecursolink' title='Editar Recursos Didácticos Link'><i class="fa fa-edit"></i></a>
                                        {% endif %}
                                    {% endif %}
                                    <div class="accordion" id="accordionrelink{{ fecha.9|encrypt }}">
                                        <div class="accordion-group">
                                            <div class="accordion-heading">
                                                <a data-toggle="collapse" data-parent="#collapseSix{{ fecha.9|encrypt }}" href="#collapseSixe{{ fecha.9|encrypt }}"> <span class="fa fa-list"></span> Recursos didácticos(links)</a>
                                            </div>
                                            <div id="collapseSixe{{ fecha.9|encrypt }}" class="accordion-body collapse in">
                                                <table class='table table-bordered'>
                                                    <tbody>
                                                    {% for link in fecha.10.mis_recursos_didacticos_link %}
                                                        <tr>
                                                            <td width="10px">
                                                                {% if not silabocab.codigoqr %}
                                                                    <a class="btn btn-mini btn-default eliminacionmodal tu" href="javascript:;" nhref="/pro_planificacion?action=delrecursolink&ids={{ fecha.9|encrypt }}&id={{ link.id|encrypt }}"><i style="color: red" class="fa fa-trash"></i></a>
                                                                {% endif %}
                                                            </td>
                                                            <td style="text-align: justify; max-width: 100px">
                                                                <a href="{{ link.link }}" target="_blank"><span class="fa fa-link"></span> {{ link|linebreaksbr }}</a>
                                                            </td>
                                                        </tr>
                                                    {% endfor %}
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                {% endif %}
                            </td>

                            <td width="100px" valign="top">
                                {% if fecha.9 > 0 %}
                                    {% with bibliografias=fecha.10|call:'bibliografia_basica' bibcomplementaria=fecha.10|call:'bibliografia_complementaria' librosvirtuales=fecha.10|call:'bibliografia_virtual' listaarticulos=fecha.10|call:'listado_articulo' %}
                                        {% if  bibliografias or bibcomplementaria or librosvirtuales %}
                                            {% if not silabocab.codigoqr %}
                                                <a href="/pro_planificacion?action=editbibliografia&ids={{ fecha.9|encrypt }}" href="javascript:;" class='tu' title='Editar Bibliografía'><i class="fa fa-edit"></i></a>
                                            {% endif %}
                                            <div class="accordion" id="accordion{{ fecha.9|encrypt }}">
                                                <div class="accordion-group">
                                                    <div class="accordion-heading">
                                                        <a data-toggle="collapse" data-parent="#accordion{{ fecha.9|encrypt }}" href="#collapseOne{{ fecha.9|encrypt }}"><span class="fa fa-list"></span> Bibliografía Básica</a>
                                                    </div>
                                                    <div id="collapseOne{{ fecha.9|encrypt }}" class="accordion-body collapse in">
                                                        <table class='table table-striped table-bordered'>
                                                            <tbody>
                                                            {% for librosbasicos in bibliografias %}
                                                                <tr>
                                                                    <td>
                                                                        {% if not silabocab.codigoqr %}
                                                                            <a class="btn btn-mini btn-danger eliminacionmodal tu" href="javascript:;" nhref="/pro_planificacion?action=delbibliografiabasica&ids={{ fecha.9|encrypt }}&idb={{ librosbasicos.id|encrypt }}"><i class="fa fa-trash"></i></a>
                                                                        {% endif %}
                                                                    </td>
                                                                    <td>
                                                                        <span class="fa fa-book"></span> {{ librosbasicos.bibliografiaprogramaanaliticoasignatura.librokohaprogramaanaliticoasignatura }}
                                                                    </td>
                                                                </tr>
                                                            {% endfor %}
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="accordion" id="accordiont{{ fecha.9|encrypt }}">
                                                <div class="accordion-group">
                                                    <div class="accordion-heading">
                                                        <a data-toggle="collapse" data-parent="#accordiont{{ fecha.9|encrypt }}" href="#collapseTwo{{ fecha.9|encrypt }}"> <span class="fa fa-list"></span> Bibliografía Complementaria</a>
                                                    </div>
                                                    <div id="collapseTwo{{ fecha.9|encrypt }}" class="accordion-body collapse in">
                                                        <table class='table table-striped table-bordered'>
                                                            <tbody>
                                                            {% for libroscomplementaria in bibcomplementaria %}
                                                                <tr>
                                                                    <td>
                                                                        {% with tieneapro=silabocab|call:'tiene_aprobaciones' %}
                                                                            {% if pruede_modificar %}
                                                                                {% if tieneapro %}
                                                                                    {% with estadoaprobacion=silabocab|call:'estado_aprobacion' %}
                                                                                        {% if estadoaprobacion %}
                                                                                            {% if not estadoaprobacion.estadoaprobacion == aprobar %}
                                                                                                <a class="btn btn-mini btn-danger eliminacionmodal tu" href="javascript:;" nhref="/pro_planificacion?action=delbibliografiacomplementaria&ids={{ fecha.9|encrypt }}&idc={{ libroscomplementaria.id|encrypt }}"><i class="fa fa-trash"></i></a>
                                                                                            {% endif %}
                                                                                        {% endif %}
                                                                                    {% endwith %}
                                                                                {% else %}
                                                                                    <a class="btn btn-mini btn-danger eliminacionmodal tu" href="javascript:;" nhref="/pro_planificacion?action=delbibliografiacomplementaria&ids={{ fecha.9|encrypt }}&idc={{ libroscomplementaria.id|encrypt }}"><i class="fa fa-trash"></i></a>
                                                                                {% endif %}
                                                                            {% endif %}
                                                                        {% endwith %}
                                                                    </td>
                                                                    <td style="max-width: 150px;">
                                                                        <span class="fa fa-book"></span> {{ libroscomplementaria.librokohaprogramaanaliticoasignatura }}
                                                                    </td>
                                                                </tr>
                                                            {% endfor %}
                                                            {% for lisarticulo in listaarticulos %}
                                                                <tr>
                                                                    <td style="width: 15px">
                                                                        {% with tieneapro=silabocab|call:'tiene_aprobaciones' %}
                                                                            {% if pruede_modificar %}
                                                                                {% if tieneapro %}Enfoque inicio
                                                                                    {% with estadoaprobacion=silabocab|call:'estado_aprobacion' %}
                                                                                        {% if estadoaprobacion %}
                                                                                            {% if not estadoaprobacion.estadoaprobacion == aprobar %}
                                                                                                <a class="btn btn-mini btn-danger eliminacionmodal tu" href="javascript:;" nhref="/pro_planificacion?action=delarticulosilabo&ids={{ fecha.9|encrypt }}&idart={{ lisarticulo.id|encrypt }}"><i class="fa fa-trash"></i></a>
                                                                                            {% endif %}
                                                                                        {% endif %}
                                                                                    {% endwith %}
                                                                                {% else %}
                                                                                    <a class="btn btn-mini btn-danger eliminacionmodal tu" href="javascript:;" nhref="/pro_planificacion?action=delarticulosilabo&ids={{ fecha.9|encrypt }}&idart={{ lisarticulo.id|encrypt }}"><i class="fa fa-trash"></i></a>
                                                                                {% endif %}
                                                                            {% endif %}
                                                                        {% endwith %}
                                                                    </td>
                                                                    <td style="max-width: 100px;">
                                                                        <div style="text-align: justify">
                                                                            <span class="fa fa-book"></span> {{ lisarticulo.articulo.nombre|linebreaksbr }}
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                            {% endfor %}
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="accordion" id="accordiont{{ fecha.9|encrypt }}">
                                                <div class="accordion-group">
                                                    <div class="accordion-heading">
                                                        <a data-toggle="collapse" data-parent="#accordiont{{ fecha.9|encrypt }}" href="#collapseVirt{{ fecha.9|encrypt }}"> <span class="fa fa-list"></span> Bibliografía Virtual(cita APA)</a>
                                                    </div>
                                                    <div id="collapseVirt{{ fecha.9|encrypt }}" class="accordion-body collapse in">
                                                        <table class='table table-striped table-bordered'>
                                                            <tbody>
                                                            {% for bvirtual in librosvirtuales %}
                                                                <tr>
                                                                    <td style="width: 15px">
                                                                        {% with tieneapro=silabocab|call:'tiene_aprobaciones' %}
                                                                            {% if pruede_modificar %}
                                                                                {% if tieneapro %}
                                                                                    {% with estadoaprobacion=silabocab|call:'estado_aprobacion' %}
                                                                                        {% if estadoaprobacion %}
                                                                                            {% if not estadoaprobacion.estadoaprobacion == aprobar %}
                                                                                                <a class="btn btn-mini btn-danger eliminacionmodal tu" href="javascript:;" nhref="/pro_planificacion?action=delbibliografiavirtual&ids={{ fecha.9|encrypt }}&idv={{ bvirtual.id|encrypt }}"><i class="fa fa-trash"></i></a>
                                                                                            {% endif %}
                                                                                        {% endif %}
                                                                                    {% endwith %}
                                                                                {% else %}
                                                                                    <a class="btn btn-mini btn-danger eliminacionmodal tu" href="javascript:;" nhref="/pro_planificacion?action=delbibliografiavirtual&ids={{ fecha.9|encrypt }}&idv={{ bvirtual.id|encrypt }}"><i class="fa fa-trash"></i></a>
                                                                                {% endif %}
                                                                            {% endif %}
                                                                        {% endwith %}
                                                                    </td>
                                                                    <td style="max-width: 100px;">
                                                                        <span class="fa fa-book"></span> {{ bvirtual.bibliografia|linebreaksbr }}
                                                                    </td>
                                                                </tr>
                                                            {% endfor %}
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        {% endif %}
                                        {#                                        <a href="/pro_planificacion?action=adicionararticulo&ids={{ fecha.9|encrypt }}" href="javascript:;" class='tu' title='Adicionar artículo'><i class="fa fa-plus"></i></a>#}
                                        {#                                        <div class="accordion" id="accordiont{{ fecha.9|encrypt }}">#}
                                        {#                                            <div class="accordion-group">#}
                                        {#                                                <div class="accordion-heading">#}
                                        {#                                                    <a data-toggle="collapse" data-parent="#accordiont{{ fecha.9|encrypt }}" href="#collapseArt{{ fecha.9|encrypt }}"> <span class="fa fa-list"></span> Articulos</a>#}
                                        {#                                                </div>#}
                                        {#                                                <div id="collapseArt{{ fecha.9|encrypt }}" class="accordion-body collapse in">#}
                                        {#                                                    <table class='table table-striped table-bordered'>#}
                                        {#                                                        <tbody>#}
                                        {#                                                        {% for lisarticulo in listaarticulos %}#}
                                        {#                                                            <tr>#}
                                        {#                                                                <td style="width: 15px">#}
                                        {#                                                                    {% with tieneapro=silabocab|call:'tiene_aprobaciones' %}#}
                                        {#                                                                        {% if pruede_modificar %}#}
                                        {#                                                                            {% if tieneapro %}Enfoque inicio#}
                                        {#                                                                                {% with estadoaprobacion=silabocab|call:'estado_aprobacion' %}#}
                                        {#                                                                                    {%  if estadoaprobacion %}#}
                                        {#                                                                                        {% if not estadoaprobacion.estadoaprobacion == aprobar %}#}
                                        {#                                                                                            <a class="btn btn-mini btn-danger eliminacionmodal tu" href="javascript:;" nhref="/pro_planificacion?action=delarticulosilabo&ids={{ fecha.9|encrypt }}&idart={{ lisarticulo.id|encrypt }}"><i class="fa fa-trash"></i></a>#}
                                        {#                                                                                        {% endif %}#}
                                        {#                                                                                    {% endif %}#}
                                        {#                                                                                {% endwith %}#}
                                        {#                                                                            {% else %}#}
                                        {#                                                                                <a class="btn btn-mini btn-danger eliminacionmodal tu" href="javascript:;" nhref="/pro_planificacion?action=delarticulosilabo&ids={{ fecha.9|encrypt }}&idart={{ lisarticulo.id|encrypt }}"><i class="fa fa-trash"></i></a>#}
                                        {#                                                                            {% endif %}#}
                                        {#                                                                        {% endif %}#}
                                        {#                                                                    {% endwith %}#}
                                        {#                                                                </td>#}
                                        {#                                                                <td style="max-width: 100px;">#}
                                        {#                                                                    <div style="text-align: justify">#}
                                        {#                                                                        <span class="fa fa-book"></span> {{ lisarticulo.articulo.nombre|linebreaksbr }}#}
                                        {#                                                                    </div>#}
                                        {#                                                                </td>#}
                                        {#                                                            </tr>#}
                                        {#                                                        {% endfor %}#}
                                        {#                                                        </tbody>#}
                                        {#                                                    </table>#}
                                        {#                                                </div>#}
                                        {#                                            </div>#}
                                        {#                                        </div>#}
                                    {% endwith %}
                                {% endif %}
                            </td>
                            <td style="text-align: center" valign="top">
                                {% if fecha.9 > 0 %}
                                    {% with tieneapro=silabocab|call:'tiene_aprobaciones' estadoaprobacion=silabocab|call:'estado_aprobacion' %}
                                        {% if pruede_modificar %}
                                            <a ids="{{ fecha.9|encrypt }}" href="javascript:;" class='btn btn-mini btn-success adicionar_evaluacioncomp'><i class="fa fa-plus"></i></a>
                                        {% endif %}

                                        <div class="accordion" id="accordionevcomp{{ fecha.9|encrypt }}">
                                            <div class="accordion-group">
                                                <div class="accordion-heading">
                                                    <a data-toggle="collapse" data-parent="#collapseSixComp{{ fecha.9|encrypt }}" href="#collapseSixComp{{ fecha.9|encrypt }}"> <span class="fa fa-list"></span> Evaluación</a>
                                                </div>
                                                <div id="collapseSixComp{{ fecha.9|encrypt }}" class="accordion-body collapse4 in">
                                                    <table style="font-size: 8px" class='table table-bordered table-striped'>
                                                        <thead>
                                                        <tr>
                                                            <th>TIPO</th>
                                                            <th>ACTIVIDAD</th>
                                                            <th colspan="2"></th>
                                                        </tr>
                                                        </thead>
                                                        <tbody id="itemsbodycomponente{{ fecha.9 }}">
                                                        {% for componente in fecha.10.eval_componente %}
                                                            <tr id="componente{{ fecha.9 }}_{{ componente.id }}">
                                                                <td>{{ componente.evaluacionaprendizaje.get_tipoevaluacion_display }}</td>
                                                                <td>{{ componente.evaluacionaprendizaje.descripcion }} {{ componente.numactividad }}</td>
                                                                <td><a class="btn btn-warning btn-mini mostrar_temasevaluacion" idcodsemanal="{{ fecha.9 }}" codcomp="{{ componente.id }}"><i class="fa fa-list"></i></a></td>
                                                                <td>
                                                                    {% if not silabocab.codigoqr %}
                                                                        <a class="btn btn-danger btn-mini eliminarcomponente" idcodsemanal="{{ fecha.9 }}" codcomp="{{ componente.id }}"><strong>X</strong></a>
                                                                    {% endif %}
                                                                </td>
                                                            </tr>
                                                        {% endfor %}
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    {% endwith %}
                                {% endif %}
                            </td>
                            {#                            <td style="text-align: center">#}
                            {##}
                            {#                            </td>#}
                        </tr>
                    {% endwith %}
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <div class="modal fade static" id="itemspanelo" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Editar Objetivo de Apendizaje</h3>
        </div>
        <div class="modal-body" style="display: inline-block;">
            <div class="row-fluid">
                <form id="formobj" name="formobj" class="form-vertical form-modal" style="width: 580px;">
                    <input type='hidden' name='action' value='editarobjetivoaprendizaje'/>
                    <input type='hidden' name='idso' id="idso"/>
                    <label>Objetivo Aprendizaje</label>
                    <textarea maxlength="1000" rows="5" id="id_objetivo" style="text-align: justify"></textarea>
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <a href="javascript:;" id="adicionarobj" class="btn btn-adicionar btn-success"> Guardar</a>
            <a href="javascript:;" class="btn btn-cerrar btn-info"> Cerrar</a>
        </div>
    </div>
    <div class="modal fade static" id="itemspanelenf" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Editar Enfoque Metodológico</h3>
        </div>
        <div class="modal-body" style="display: inline-block;">
            <div class="row-fluid">
                <form id="formenf" name="formenf" class="form-vertical form-modal" style="width: 580px;">
                    <input type='hidden' name='action' value='editenfoquemetodologico'/>
                    <input type='hidden' name='idse' id="idse"/>
                    <label>Inicio</label>
                    <textarea maxlength="1000" rows="5" id="id_enfoque" style="text-align: justify"></textarea>
                    <label>Desarrollo</label>
                    <textarea maxlength="1000" rows="5" id="id_enfoquedos" style="text-align: justify"></textarea>
                    <label>Cierre </label>
                    <textarea maxlength="1000" rows="5" id="id_enfoquetres" style="text-align: justify"></textarea>
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <a href="javascript:;" id="adicionarenf" class="btn btn-adicionar btn-success"> Guardar</a>
            <a href="javascript:;" class="btn btn-cerrar btn-info"> Cerrar</a>
        </div>
    </div>
    <div class="modal fade static" id="itemspanelrec" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Editar Recursos Didácticos</h3>
        </div>
        <div class="modal-body" style="display: inline-block;">
            <div class="row-fluid">
                <form id="formrec" name="formrec" class="form-vertical form-modal" style="width: 580px;">
                    <input type='hidden' name='action' value='editrecursodidactico'/>
                    <input type='hidden' name='idsr' id="idsr"/>
                    <label>Recursos Didácticos</label>
                    <textarea maxlength="1000" rows="5" id="id_recurso" style="text-align: justify"></textarea>
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <a href="javascript:;" id="adicionarrec" class="btn btn-adicionar btn-success"> Guardar</a>
            <a href="javascript:;" class="btn btn-cerrar btn-info"> Cerrar</a>
        </div>
    </div>
    <div class="modal fade static" id="itemspaneleva" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Editar Evaluación</h3>
        </div>
        <div class="modal-body" style="display: inline-block;">
            <div class="row-fluid">
                <form id="formeva" name="formeva" class="form-vertical form-modal" style="width: 580px;">
                    <input type='hidden' name='action' value='editevaluacion'/>
                    <input type='hidden' name='idsv' id="idsv"/>
                    <label>Evaluación</label>
                    <textarea maxlength="1000" rows="5" id="id_evaluacion" style="text-align: justify"></textarea>
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <a href="javascript:;" id="adicionareva" class="btn btn-adicionar btn-success"> Guardar</a>
            <a href="javascript:;" class="btn btn-cerrar btn-info"> Cerrar</a>
        </div>
    </div>
    <div class="modal fade static" id="itemspanelevacomp" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Adicionar actividad de aprendizaje</h3>
        </div>
        <div class="modal-body" style="display: inline-block;">
            <div class="row-fluid">
                <form id="formevacomp" name="formevacomp" class="form-vertical form-modal" style="width: 580px;">
                    <input type='hidden' name='id_silsemana' id="id_silsemana"/>
                    ACTIVIDAD:
                    <select id="id_componente" name="id_componente">
                    </select>
                    <div class="alert alert-info" id="tipocomponente" style="text-align: justify;font-size: 12px"></div>
                    <table class='table table-bordered' cellpadding="0" cellspacing="0">
                        <thead>
                        <tr>
                            <th>-</th>
                            <th>TEMAS</th>
                        </tr>
                        </thead>
                        <tbody id="itemsbody" class="datatable">
                        </tbody>
                    </table>
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <a href="javascript:;" id="adicionarevacomp" class="btn btn-adicionar btn-success"> Guardar</a>
            <a href="javascript:;" class="btn btn-cerrarcomp btn-info"> Cerrar</a>
        </div>
    </div>
    <div class="modal fade static" id="itemspanelevacomptemas" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Listado de temas</h3>
        </div>
        <div style="padding: 10px">

            <table class='table table-bordered' cellpadding="0" cellspacing="0">
                <thead>
                <tr>
                    <th>TEMAS</th>
                </tr>
                </thead>
                <tbody id="itemsbodytemas">
                </tbody>
            </table>

        </div>
        <div class="modal-footer">
            {#            <a href="javascript:;" id="adicionarevacomp" class="btn btn-adicionar btn-success"> Guardar</a>#}
            <a href="javascript:;" class="btn btn-cerrarcomptemas btn-info"> Cerrar</a>
        </div>
    </div>
    <div class="modal fade static itemspanelduplicar_silabo" id="itemspanelduplicar_silabo" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Sílabos que puede importar</h3>
        </div>
        <div class="modal-body panelbody">

        </div>
        <div class="modal-footer">
            <table class="pull-right">
                <tr>
                    <td><a href="javascript:;" class="btn btn-cerrar btn-info">Cerrar</a></td>
                </tr>
            </table>
        </div>
    </div>

    <div class="modal fade static itemspanelduplicar_silabocarrera" id="itemspanelduplicar_silabocarrera" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Sílabos de otras Carreras que puede importar</h3>
        </div>
        <div class="modal-body panelbody">

        </div>
        <div class="modal-footer">
            <table class="pull-right">
                <tr>
                    <td><a href="javascript:;" class="btn btn-cerrar btn-info">Cerrar</a></td>
                </tr>
            </table>
        </div>
    </div>

    <div class="modal fade static" id="itemspaneldetalle_temas_subtemas" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Temas y subtemas por reguistrar</h3>
        </div>
        <div class="modal-body panelbody">

        </div>
        <div class="modal-footer">
            <table class="pull-right">
                <tr>
                    <td><a href="javascript:;" class="btn btn-cerrar btn-info">Cerrar</a></td>
                </tr>
            </table>
        </div>
    </div>
    <div class="modal fade static" id="itemspanelplanificacionsalida" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Adicionar gira de clase</h3>
        </div>
        <div class="modal-body" style="display: inline-block;">
            <div class="row-fluid">
                <form id="formsalida" name="formsalida" class="form-vertical form-modal" style="width: 580px;">
                    <input type='hidden' name='action' value='addplanificacionsalida'/>
                    <input type='hidden' name='ids' id="ids"/>
                    <label>Descripción </label>
                    <textarea rows="4" id="contenido" style="text-align: justify"></textarea>
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <a href="javascript:;" id="adicionarplanificacionsalida" class="btn btn-adicionar btn-success"> Guardar</a>
            <a href="javascript:;" class="btn btn-cerrar btn-info"> Cerrar</a>
        </div>
    </div>
    <div class="modal fade static" id="itemspaneleditplanificacionsalida" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Editar gira de clase</h3>
        </div>
        <div class="modal-body" style="display: inline-block;">
            <div class="row-fluid">
                <form id="formsalida" name="formsalida" class="form-vertical form-modal" style="width: 580px;">
                    <input type='hidden' name='ids' id="ids"/>
                    <label>Descripción </label>
                    <textarea rows="4" id="id_contenido" style="text-align: justify"></textarea>
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <a href="javascript:;" id="editplanificacionsalida" class="btn btn-adicionar btn-success"> Guardar</a>
            <a href="javascript:;" class="btn btn-cerrar btn-info"> Cerrar</a>
        </div>
    </div>
    <div class="modal fade static" id="itemspaneladicionarsubtemas" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Adicionar Sub Temas</h3>
        </div>
        <div class="modal-body" style="display: inline-block;">
            <div class="row-fluid">
                <form id="formsalida" name="formsubtemas" class="form-vertical form-modal" style="width: 580px;">
                    <span>Tema: </span>
                    <select id="id_tema" class="selector" name="tema" style="width: 92%">
                    </select><br><br>
                    <input type='hidden' name='ids' id="ids"/>
                    <table class="table table-bordered" border="0" width="100%" style="background-color: transparent">
                        <tr>
                            <td border="0" style="background-color: transparent">
                                <label><b>Sub Tema</b></label>
                            </td>
                        </tr>
                        <tr>
                            <td border="0" style="background-color: transparent">
                                <textarea rows="2" id="id_subtema" style="text-align: justify; width: 100%;" maxlength="150"></textarea><br>
                                <span class="obligatorio" style="color: red"></span>
                            </td>
                            <td style="text-align: right; background-color: transparent" width="8%" border="0">
                                <a href="javascript:;" class="btn btn-success addsubtema"><i class="fa fa-plus"></i></a>
                            </td>
                        </tr>
                    </table>
                </form>
                <div style="margin: 0px;overflow-y:auto;height:150px;">
                    <table class="table table-bordered table-condensed">
                        <thead>
                        <tr>
                            <th style="text-align: left">Tema</th>
                            <th style="text-align: left">Subtema</th>
                            <th style="text-align: left">Acciones</th>
                        </tr>
                        </thead>
                        <tbody id="contenidosubtemas">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <a href="javascript:;" id="adicionarsubtema" class="btn btn-adicionarsubtema btn-success"> Guardar</a>
            <a href="javascript:;" class="btn btn-cerrar btn-info"> Cerrar</a>
        </div>
    </div>
    <div class="modal fade static itemspanelimportar_silabo_periodo" id="itemspanelimportar_silabo_periodo" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Sílabos que puede importar de otros periodos</h3>
        </div>
        <div class="modal-body panelbody"></div>
        <div class="modal-footer" style="margin-top: -15px">
            <table class="pull-right">
                <tr>
                    <td><a href="javascript:;" class="btn btn-cerrar btn-info">Cerrar</a></td>
                </tr>
            </table>
        </div>
    </div>

    <div class="modal fade static itemspanellink" id="itemspanellink" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Editar recursos didácticos (link de youtube, etc)</h3>
        </div>
        <div class="modal-body panelbodylink">

        </div>
        <div class="modal-footer">
            <a href="javascript:;" id="adicionarlink" class="btn btn-success adicionarlink"> Guardar</a>
            <a href="javascript:;" class="btn btn-cerrar btn-info"> Cerrar</a>
        </div>
    </div>
    <div class="modal fade static" id="itemspanelmatricula" style="display: none;">
        <div class="modal-header">
            <h4><i class="fa fa-list"></i> <b class="paneltitlematricula">FORMULARIO MODAL</b></h4>
        </div>
        <div class="modal-body">
            <form class="form-horizontal form-modal" autocomplete="off" method="post"
                  enctype="multipart/form-data" action="{{ request.path }}">
                {% csrf_token %}
                <div class="row-fluid panelbodymatricula">
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <div style="float: right">
                <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-window-close"></i> Cerrar</button>
            </div>
        </div>
    </div>
{% endblock %}