{% extends "base.html" %}
{% load sga_extras %}
{% block heading %}
    <script type="text/javascript">

        tooltips = function () {
            $(".tl").tooltip({placement: "left"});
            $(".tr").tooltip({placement: "right"});
            $(".tu").tooltip({placement: "top"});
            $(".tb").tooltip({placement: "bottom"});
        };

        $(function () {
            tooltips();

            $("select").select2({width: '100%'});

            if (parseInt($("#id_escuela").val()) > 0){
                lista_maestria({{maestria}});
            }
            $("#id_escuela").change(function (){
                lista_maestria();
            });

            if (parseInt($("#id_maestria").val()) > 0){
                lista_cohortes({{ periodoa }});
            }
            $("#id_maestria").change(function (){
                lista_cohortes();
            });

            if (parseInt($("#id_periodo").val()) > 0){
                lista_paralelo('{{ paralelo }}');
            }
            $("#id_periodo").change(function (){
                lista_paralelo();
            });


            $('.reporte_cursos_cerrados').click(function () {
                $('#itemspanelreport4').modal({backdrop: 'static', width: '450px'}).modal('show');
                {% comment %} $('#maestria_group10').fadeIn();{% endcomment %}
                $('#fieldset_id_cohortes4').fadeIn();
                $('#fieldset_id_asesores4').fadeIn();

                $('#id_cohorte4').empty().append('<option value="0">TODAS LOS PERIODOS DE MAESTRÍA</option>').val(0).trigger("change");

                $.ajax({
                    type: "GET",
                    url: "/adm_evaluacionposgrado",
                    data: {'action': 'cargar_cohortes_ofer'},
                    success: function (data) {
                        if (data.result == 'ok') {
                            for (elemento in data.lista) {
                                $('#id_cohorte4').append('<option value="' + data.lista[elemento].id + '">' + data.lista[elemento].id + ' - ' + data.lista[elemento].nombre + '</option>');
                            }
                        } else {
                            alertaDanger(data.mensaje);
                        }
                    },
                    error: function () {
                        alertaDanger("Error de conexion.");
                    },
                    dataType: "json"
                });
            });

            $('#descargar_reporte_cursos_cerrados').click(function () {
                var cohorte = $('#id_cohorte4').val();
                var desde = $('#id_fecha_desde4').val();
                var hasta = $('#id_fecha_hasta4').val();

                $.ajax({
                    type: "GET",
                    url: "/adm_evaluacionposgrado",
                    data: {'action': 'reportedemodulosposgrado',
                           'cohorte': cohorte,
                           'desde': desde,
                           'hasta': hasta},
                    success: function (data) {
                        if (data.result) {
                            mensajeSuccess(data.mensaje)
                        } else {
                            mensajeWarning(data.mensaje)
                        }
                    },
                    error: function () {
                        mensajeErrorSwal("Error de conexion.");
                    },
                    dataType: "json"
                });

                $('#itemspanelreport4').modal('hide');
            });

            $('.reporte_periodos_posgrado').click(function () {
                $('#itemspanelreport5').modal({backdrop: 'static', width: '450px'}).modal('show');
                {% comment %} $('#maestria_group10').fadeIn();{% endcomment %}
                $('#fieldset_id_cohortes5').fadeIn();
                $('#fieldset_id_asesores5').fadeIn();

                $('#id_cohorte5').empty().append('<option value="0">TODAS LOS PERIODOS DE MAESTRÍA</option>').val(0).trigger("change");

                $.ajax({
                    type: "GET",
                    url: "/adm_evaluacionposgrado",
                    data: {'action': 'cargar_cohortes_ofer'},
                    success: function (data) {
                        if (data.result == 'ok') {
                            for (elemento in data.lista) {
                                $('#id_cohorte5').append('<option value="' + data.lista[elemento].id + '">' + data.lista[elemento].id + ' - ' + data.lista[elemento].nombre + '</option>');
                            }
                        } else {
                            alertaDanger(data.mensaje);
                        }
                    },
                    error: function () {
                        alertaDanger("Error de conexion.");
                    },
                    dataType: "json"
                });
            });

            $('#descargar_reporte_periodos_posgrado').click(function () {
                var cohorte = $('#id_cohorte5').val();

                openwindow('GET', '/adm_evaluacionposgrado', {
                    action: 'reportedeperiodosposgrado',

                    'cohorte': cohorte}, '_blank');

                $('#itemspanelreport5').modal('hide');
            });

            $('.reporte_docentes_posgrado').click(function () {
                $('#itemspanelreport6').modal({backdrop: 'static', width: '450px'}).modal('show');
                $('#fieldset_id_cohortes6').fadeIn();

                $('#id_cohorte6').empty().append('<option value="0">TODAS LOS PERIODOS DE MAESTRÍA</option>').val(0).trigger("change");

                $.ajax({
                    type: "GET",
                    url: "/adm_evaluacionposgrado",
                    data: {'action': 'cargar_cohortes_ofer'},
                    success: function (data) {
                        if (data.result == 'ok') {
                            for (elemento in data.lista) {
                                $('#id_cohorte6').append('<option value="' + data.lista[elemento].id + '">' + data.lista[elemento].id + ' - ' + data.lista[elemento].nombre + '</option>');
                            }
                        } else {
                            alertaDanger(data.mensaje);
                        }
                    },
                    error: function () {
                        alertaDanger("Error de conexion.");
                    },
                    dataType: "json"
                });
            });

            $('#descargar_reporte_docentes_posgrado').click(function () {
                var cohorte = $('#id_cohorte6').val();
                var desde = $('#id_fecha_desde6').val();
                var hasta = $('#id_fecha_hasta6').val();

                openwindow('GET', '/adm_evaluacionposgrado', {
                    action: 'reportededocentesposgrado',
                    'cohorte': cohorte,
                    'desde': desde,
                    'hasta': hasta}, '_blank');

                $('#itemspanelreport6').modal('hide');
            });

            selectorcontratos = $(".selectorcontratos");

            actulizarvalor = function () {
                var seleccionados = $(".selectorcontratos:checked");
                var suma = 0;
                seleccionados.each(function () {
                    suma += 1;
                });
                $("#totalleads").html(`Módulos seleccionados: ${suma}`);
            };

            todos = $("#todos");

            todos.click(function () {
                if (todos.prop('checked')) {
                    selectorcontratos.prop('checked', true);
                } else {
                    selectorcontratos.prop('checked', false);
                }
                actulizarvalor();
            });

            selectorcontratos.change(function () {
                actulizarvalor();
            });

            selectorcontratos.prop("checked", false);

            $(".generarinformeevaluacionipec2").click(function () {
                var id = $(this).attr('idmat');
                openwindow('POST', '/adm_evaluacionposgrado', {action: 'informeevaluacionipecotro2', 'idmat': id}, '_blank');
            });

        });

        function lista_maestria(idmaestria) {
            console.log("aqui");
            console.log(idmaestria);
            console.log({{ periodoa }});
            $('#id_maestria').empty().append('<option value="">---------</option>').val(0).trigger("change");
            var control = $(this);
            var id = parseInt($("#id_escuela").val());
            if (id > 0) {
                bloqueointerface();
                $.ajax({
                    type: "GET",
                    url: "{{request.path}}",
                    data: {'action': 'selectcarrera', 'id': id},
                    success: function (data) {
                        $.unblockUI();
                        if (data.result == 'ok') {
                            for (elemento in data.lista) {
                                if (data.lista[elemento][0] == idmaestria) {
                                    $('#id_maestria').append('<option value="' + data.lista[elemento][0] + '" selected>' + data.lista[elemento][1] + '</option>').trigger('change');
                                    lista_cohortes({{ periodoa }});
                                } else {
                                    $('#id_maestria').append('<option value="' + data.lista[elemento][0] + '">' + data.lista[elemento][1] + '</option>');
                                }
                            }
                        } else {
                            control.val(0).trigger("change");
                            mensajeWarning(data.mensaje);
                        }
                    },
                    error: function () {
                        $.unblockUI();
                        control.val(0).trigger("change");
                        alertaDanger("Error de conexion.");
                    },
                    dataType: "json"
                });
            }
        }

        function lista_cohortes(idcohorte) {
            console.log(idcohorte);
            $('#id_periodo').empty().append('<option value="">---------</option>').val(0).trigger("change");
            var control = $(this);
            var id = parseInt($("#id_maestria").val());
            if (id > 0) {
                bloqueointerface();
                $.ajax({
                    type: "GET",
                    url: "{{request.path}}",
                    data: {'action': 'selectperiodo', 'id': id},
                    success: function (data) {
                        $.unblockUI();
                        if (data.result == 'ok') {
                            for (elemento in data.lista) {
                                if (data.lista[elemento][0] == idcohorte) {
                                    $('#id_periodo').append('<option value="' + data.lista[elemento][0] + '" selected>' + data.lista[elemento][1] + '</option>').trigger('change');
                                    lista_paralelo('{{ paralelo }}');
                                } else {
                                    $('#id_periodo').append('<option value="' + data.lista[elemento][0] + '">' + data.lista[elemento][1] + '</option>');
                                }
                            }
                        } else {
                            control.val(0).trigger("change");
                            mensajeWarning(data.mensaje);
                        }
                    },
                    error: function () {
                        $.unblockUI();
                        control.val(0).trigger("change");
                        alertaDanger("Error de conexion.");
                    },
                    dataType: "json"
                });
            }
        }

        function lista_paralelo(idperiodo) {
            $('#id_paralelo').empty().append('<option value="">---------</option>').val(0).trigger("change");
            var control = $(this);
            var id = parseInt($("#id_periodo").val());
            if (id > 0) {
                bloqueointerface();
                $.ajax({
                    type: "GET",
                    url: "{{request.path}}",
                    data: {'action': 'selectparalelo', 'id': id},
                    success: function (data) {
                        $.unblockUI();
                        if (data.result == 'ok') {
                            for (elemento in data.lista) {
                                if (data.lista[elemento][0] == idperiodo) {
                                    $('#id_paralelo').append('<option value="' + data.lista[elemento][0] + '" selected>' + data.lista[elemento][1] + '</option>').trigger('change');
                                } else {
                                    $('#id_paralelo').append('<option value="' + data.lista[elemento][0] + '">' + data.lista[elemento][1] + '</option>');
                                }
                            }
                        } else {
                            control.val(0).trigger("change");
                            mensajeWarning(data.mensaje);
                        }
                    },
                    error: function () {
                        $.unblockUI();
                        control.val(0).trigger("change");
                        alertaDanger("Error de conexion.");
                    },
                    dataType: "json"
                });
            }
        }

        function formModal(id, text, action, footer = true) {
            bloqueointerface();
            $('#itemspanel .paneltitle').html('');
            $('.panelbody').html('');
            $('#footermodal').show();
            $.ajax({
                type: "GET",
                url: `{{ request.path }}`,
                data: {
                    'action': action,
                    'id': id,
                    'idc': '{{ id }}'
                },
                success: function (data) {
                    $.unblockUI();
                    if (data.result === true) {
                        if (footer === true) {
                            $('#footermodal').hide();
                        }
                        $('.panelbody').html(data.data);
                        $('#itemspanel .paneltitle').html(text.toUpperCase());
                        $("#itemspanel").modal({backdrop: 'static', width: '900px'}).modal('show');
                    } else {
                        //mensajeDanger(data.message);
                        mensajeErrorSwal("", data.mensaje);
                    }
                },
                error: function () {
                    $.unblockUI();
                    //mensajeDanger("Error de conexión.");
                    mensajeErrorSwal("", "Error de conexión.");
                },
                dataType: "json"
            });
        }

        function formModalMasivo(id, text, action, footer = true) {
            bloqueointerface();
            $('#itemspanel .paneltitle').html('');
            $('.panelbody').html('');
            $('#footermodal').show();
            $.ajax({
                type: "GET",
                url: `{{ request.path }}`,
                data: {
                    'action': action,
                    'id': id,
                    'escuela': '{{ escuela }}',
                    'maestria': '{{ maestria }}',
                    'periodoa': '{{ periodoa }}',
                    'paralelo': '{{ paralelo }}',
                    'estado': '{{ estado }}',
                    'desde': '{{ desde }}',
                    'hasta': '{{ hasta }}',
                },
                success: function (data) {
                    $.unblockUI();
                    if (data.result === true) {
                        if (footer === true) {
                            $('#footermodal').hide();
                        }
                        $('.panelbody').html(data.data);
                        $('#itemspanel .paneltitle').html(text.toUpperCase());
                        $("#itemspanel").modal({backdrop: 'static', width: '900px'}).modal('show');
                    } else {
                        //mensajeDanger(data.message);
                        mensajeErrorSwal("", data.mensaje);
                    }
                },
                error: function () {
                    $.unblockUI();
                    //mensajeDanger("Error de conexión.");
                    mensajeErrorSwal("", "Error de conexión.");
                },
                dataType: "json"
            });
        }

        function formModalMasivo2(id, text, action, footer = true) {
            bloqueointerface();
            $('#itemspanel .paneltitle').html('');
            $('.panelbody').html('');
            $('#footermodal').show();

            var ids;
            var contador = 0;
            var seleccionados = $(".selectorcontratos:checked");

            console.log(seleccionados);
            ids = '';
            seleccionados.each(function () {
                if (ids.length > 0) {
                    ids += ",";
                }
                ids += $(this).attr('rid');
                contador += 1;
            });

            $.ajax({
                type: "GET",
                url: `{{ request.path }}`,
                data: {
                    'action': action,
                    'ids': ids,
                },
                success: function (data) {
                    $.unblockUI();
                    if (data.result === true) {
                        if (footer === true) {
                            $('#footermodal').hide();
                        }
                        $('.panelbody').html(data.data);
                        $('#itemspanel .paneltitle').html(text.toUpperCase());
                        $("#itemspanel").modal({backdrop: 'static', width: '900px'}).modal('show');
                    } else {
                        //mensajeDanger(data.message);
                        mensajeErrorSwal("", data.mensaje);
                    }
                },
                error: function () {
                    $.unblockUI();
                    //mensajeDanger("Error de conexión.");
                    mensajeErrorSwal("", "Error de conexión.");
                },
                dataType: "json"
            });
        }

        function procesar_resultados(pk, nombre, accion) {
            Swal.fire({
                title: `<h4>Está por procesar los resultados de evaluaciones del módulo:\n ${nombre}</h4>`,
                text: "Esta acción procesa evaluaciones hetero, auto y directivos a la fecha",
                type: 'warning',
                showCancelButton: true,
                allowOutsideClick: false,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Si, deseo hacerlo',
                cancelButtonText: 'Cancelar'
            }).then((result) => {
                if (result.value) {
                    bloqueointerface();
                    $.ajax({
                        type: 'POST',
                        url: '{{ reques.path }}',
                        async: false,
                        data: {
                            csrfmiddlewaretoken: '{{ csrf_token }}',
                            action: accion,
                            id: pk,
                        },
                        dataType: "json",
                        beforeSend: function () {
                            bloqueointerface();
                        }
                    }).done(function (data) {
                        setTimeout($.unblockUI, 1);
                        if (data.result == 'ok') {

                            let timerInterval
                            Swal.fire({
                                title: '',
                                html: '<b>Procesando...</b>',
                                timer: 2000,
                                timerProgressBar: true,
                                didOpen: () => {
                                    Swal.showLoading()
                                    const b = Swal.getHtmlContainer().querySelector('b')
                                    timerInterval = setInterval(() => {
                                        b.textContent = Swal.getTimerLeft()
                                    }, 100)
                                },
                                willClose: () => {
                                    clearInterval(timerInterval)
                                }
                            }).then((result) => {
                                /* Read more about handling dismissals below */
                                if (result.dismiss === Swal.DismissReason.timer) {
                                    console.log('I was closed by the timer')
                                }
                            })
                            location.reload();
                        } else {
                            alertaDanger(data.mensaje, 10000);
                        }
                    }).fail(function (jqXHR, textStatus, errorThrown) {
                        setTimeout($.unblockUI, 1);
                        alertaDanger('Error en el servidor', 'Advertencia!', 10000);
                    }).always(function () {
                    });
                } else {
                }
            });
        }

    </script>
    <script src="/static/adicionalesjs/formquestionb4.js?0.24"></script>
    <style>
        details > summary:first-of-type {
            list-style: none;
        }
    </style>
{% endblock %}
{% block atras %}/{% endblock %}
{% block canvas %}
    <div class='row'>
        <div class='col-lg-12'>
            <div class="headtitle">
                <h3 class="texto-blue">{{ title }}</h3>
                <h6>Gestión de evaluación docente de posgrado</h6>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="btn-group" role="group" style="padding: 8px">
            <button id="btnGroupDrop1" type="button" class="btn btn-default dropdown-toggle me-2" data-bs-toggle="dropdown" aria-expanded="false">
                Acciones <i class="fa fa-angle-down"></i>
            </button>
            {% if perms.posgrado.puede_crear_rubricas or persona.usuario.is_superuser %}
                <ul class="dropdown-menu" aria-labelledby="btnGroupDrop1">
                    <li><a href="/adm_evaluaciondocentesacreditacion?action=caracteristicas"
                           class="dropdown-item bloqueo_pantalla" href="#"><i class="fa fa-list"></i> Caracter&iacute;sticas
                        de evaluación</a></li>
                    <li><a href="/adm_evaluaciondocentesacreditacion?action=rubricas"
                           class="dropdown-item bloqueo_pantalla" href="#"><i class="fa fa-list"></i> R&uacute;bricas de
                        evaluación</a></li>
                </ul>
            {% endif %}
            <button id="btnGroupDrop3" type="button" class="btn btn-default dropdown-toggle me-2" data-bs-toggle="dropdown" aria-expanded="false">
                Reportes <i class="fa fa-angle-down"></i>
            </button>
            <ul class="dropdown-menu" aria-labelledby="btnGroupDrop3">
                {% if perms.posgrado.puede_ver_reportes_eval or persona.usuario.is_superuser %}
                    <li>
                        <a class="reporte_cursos_cerrados dropdown-item"
                           title="Descargar reporte" href="javascript:;"><i class="fa fa-download dropdown-item-icon"></i> Reporte de cursos cerrados</a>
                    </li>
                    <li>
                        <a class="reporte_periodos_posgrado dropdown-item"
                           title="Descargar reporte" href="javascript:;">
                            <i class="fa fa-download dropdown-item-icon"></i> Reporte de periodos posgrado</a>
                    </li>
                    <li>
                        <a class="reporte_docentes_posgrado dropdown-item"
                           title="Descargar reporte" href="javascript:;">
                            <i class="fa fa-download dropdown-item-icon"></i> Reporte de docentes posgrado</a>
                    </li>
                    {% if escuela or maestria or periodoa or paralelo or estado or desde or hasta %}
                        <li>
                            <a class="dropdown-item"
                               title="Descargar reporte" target="_blank"
                               href="/adm_evaluacionposgrado?action=reporteseguimientoeval&escuela={{ escuela }}&maestria={{ maestria }}&periodoa={{ periodoa }}&paralelo={{ paralelo }}&estado={{ estado }}&desde={{ desde }}&hasta={{ hasta }}">
                                <i class="fa fa-download dropdown-item-icon"></i> Reporte de seguimiento</a>
                        </li>
                        <li>
                            <a class="dropdown-item"
                               title="Descargar reporte" target="_blank"
                               href="/adm_evaluacionposgrado?action=reporte_por_profesores&escuela={{ escuela }}&maestria={{ maestria }}&periodoa={{ periodoa }}&paralelo={{ paralelo }}&estado={{ estado }}&desde={{ desde }}&hasta={{ hasta }}">
                                <i class="fa fa-download dropdown-item-icon"></i> Reporte por profesores</a>
                        </li>
                    {% endif %}
                {% endif %}
            </ul>
            {% if perms.posgrado.puede_crear_encuestas_satisfaccion or persona.usuario.is_superuser %}
                <a href="/adm_evaluacionposgrado?action=ver_encuestas_satisfaccion"
                   class="btn btn-default bloqueo_pantalla me-2">
                    <i class="fa fa-table"></i> Encuestas de satisfacción
                </a>
            {% endif %}
            {% if escuela or maestria or periodoa or paralelo or estado or desde or hasta or modulo %}
                {% if perms.posgrado.puede_planificar_fechas_hetero and perms.posgrado.puede_planificar_fechas_auto and perms.posgrado.puede_planificar_fechas_dir and perms.posgrado.puede_planificar_fechas_satis %}
                    <a href='javascript:;' class="btn btn-primary me-2"
                       onclick="formModalMasivo('','Planificar fechas de Evaluaciones','editfechasevaluaciones', true)">
                        <i class="fa fa-calendar"></i> Asignar evaluación (Por grupos)
                    </a>
                {% endif %}
                {% if perms.posgrado.puede_procesar_resultados %}
                    <a href='javascript:;' class="btn btn-success me-2"
                       onclick="formModalMasivo2('','Procesar resultados de evaluaciones de forma grupal','procesarresultadosmasivo', true)">
                        <i class="fa fa-cog"></i> Procesar resultados (Por grupos)
                    </a>
                {% endif %}
            {% endif %}
        </div>
        <form method="GET" class="form-row py-0 justify-content-end">
{#            <input type="hidden" name="action" value="/">#}
            <div class="col-md-4 col-lg-4 col-12 pe-md-2">
                <label for=""><i class="fa fa-university"></i> Escuela:</label>
                <select class="form-control" name="escuela" id="id_escuela">
                    <option value="">Todos</option>
                    {% for eEscuela in eEscuelas %}
                        <option value="{{ eEscuela.id }}"
                                {% if escuela == eEscuela.id %}selected{% endif %}>{{ eEscuela|title2 }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="col-md-4 col-lg-4 col-12 pe-md-2">
                <label for=""><i class="fa fa-university"></i> Maestría:</label>
                <select class="form-control" name="maestria" id="id_maestria">
                    <option value="">Todos</option>
                </select>
            </div>

            <div class="col-md-4 col-lg-2 col-12 pe-md-2">
                <label for=""><i class="fa fa-graduation-cap"></i> Cohorte:</label>
                <select class="form-control" name="periodoa" id="id_periodo">
                    <option value="">Todos</option>
                </select>
            </div>

            <div class="col-md-4 col-lg-2 col-12 pe-md-2">
                <label for=""><i class="fa fa-pencil"></i> Paralelo:</label>
                <select class="form-control" name="paralelo" id="id_paralelo">
                    <option value="">Todos</option>
                </select>
            </div>

            <div class="col-md-4 col-lg-2 col-12 pe-md-2">
                <label for=""><i class="fa fa-traffic-light"></i> Estado:</label>
                <select class="form-control" name="estado" id="id_estado">
                    <option value="">Todos</option>
                    {% if perms.posgrado.puede_planificar_fechas_hetero %}
                        <option value="1" {% if  estado == 1 %}selected{% endif %}>Sin Hetero</option>
                        <option value="4" {% if  estado == 4 %}selected{% endif %}>Con Hetero</option>
                        <option value="11" {% if  estado == 11 %}selected{% endif %}>No evaluados Hetero</option>
                    {% endif %}
                    {% if perms.posgrado.puede_planificar_fechas_auto %}
                        <option value="2" {% if  estado == 2 %}selected{% endif %}>Sin Auto</option>
                        <option value="5" {% if  estado == 5 %}selected{% endif %}>Con Auto</option>
                        <option value="12" {% if  estado == 12 %}selected{% endif %}>No Autoevaluados</option>
                    {% endif %}
                    {% if perms.posgrado.puede_planificar_fechas_dir %}
                        <option value="3" {% if  estado == 3 %}selected{% endif %}>Sin Directivos</option>
                        <option value="6" {% if  estado == 6 %}selected{% endif %}>Con Directivos</option>
                        <option value="13" {% if  estado == 13 %}selected{% endif %}>No evaluado (Director)</option>
                        <option value="14" {% if  estado == 14 %}selected{% endif %}>No evaluado (Coordinador)</option>
                    {% endif %}
                    {% if perms.posgrado.puede_procesar_resultados %}
                        <option value="7" {% if  estado == 7 %}selected{% endif %}>Procesadas</option>
                        <option value="8" {% if  estado == 8 %}selected{% endif %}>No Procesadas</option>
                    {% endif %}
                    {% if perms.posgrado.puede_planificar_fechas_satis_est %}
                        <option value="9" {% if  estado == 9 %}selected{% endif %}>Planificadas</option>
                        <option value="10" {% if  estado == 10 %}selected{% endif %}>No planificadas</option>
                    {% endif %}
                </select>
            </div>

            <div class="col-md-4 col-lg-2 col-12 pe-md-2">
                <label for=""><i class="fa fa-traffic-light"></i> Estados módulos:</label>
                <select class="form-control" name="modulo" id="id_modulo">
                    <option value="">Todos</option>
                    <option value="1" {% if  modulo == 1 %}selected{% endif %}>Abiertos</option>
                    <option value="2" {% if  modulo == 2 %}selected{% endif %}>Cerrados</option>
                </select>
            </div>

            <div class="col-md-4 col-lg-1 col-12 pe-md-2">
                <label for=""><i class="fa fa-calendar"></i> Inicio:</label>
                <input type="date" class="form-control" name="desde" data-bs-toggle="tooltip"
                       data-placement="left"
                       id="desde"
                       value="{{ desde }}"
                       title="Desde"/>
            </div>

            <div class="col-md-4 col-lg-1 col-12 pe-md-2">
                <label for=""><i class="fa fa-calendar"></i> Fin:</label>
                <input type="date" class="form-control" name="hasta" data-bs-toggle="tooltip"
                       data-placement="left"
                       id="hasta"
                       value="{{ hasta }}"
                       title="Hasta"/>
            </div>

            <div class="col-md-4 col-lg-3 pe-md-2">
                <label for=""><i class="fa fa-search"></i> Búsqueda:</label>
                <div class="input-group mb-2">
                    <input type="text" class="form-control" placeholder="Nombre de módulo"
                           aria-label="Buscar"
                           aria-describedby="button-addon2" name="s" value="{{ search }}">
                </div>
            </div>
            <div class="col-md-4 col-lg-3 pe-md-2">
                <label for=""><i class="fa fa-search"></i> Búsqueda por docente:</label>
                <div class="input-group mb-2">
                    <input type="text" class="form-control" placeholder="Nombre o cédula de docente"
                           aria-label="Buscar"
                           aria-describedby="button-addon2" name="s2" value="{{ search2 }}">
                    <div class="input-group-append">
                        <button class="btn btn-primary-old" type="submit" id="button-addon2"><i
                                class="fa fa-search"></i></button>
                        {% if url_vars %}
                            <a title="Ver todo" href="{{ request.path }}"
                               class="btn btn-default tr">
                                <i class="fas fa-sync-alt"></i>
                            </a>
                        {% endif %}
                    </div>
                </div>
            </div>
        </form>
        <div class="col-lg-6 col-md-3 col-sm-12" style="text-align: left;">
            <b id="totalleads">Seleccionados: 0</b>
        </div>
        <div class="col-lg-12 col-md-3 col-sm-12" style="text-align: right;">
            Total: <span style="color: blue!important; font-weight: bold; font-size:12px">{{ eCount }}</span> |
            {% if perms.posgrado.puede_planificar_fechas_hetero %}
                Sin Hetero:
                <span style="color: red!important; font-weight: bold; font-size:12px">{{ eSinheteros }}</span> |
            {% endif %}
            {% if perms.posgrado.puede_planificar_fechas_auto %}
                Sin Auto: <span style="color: red!important; font-weight: bold; font-size:12px">{{ eSinAuto }}</span> |
            {% endif %}
            {% if perms.posgrado.puede_planificar_fechas_dir %}
                Sin Directivos:
                <span style="color: red!important; font-weight: bold; font-size:12px">{{ eSinDir }}</span> |
            {% endif %}
            {% if perms.posgrado.puede_procesar_resultados %}
                Sin Procesar:
                <span style="color: red!important; font-weight: bold; font-size:12px">{{ eSinProcesadas }}</span> |
                Procesadas:
                <span style="color: green!important; font-weight: bold; font-size:12px">{{ eProcesadas }}</span>
            {% endif %}
            {% if perms.posgrado.puede_planificar_fechas_satis_est %}
                Planificadas:
                <span style="color: green!important; font-weight: bold; font-size:12px">{{ eConSatisEst }}</span> |
                No Planificadas:
                <span style="color: red!important; font-weight: bold; font-size:12px">{{ eSinSatisEst }}</span>
            {% endif %}
        </div>

        <div class="card mb-4">
            <div class="card-body border-top border-6 rounded-3 border-dark-info">
                <table class='tabla_responsive table table_warning'>
                    <thead class="table-light">
                    <tr>
                        <th class="text-center w-3"><input type="checkbox" id="todos"></th>
                        <th class="text-center w-3">N°</th>
                        <th class="text-center w-35">Módulo</th>
                        <th class="text-center w-20">Detalle de evaluaciones</th>
                        <th class="text-center w-15">Inicio</th>
                        <th class="text-center w-15">Fin</th>
                        <th class="text-center w-10">Estado</th>
                        <th class="text-center w-5"></th>
                    </tr>

                    </thead>
                    <tbody>
                    {% for eModulo in eModulos %}
                        <tr>
                            <td style="text-align: center; vertical-align: middle">
                                <input type="checkbox" class="selectorcontratos" rid="{{ eModulo.id }}">
                            </td>
                            <td class="text-center">{{ forloop.counter }}</td>
                            <td class="lh-15">
                                <h5>{% if eModulo.materia.asignaturamalla.malla.carrera.escuelaposgrado %}{{ eModulo.materia.asignaturamalla.malla.carrera.escuelaposgrado.nombre|title }}{% else %}No registra escuela{% endif %}</h5>
                                <h6>{{ eModulo.materia.asignaturamalla.malla.carrera|title }}</h6>
                                <h6>{{ eModulo.materia.nivel.periodo.cohorte_maestria|title }}</h6>
                                <p class="mb-2" style="font-size: 14px"><b>Docente:</b> {{ eModulo.profesor.persona|title }}</p>
                                <p class="mb-2" style="font-size: 14px"><b>Asignatura:</b> {{ eModulo.materia.asignaturamalla.asignatura.nombre|title }}</p>
                                <p style="font-size: 14px"><b>Paralelo: </b> {{ eModulo.materia.paralelo }} |{% if eModulo.materia.cerrado %} <span class="badge bg-danger">Cerrado</span>{% else %} <span class="badge bg-success">Abierto</span>{% endif %}| {% estado_mate eModulo.materia as eEstMat %}{% if eEstMat %}<span class="badge bg-primary">Finalizado</span>{% else %} <span class="badge bg-warning">En curso</span>{% endif %} | {{ eModulo.materia.id }}</p>
                            </td>
                            <td class="lh-15">
                                {% if perms.posgrado.puede_planificar_fechas_hetero %}
                                    <details>
                                        <summary>
                                            <i class="fa fa-chevron-right text-black-50"
                                               style="font-size: 9px; font-weight: bold"></i> Evaluación hetero
                                        </summary>
                                        <p class="ps-2" style="font-size: 12px; line-height: 1.5">
                                            <b>Inicio: </b>{% if eModulo.materia.inicioeval %}
                                            {{ eModulo.materia.inicioeval|date:"d-m-Y" }}{% else %}
                                            <span style="color: red">No configurado</span>{% endif %}<br>
                                            <b>Fin: </b>{% if eModulo.materia.fineval %}
                                            {{ eModulo.materia.fineval|date:"d-m-Y" }}{% else %}
                                            <span style="color: red">No configurado</span>{% endif %}<br>
                                            <b>Estado: </b>
                                            {% if eModulo.materia.inicioeval and eModulo.materia.fineval %}
                                                {% fecha_vencida eModulo.materia 1 as estadofechahetero %}
                                                {% if estadofechahetero %}
                                                    <span style="color: blue">Finalizada</span>{% else %}
                                                    <span style="color: orange">En curso</span>{% endif %}
                                            {% else %}
                                                <span style="color: red">No configurado</span>
                                            {% endif %}
                                            <br>
                                            <b>Han
                                                evaluado: </b>{% cantidad_evaluacion_docente eModulo as evaluadoshetero %}{{ evaluadoshetero }}<br>
                                            <b>Matriculados: </b>{% cantidad_matriculados eModulo.materia as cantidadmatri %}{{ cantidadmatri }}<br>
                                        </p>
                                    </details>
                                {% endif %}
                                {% if perms.posgrado.puede_planificar_fechas_auto %}
                                    <details>
                                        <summary>
                                            <i class="fa fa-chevron-right text-black-50" style="font-size: 9px"></i>
                                            Evaluación auto
                                        </summary>
                                        <p class="ps-2" style="font-size: 12px; line-height: 1.5">
                                            <b>Inicio: </b>{% if eModulo.materia.inicioevalauto %}
                                            {{ eModulo.materia.inicioevalauto|date:"d-m-Y" }}{% else %}
                                            <span style="color: red">No configurado</span>{% endif %}<br>
                                            <b>Fin: </b>{% if eModulo.materia.finevalauto %}
                                            {{ eModulo.materia.finevalauto|date:"d-m-Y" }}{% else %}
                                            <span style="color: red">No configurado</span>{% endif %}<br>
                                            <b>Estado: </b>
                                            {% if eModulo.materia.inicioevalauto and eModulo.materia.finevalauto %}
                                                {% fecha_vencida eModulo.materia 2 as estadofechaauto %}
                                                {% if estadofechaauto %}
                                                    <span style="color: blue">Finalizada</span>{% else %}
                                                    <span style="color: orange">En curso</span>{% endif %}
                                            {% else %}
                                                <span style="color: red">No configurado</span>
                                            {% endif %}
                                            <br>
                                            <b>¿Realizó autoevaluación? </b>
                                            {% if eModulo.materia.inicioevalauto and eModulo.materia.finevalauto %}
                                                {% cantidad_evaluacion_auto eModulo as realizoauto %}
                                                {% if realizoauto > 0 %}
                                                    <span style="color: blue">Si</span>{% else %}
                                                    <span style="color: red">No</span>{% endif %}
                                            {% else %}
                                                <span style="color: red">No configurado</span>
                                            {% endif %}
                                        </p>
                                    </details>
                                {% endif %}
                                {% if perms.posgrado.puede_planificar_fechas_dir %}
                                    <details>
                                        <summary>
                                            <i class="fa fa-chevron-right text-black-50" style="font-size: 9px"></i>
                                            Evaluación de directivos
                                        </summary>
                                        <p class="ps-2" style="font-size: 12px; line-height: 1.5">
                                            {% object_dir eModulo as eDetalleDir %}
                                            <b>Inicio: </b>{% if eDetalleDir and eDetalleDir.inicio %}
                                            {{ eDetalleDir.inicio|date:"d-m-Y" }}{% else %}
                                            <span style="color: red">No configurado</span>{% endif %}<br>
                                            <b>Fin: </b>{% if eDetalleDir and eDetalleDir.fin %}
                                            {{ eDetalleDir.fin|date:"d-m-Y" }}{% else %}
                                            <span style="color: red">No configurado</span>{% endif %}<br>
                                            <b>Estado: </b>
                                            {% if eDetalleDir and eDetalleDir.inicio and eDetalleDir.fin %}
                                                {% fecha_vencida eModulo.materia 3 as estadofechadir %}
                                                {% if estadofechadir %}
                                                    <span style="color: blue">Finalizada</span>{% else %}
                                                    <span style="color: orange">En curso</span>{% endif %}
                                            {% else %}
                                                <span style="color: red">No configurado</span>
                                            {% endif %}
                                            <br>
                                            <b>¿Evaluado por director?: </b>
                                            {% if eDetalleDir and eDetalleDir.inicio and eDetalleDir.fin %}
                                                {% evaluo_director eModulo as evaluo_dir %}
                                                {% if evaluo_dir %}
                                                    <span style="color: blue">Si</span>{% else %}
                                                    <span style="color: orange">No</span>{% endif %}
                                            {% else %}
                                                <span style="color: red">No configurado</span>
                                            {% endif %}
                                            <br>
                                            <b>¿Evaluado por coordinador?: </b>
                                            {% if eDetalleDir and eDetalleDir.inicio and eDetalleDir.fin %}
                                                {% evaluo_coordinador eModulo as evaluo_coor %}
                                                {% if evaluo_coor %}
                                                    <span style="color: blue">Si</span>{% else %}
                                                    <span style="color: orange">No</span>{% endif %}
                                            {% else %}
                                                <span style="color: red">No configurado</span>
                                            {% endif %}
                                        </p>
                                    </details>
                                {% endif %}
                                {% if perms.posgrado.puede_planificar_fechas_satis %}
                                    <details>
                                        <summary>
                                            <i class="fa fa-chevron-right text-black-50" style="font-size: 9px"></i>
                                            Encuestas de satisfacción
                                        </summary>
                                        <p class="ps-2" style="font-size: 12px; line-height: 1.5">
                                            {% for eIns in eModulo.materia.inscripciones_sa %}
                                                <b>{{ eIns.encuesta|title }}</b><br>
                                                <b>Inicio: </b>{{ eIns.inicio|date:"d-m-Y" }}<br>
                                                <b>Fin: </b>{{ eIns.fin|date:"d-m-Y" }}<br>
                                                <b>Estado: </b>{% if eIns.estado_eval %}
                                                <span style="color: orange">En curso</span>{% else %}
                                                <span style="color: blue">Finalizada</span>{% endif %}<br>
                                                <b>¿Realizó encuesta?: </b>{% if eIns.respondio %}
                                                <span style="color: blue">Si</span>{% else %}
                                                <span style="color: orange">No</span>{% endif %}
                                            {% empty %}
                                                <p style="font-weight: bold" class="mt-2">No existen encuestas de
                                                    satisfacción configuradas para este módulo</p>
                                            {% endfor %}
                                        </p>
                                    </details>
                                    <br>
                                {% endif %}
                                {% if perms.posgrado.puede_planificar_fechas_satis_est %}
                                    <details>
                                        <summary>
                                            <i class="fa fa-chevron-right text-black-50" style="font-size: 9px"></i>
                                            Encuestas de satisfacción de estudiantes
                                        </summary>
                                        <p class="ps-2" style="font-size: 12px; line-height: 1.5">
                                            {% encuestas_configuradas eModulo.materia as eEncuestasEst %}
                                            {% if eEncuestasEst %}
                                                {% for eEncuestaEst in eEncuestasEst %}
                                                    {% obj_satis_est eModulo.materia eEncuestaEst as eObjIns %}
                                                    <b>{{ eObjIns.encuesta|title }}</b><br>
                                                    <b>Inicio: </b>{{ eObjIns.inicio|date:"d-m-Y" }}<br>
                                                    <b>Fin: </b>{{ eObjIns.fin|date:"d-m-Y" }}<br>
                                                    <b>Estado: </b>{% if eObjIns.estado_eval %}
                                                    <span style="color: orange">En curso</span>{% else %}
                                                    <span style="color: blue">Finalizada</span>{% endif %}<br>
                                                    {% cantidad_satis eObjIns 0 as ePen %}
                                                    <b>Pendientes: </b>{{ ePen }}<br>
                                                    {% cantidad_satis eObjIns 1 as eEje %}
                                                    <b>Ejecutadas: </b>{{ eEje }}<br>
                                                {% endfor %}
                                            {% else %}
                                                <p style="font-weight: bold" class="mt-2">No existen encuestas de
                                                    satisfacción configuradas para este módulo</p>
                                            {% endif %}
                                        </p>
                                    </details>
                                {% endif %}
                                {% if perms.posgrado.puede_procesar_resultados %}
                                    {% fecha_procesado_resultados eModulo as eProcesado %}
                                    {% if eProcesado and eProcesado.procesado %}
                                        <span style="color: deepskyblue; font-weight: bold">Procesado el {{ eProcesado.fecha_creacion|date:'d-m-Y' }} a las {{ eProcesado.fecha_creacion|time:'h:i a' }}, Evaluados Hetero: {{ eProcesado.total }}, Auto:
                                            {% if eProcesado.auto %}SI{% else %}NO{% endif %}, Director:
                                            {% if eProcesado.director %}SI{% else %}NO{% endif %}, Coordinador:
                                            {% if eProcesado.coordinador %}SI{% else %}NO{% endif %}</span>
                                    {% else %}
                                        <span style="color: red; font-weight: bold">No ha procesado los resultados</span>
                                    {% endif %}
                                {% endif %}
                            </td>
                            <td class="text-center">
                                {{ eModulo.materia.inicio|date:'d-m-Y' }}
                            </td>
                            <td class="text-center">
                                {{ eModulo.materia.fin|date:'d-m-Y' }}
                            </td>
                            <td class="text-center">
                                {% if perms.posgrado.puede_planificar_fechas_hetero %}
                                    {% if eModulo.materia.inicioeval and eModulo.materia.fineval %}
                                        <span class="badge bg-info tu" title="Heteroevaluación configurada"> Configuró Hetero</span>
                                    {% else %}
                                        <span class="badge bg-danger tu" title="Heteroevaluación NO configurada">Sin hetero</span>
                                    {% endif %}
                                    <br>
                                {% endif %}
                                {% if perms.posgrado.puede_planificar_fechas_auto %}
                                    {% if eModulo.materia.inicioevalauto and eModulo.materia.finevalauto %}
                                        <span class="badge bg-primary tu" title="Autoevaluación configurada"> Configuró Auto</span>
                                    {% else %}
                                        <span class="badge bg-danger tu"
                                              title="Autoevaluación NO configurada">Sin Auto</span>
                                    {% endif %}
                                    <br>
                                {% endif %}
                                {% if perms.posgrado.puede_planificar_fechas_dir %}
                                    {% object_dir eModulo as eDetalleDir2 %}
                                    {% if eDetalleDir2 and eDetalleDir2.inicio and eDetalleDir2.fin %}
                                        <span class="badge bg-success tu" title="Evaluación de directivos configurada"> Configuró Directivos</span>
                                    {% else %}
                                        <span class="badge bg-danger tu"
                                              title="Evaluación de directivos NO configurada">Sin Directivos</span>
                                    {% endif %}
                                {% endif %}

                                {% if perms.posgrado.puede_planificar_fechas_satis_est %}
                                    {% encuestas_configuradas eModulo.materia as eEncuestasEst2 %}
                                    {% if eEncuestasEst2 %}
                                        <span class="badge bg-success tu" title="Evaluación de directivos configurada"> Planificada</span>
                                    {% else %}
                                        <span class="badge bg-danger tu"
                                              title="Evaluación de directivos NO configurada"> No planificada</span>
                                    {% endif %}
                                {% endif %}
                            </td>
                            <td class="text-center">
                                <div class="dropbottom">
                                    <a href="javascript:void(0);"
                                       class="btn-icon btn btn-ghost btn-sm rounded-circle"
                                       data-bs-toggle="dropdown" data-offset="-140" aria-haspopup="true"
                                       aria-expanded="false">
                                        <i class="fa fa-ellipsis-v text-black-50 fs-6"></i>
                                    </a>
                                    <ul class="dropdown-menu" x-placement="right-start">
                                        <span class="dropdown-header">ACCIONES</span>
                                        {% if perms.posgrado.puede_planificar_fechas_hetero %}
                                            <li class="dropdown-item">
                                                <a href='javascript:;'
                                                   onclick="formModal('{{ eModulo.materia.id }}','Planificar fechas de Heteroevaluación para {{ eModulo.materia }}','editfechashetero', true)">
                                                    <i class="fa fa-calendar"></i> Planificar fechas de Heteroevaluación
                                                </a>
                                            </li>
                                        {% endif %}
                                        {% if perms.posgrado.puede_planificar_fechas_auto %}
                                            <li class="dropdown-item">
                                                <a href='javascript:;'
                                                   onclick="formModal('{{ eModulo.materia.id }}','Planificar fechas de Autoevaluación para {{ eModulo.materia }}','editfechasauto', true)">
                                                    <i class="fa fa-calendar"></i> Planificar fechas de Autoevaluación
                                                </a>
                                            </li>
                                        {% endif %}
                                        {% if perms.posgrado.puede_planificar_fechas_dir %}
                                            <li class="dropdown-item">
                                                <a href='javascript:;'
                                                   onclick="formModal('{{ eModulo.id }}','Planificar fechas de Evaluación de directivos para {{ eModulo.materia }}','editfechasdir', true)">
                                                    <i class="fa fa-calendar"></i> Planificar fechas de Evaluación de
                                                    directivos
                                                </a>
                                            </li>
                                        {% endif %}
                                        {% if perms.posgrado.puede_planificar_fechas_satis %}
                                            <li class="dropdown-item">
                                                <a href='javascript:;'
                                                   onclick="formModal('{{ eModulo.id }}','Planificar fechas de Encuesta de satisfacción para {{ eModulo.materia }}','addfechassatis', true)">
                                                    <i class="fa fa-calendar"></i> Planificar fechas de Encuestas de
                                                    satisfacción
                                                </a>
                                            </li>
                                        {% endif %}
                                        {% if perms.posgrado.puede_planificar_fechas_satis_est %}
                                            <li class="dropdown-item">
                                                <a href='javascript:;'
                                                   onclick="formModal('{{ eModulo.id }}','Planificar fechas de Encuesta de satisfacción para {{ eModulo.materia }}','addfechassatis_est', true)">
                                                    <i class="fa fa-calendar"></i> Planificar Encuestas de satisfacción
                                                    (Estudiantes)
                                                </a>
                                            </li>
                                            <li class="dropdown-item">
                                                <a href='/adm_evaluacionposgrado?action=verevaluadoressatisfaccion&idm={{ eModulo.id }}'>
                                                    <i class="fa fa-users"></i> Ver evaluadores (satisfacción)
                                                </a>
                                            </li>
                                            <li class="dropdown-item">
                                                <a href="/adm_evaluacionposgrado?action=resultadossatisfaccion_mate&id={{ eModulo.materia.id }}"><i
                                                        class="fa fa-download"></i> Resultados</a>
                                            </li>
                                        {% endif %}
                                        {% if perms.posgrado.puede_procesar_resultados %}
                                            <li class="dropdown-item"><a href='javascript:;'
                                                                         onclick="procesar_resultados('{{ eModulo.id }}', '{{ eModulo.materia|upper }}', 'procesar_resultados')"><span
                                                    class="fa fa-cog"></span> Procesar resultados</a>
                                            </li>
                                            <li class="dropdown-item">
                                                <a href='javascript:;'
                                                   onclick="formModal('{{ eModulo.id }}','Resultados de evaluación para {{ eModulo.materia }}','verresultadosevaluacion', false)">
                                                    <i class="fa fa-bar-chart"></i> Ver resultados
                                                </a>
                                            </li>
                                            <li class="dropdown-item"><a class="generarinformeevaluacionipec2"
                                                                         href="javascript:;"
                                                                         idmat="{{ eModulo.materia.id }}"><i
                                                    class="fa fa-print"></i> Resultados Evaluación Integral Posgrado</a>
                                            </li>
                                        {% endif %}
                                        {% if perms.posgrado.puede_planificar_fechas_hetero %}
                                            <li class="dropdown-item">
                                                <a href='/adm_evaluacionposgrado?action=verevaluadores&idm={{ eModulo.id }}'>
                                                    <i class="fa fa-users"></i> Ver evaluadores
                                                </a>
                                            </li>
                                        {% endif %}
                                    </ul>
                                </div>
                            </td>
                        </tr>
                    {% empty %}
                        <td colspan="15">NO EXISTEN REGISTROS</td>
                    {% endfor %}
                    </tbody>
                </table>
                {% include 'paginacionb4.html' %}
            </div>
        </div>
    </div>

    <div class="modal fade static" id="itemspanel" style="display: none;">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4><b class="paneltitle">FORMULARIO MODAL</b></h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                    </button>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal form-modal" autocomplete="off" method="post"
                          enctype="multipart/form-data" action="{{ request.path }}">
                        {% csrf_token %}
                        <div class="row panelbody">
                        </div>
                    </form>
                </div>
                <div class="modal-footer" id="footermodal">
                    <button type="button" class="btn btn-warning" data-bs-dismiss="modal"><i class="fa fa-times"></i> Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade static" id="itemspanelreport4" style="display: none;">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4><b class="paneltitle">Reporte cursos cerrados</b></h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                    </button>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal form-modal" autocomplete="off" method="post"
                          enctype="multipart/form-data" action="{{ request.path }}">
                        {% csrf_token %}
                        <div class="row panelbody">
                            <fieldset id="fieldset_id_cohortes4" class="col-lg-12">
                                <label class="control-label" for="id_cohorte4"><b>Cohortes:<span
                                        class="text-danger">*</span>:</b></label>
                                <select name="cohortes4" class="form-control select2-hidden-accessible"
                                        id="id_cohorte4" multiple="" tabindex="-1" aria-hidden="true"
                                        style="width: 100%">
                                </select>
                            </fieldset>

                            <fieldset id="fieldset_id_fecha_desde4" class="col-lg-6">
                                <label class="control-label" for="id_fecha_desde4"><b>Fecha desde:</b></label>
                                <input id="id_fecha_desde4" type="date" value="" class="form-control">
                                <p class="help-text"></p>
                            </fieldset>
                            <fieldset id="fieldset_id_fecha_hasta4" class="col-lg-6">
                                <label class="control-label" for="id_fecha_hasta4"><b>Fecha hasta:</b></label>
                                <input id="id_fecha_hasta4" type="date" value="" class="form-control">
                                <p class="help-text"></p>
                            </fieldset>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <div class="row-fluid mt-3">
                        <div style="text-align: right; float: left; width: 100%">
                            <a href="javascript:void(0)" class="btn btn-success " id="descargar_reporte_cursos_cerrados"><i
                                    class="fa fa-plus"></i> Descargar</a>
                            <a href="javascript:;" class="btn btn-danger" data-bs-dismiss="modal"><i
                                    class="fa fa-times-circle"></i> Cancelar</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade static" id="itemspanelreport5" style="display: none;">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4><b class="paneltitle">Reporte periodos posgrado</b></h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                    </button>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal form-modal" autocomplete="off" method="post"
                          enctype="multipart/form-data" action="{{ request.path }}">
                        {% csrf_token %}
                        <div class="row panelbody">
                            <fieldset id="fieldset_id_cohortes5" class="col-lg-12">
                                <label class="control-label" for="id_cohorte5"><b>Cohortes:<span
                                        class="text-danger">*</span>:</b></label>
                                <select name="cohortes5" class="form-control select2-hidden-accessible"
                                        id="id_cohorte5" multiple="" tabindex="-1" aria-hidden="true"
                                        style="width: 100%">
                                </select>
                            </fieldset>

                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <div class="row-fluid mt-3">
                        <div style="text-align: right; float: left; width: 100%">
                            <a href="javascript:void(0)" class="btn btn-success " id="descargar_reporte_periodos_posgrado"><i
                                    class="fa fa-plus"></i> Descargar</a>
                            <a href="javascript:;" class="btn btn-danger" data-bs-dismiss="modal"><i
                                    class="fa fa-times-circle"></i> Cancelar</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade static" id="itemspanelreport6" style="display: none;">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4><b class="paneltitle">Reporte docentes posgrado</b></h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                    </button>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal form-modal" autocomplete="off" method="post"
                          enctype="multipart/form-data" action="{{ request.path }}">
                        {% csrf_token %}
                        <div class="row panelbody">
                            <fieldset id="fieldset_id_cohortes6" class="col-lg-12">
                                <label class="control-label" for="id_cohorte6"><b>Cohortes:<span
                                        class="text-danger">*</span>:</b></label>
                                <select name="cohortes6" class="form-control select2-hidden-accessible"
                                        id="id_cohorte6" multiple="" tabindex="-1" aria-hidden="true"
                                        style="width: 100%">
                                </select>
                            </fieldset>

                            <fieldset id="fieldset_id_fecha_desde6" class="col-lg-6">
                                <label class="control-label" for="id_fecha_desde6"><b>Fecha desde:</b></label>
                                <input id="id_fecha_desde6" type="date" value="" class="form-control">
                                <p class="help-text"></p>
                            </fieldset>
                            <fieldset id="fieldset_id_fecha_hasta6" class="col-lg-6">
                                <label class="control-label" for="id_fecha_hasta6"><b>Fecha hasta:</b></label>
                                <input id="id_fecha_hasta6" type="date" value="" class="form-control">
                                <p class="help-text"></p>
                            </fieldset>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <div class="row-fluid mt-3">
                        <div style="text-align: right; float: left; width: 100%">
                            <a href="javascript:void(0)" class="btn btn-success "
                               id="descargar_reporte_docentes_posgrado"><i
                                    class="fa fa-plus"></i> Descargar</a>
                            <a href="javascript:;" class="btn btn-danger" data-bs-dismiss="modal"><i
                                    class="fa fa-times-circle"></i> Cancelar</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}
