{% extends "basebs.html" %}
{% load sga_extras %}
{% block heading %}
    <script type="text/javascript" src='/static/js/select2.js?v=1.0.0'></script>
    <link type='text/css' rel='stylesheet' href="/static/css/select2.css?v=1.0.0"/>

    <script src="https://kit.fontawesome.com/a96c5b6f8d.js" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css"/>

    <script>
        $(function () {
            let inputfirma = document.getElementById('periodogroup15');
			inputfirma.style.display = 'none';

            let inputfirmaperi = document.getElementById('periodogroup14');
			inputfirmaperi.style.display = 'none';


            $("select").select2({minimumResultsForSearch: 10});
            $(".anio").change(function () {
                var valor = $(this).val();
                bloqueointerface();
                location.href = '/descargaarchivo?anio=' + valor;
            });
            var tabcontratos = localStorage.getItem('tabcontratos');
            if (!tabcontratos) {
                tabcontratos = "#1";
                localStorage.setItem("tabcontratos", tabcontratos);
            }
            $('.tabs').each(function () {
                if ($(this).attr('href') == tabcontratos) {
                    $(this).trigger('click');
                }
            }).click(function () {
                localStorage.setItem("tabcontratos", $(this).attr('href'));
            });
            $(".matrizestudiantes_anio").click(function () {
                bloqueointerface();
                $.post("/descargaarchivo", {'action': 'matrizestudiantes_anio'}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".paneltitleaniogeneral").html(data.title);
                        $(".panelbodyaniogeneral").html(data.html);
                        $(".itemspanelaniogeneral").modal({backdrop: 'static', width: '620px'}).modal('show');
                    }
                }, 'json');
            });
            $(".estudiantesfechaprimernivel").click(function () {
                bloqueointerface();
                $.post("/descargaarchivo", {'action': 'estudiantesfechaprimernivel'}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".paneltitleaniogeneral").html(data.title);
                        $(".panelbodyaniogeneral").html(data.html);
                        $(".itemspanelaniogeneral").modal({backdrop: 'static', width: '620px'}).modal('show');
                    }
                }, 'json');
            });
            $(".matrizestudiantesipec_anio").click(function () {
                bloqueointerface();
                $.post("/descargaarchivo", {'action': 'matrizestudiantesipec_anio'}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $.unblockUI();
                        $(".paneltitleaniogeneral").html(data.title);
                        $(".panelbodyaniogeneral").html(data.html);
                        $(".itemspanelaniogeneral").modal({backdrop: 'static', width: '620px'}).modal('show');
                    }
                }, 'json');
            });
            $(".matrizgraduados_anio").click(function () {
                bloqueointerface();
                $.post("/descargaarchivo", {'action': 'matrizgraduados_anio'}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $.unblockUI();
                        $(".paneltitleaniogeneral").html(data.title);
                        $(".panelbodyaniogeneral").html(data.html);
                        $(".itemspanelaniogeneral").modal({backdrop: 'static', width: '620px'}).modal('show');
                    }
                }, 'json');
            });

            $(".matrizgraduados_anio2").click(function () {
                bloqueointerface();
                $.post("/descargaarchivo", {'action': 'matrizgraduados_anio2'}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $.unblockUI();
                        $(".paneltitleaniogeneral").html(data.title);
                        $(".panelbodyaniogeneral").html(data.html);
                        $(".itemspanelaniogeneral").modal({backdrop: 'static', width: '620px'}).modal('show');
                    }
                }, 'json');
            });
            $(".matrizpracticaspreprofesionales_anio").click(function () {
                bloqueointerface();
                $.post("/descargaarchivo", {'action': 'matrizpracticaspreprofesionales_anio'}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".paneltitleaniogeneral").html(data.title);
                        $(".panelbodyaniogeneral").html(data.html);
                        $(".itemspanelaniogeneral").modal({backdrop: 'static', width: '620px'}).modal('show');
                    }
                }, 'json');
            });
            $('.matrizestudiantes_periodo').click(function () {
                bloqueointerface();
                $.post("/descargaarchivo", {'action': 'matrizestudiantes_periodo'}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".paneltitleperiodogeneral").html(data.title);
                        $(".panelbodyperiodogeneral").html(data.html);
                        $(".itemspanelperidogeneral").modal({backdrop: 'static', width: '620px'}).modal('show');
                    }
                }, 'json');
            });
            $('.matrizprofesoresdistributivo_periodo').click(function () {
                bloqueointerface();
                $.post("/descargaarchivo", {'action': 'matrizprofesoresdistributivo_periodo'}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".paneltitleperiodogeneral").html(data.title);
                        $(".panelbodyperiodogeneral").html(data.html);
                        $(".itemspanelperidogeneral").modal({backdrop: 'static', width: '620px'}).modal('show');
                    }
                }, 'json');
            });

            $(".matrizprofesorescontrato_anio").click(function () {
                bloqueointerface();
                $.post("/descargaarchivo", {'action': 'matrizprofesorescontrato_anio'}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".paneltitleaniogeneral").html(data.title);
                        $(".panelbodyaniogeneral").html(data.html);
                        $(".itemspanelaniogeneral").modal({backdrop: 'static', width: '620px'}).modal('show');
                    }
                }, 'json');
            });
            $(".matrizestudiantesprimernivel").click(function () {
                bloqueointerface();
                $.post("/descargaarchivo", {'action': 'matrizestudiantesprimernivel'}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".paneltitleperiodogeneral").html(data.title);
                        $(".panelbodyperiodogeneral").html(data.html);
                        $(".itemspanelperidogeneral").modal({backdrop: 'static', width: '620px'}).modal('show');
                    }
                }, 'json');
            });
            $(".matrizanalisisestudiantes").click(function () {
                bloqueointerface();
                $.post("/descargaarchivo", {'action': 'matrizanalisisestudiantes'}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".paneltitleperiodogeneral").html(data.title);
                        $(".panelbodyperiodogeneral").html(data.html);
                        $(".itemspanelperidogeneral").modal({backdrop: 'static', width: '620px'}).modal('show');
                    }
                }, 'json');
            });
            $(".matrizanalisisperiodoacademico").click(function () {
                bloqueointerface();
                $.post("/descargaarchivo", {'action': 'matrizanalisisperiodoacademico'}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".paneltitleperiodogeneral").html(data.title);
                        $(".panelbodyperiodogeneral").html(data.html);
                        $(".itemspanelperidogeneral").modal({backdrop: 'static', width: '620px'}).modal('show');
                    }
                }, 'json');
            })
            $(".importar").click(function () {
                bloqueointerface();
                $.get("/descargaarchivo", {'action': 'importar'}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                    }
                }, 'json');

            });

            $(".resumen_matricula_carrera").click(function () {
                $("#itemspanelresumen").modal({"backdrop": "static", "width": "1000px"}).modal("show");
            });

            //REPORTES DE POSGRADO
            $("#matriculadosposgrado_anio").click(function () {
                bloqueointerface();
                $.post("/descargaarchivo", {'action': 'matriculadosposgrado_anio'}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".paneltitleaniogeneral").html(data.title);
                        $(".panelbodyaniogeneral").html(data.html);
                        $(".itemspanelaniogeneral").modal({backdrop: 'static', width: '620px'}).modal('show');
                    }
                }, 'json');
            });

            $("#estudiantesposgrado_anio").click(function () {
                bloqueointerface();
                $.post("/descargaarchivo", {'action': 'estudiantesposgrado_anio'}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".paneltitleaniogeneral").html(data.title);
                        $(".panelbodyaniogeneral").html(data.html);
                        $(".itemspanelaniogeneral").modal({backdrop: 'static', width: '620px'}).modal('show');
                    }
                }, 'json');
            });

            $("#periodosposgrado_anio").click(function () {
                bloqueointerface();
                $.post("/descargaarchivo", {'action': 'periodosposgrado_anio'}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".paneltitleaniogeneral").html(data.title);
                        $(".panelbodyaniogeneral").html(data.html);
                        $(".itemspanelaniogeneral").modal({backdrop: 'static', width: '620px'}).modal('show');
                    }
                }, 'json');
            });

            $("#graduadosposgrado_anio").click(function () {
                bloqueointerface();
                $.post("/descargaarchivo", {'action': 'graduadosposgrado_anio'}, function (data) {
                    if (data.result == 'ok') {
                        $.unblockUI();
                        $(".paneltitleaniogeneral").html(data.title);
                        $(".panelbodyaniogeneral").html(data.html);
                        $(".itemspanelaniogeneral").modal({backdrop: 'static', width: '620px'}).modal('show');
                    }
                }, 'json');
            });

            $('.reporte_matricula_posgrado').click(function () {
                $('#modal_reportes13').modal({backdrop: 'static', width: '450px'}).modal('show');
                $('#maestriagroup13').fadeIn();
                $('#periodogroup13').fadeIn();
                $('#id_maestria13').empty().append('<option value="0">TODAS LAS MAESTRÍAS</option>').val(0).trigger("change");

                $.ajax({
                    type: "GET",
                    url: `{{ request.path }}`,
                    data: {'action': 'cargar_carrera'},
                    success: function (data) {
                        if (data.result == 'ok') {
                            for (elemento in data.lista) {
                                $('#id_maestria13').append('<option value="' + data.lista[elemento].id + '">' + data.lista[elemento].id + ' - ' + data.lista[elemento].nombre + '</option>');
                            }
                        } else {
                            smoke.alert(data.mensaje);
                        }
                    },
                    error: function () {
                        smoke.alert("Error de conexion.");
                    },
                    dataType: "json"
                });

            });

            $('#descargar_reporte_matricula_posgrado').click(function () {
                var maestria = $('#id_maestria13').val();
                var periodo = $('#id_periodo13').val();

                openwindow('GET', '/descargaarchivo', {
                    action: 'reportematriculadoscohortes',
                    'maestria': maestria,
                    'periodo': periodo}, '_blank');

                $('#modal_reportes13').modal('hide');
            });

            $('#id_maestria13').change(function () {
                $('#id_periodo13').empty().append('<option value="0">TODOS</option>').val(0).trigger("change");
                id = $(this).val();
                if (id.length > 0 && id > 0) {
                    $.post("/descargaarchivo", {'action': 'selectperiodo', 'id': id}, function (data) {
                        $.unblockUI();
                        if (data.result == 'ok') {
                            for (elemento in data.lista) {
                                $('#id_periodo13').append('<option value="' + data.lista[elemento][0] + '">' + data.lista[elemento][1] + '</option>');
                            }
                        }
                    }, 'json');
                }
            });

            $('.reporte_matricula_periodo_posgrado').click(function () {
                $('#modal_reportes14').modal({backdrop: 'static', width: '650px'}).modal('show');
                $('#maestriagroup14').fadeIn();
                $('#id_maestria14').empty().append('<option value="0">TODAS LAS MAESTRÍAS</option>').val(0).trigger("change");

                $.ajax({
                    type: "GET",
                    url: `{{ request.path }}`,
                    data: {'action': 'cargar_carrera'},
                    success: function (data) {
                        if (data.result == 'ok') {
                            for (elemento in data.lista) {
                                $('#id_maestria14').append('<option value="' + data.lista[elemento].id + '">' + data.lista[elemento].id + ' - ' + data.lista[elemento].nombre + '</option>');
                            }
                        } else {
                            smoke.alert(data.mensaje);
                        }
                    },
                    error: function () {
                        smoke.alert("Error de conexion.");
                    },
                    dataType: "json"
                });

                $('#id_periodo14').empty().append('<option value="0">TODAS LOS PERIODOS</option>').val(0).trigger("change");

                $.ajax({
                    type: "GET",
                    url: `{{ request.path }}`,
                    data: {'action': 'cargar_periodo'},
                    success: function (data) {
                        if (data.result == 'ok') {
                            for (elemento in data.lista) {
                                $('#id_periodo14').append('<option value="' + data.lista[elemento].id + '">' + data.lista[elemento].id + ' - ' + data.lista[elemento].nombre + '</option>');
                            }
                        } else {
                            smoke.alert(data.mensaje);
                        }
                    },
                    error: function () {
                        smoke.alert("Error de conexion.");
                    },
                    dataType: "json"
                });
            });

            $('#descargar_reporte_matricula_periodo_posgrado').click(function () {
                var maestria = $('#id_maestria14').val();
                var anio = $('#id_anio14').val();
                var periodo = $('#id_periodo14').val();

                $.ajax({
                    type: "GET",
                    url: "/descargaarchivo",
                    data: {'action': 'excelmatriculadosposgrado2',
                           'anio': anio,
                           'maestria': maestria,
                           'periodo':periodo},
                    success: function (data) {
                        if (data.result) {
                            mensajeSuccess(data.mensaje)
                        } else {
                            mensajeWarning(data.mensaje)
                        }
                    },
                    error: function () {
                        mensajeErrorSwal("Error de conexion.");
                    },
                    dataType: "json"
                });

                $('#modal_reportes14').modal('hide');
            });

            $('.reporte_estudiantes_posgrado').click(function () {
                $('#modal_reportes15').modal({backdrop: 'static', width: '650px'}).modal('show');
                $('#maestriagroup15').fadeIn();
                $('#id_maestria15').empty().append('<option value="0">TODAS LAS MAESTRÍAS</option>').val(0).trigger("change");

                $.ajax({
                    type: "GET",
                    url: `{{ request.path }}`,
                    data: {'action': 'cargar_carrera'},
                    success: function (data) {
                        if (data.result == 'ok') {
                            for (elemento in data.lista) {
                                $('#id_maestria15').append('<option value="' + data.lista[elemento].id + '">' + data.lista[elemento].id + ' - ' + data.lista[elemento].nombre + '</option>');
                            }
                        } else {
                            smoke.alert(data.mensaje);
                        }
                    },
                    error: function () {
                        smoke.alert("Error de conexion.");
                    },
                    dataType: "json"
                });

                $('#id_periodo15').empty().append('<option value="0">TODAS LOS PERIODOS</option>').val(0).trigger("change");

                $.ajax({
                    type: "GET",
                    url: `{{ request.path }}`,
                    data: {'action': 'cargar_periodo'},
                    success: function (data) {
                        if (data.result == 'ok') {
                            for (elemento in data.lista) {
                                $('#id_periodo15').append('<option value="' + data.lista[elemento].id + '">' + data.lista[elemento].id + ' - ' + data.lista[elemento].nombre + '</option>');
                            }
                        } else {
                            smoke.alert(data.mensaje);
                        }
                    },
                    error: function () {
                        smoke.alert("Error de conexion.");
                    },
                    dataType: "json"
                });

            });

            $('#descargar_reporte_estudiantes_posgrado').click(function () {
                var maestria = $('#id_maestria15').val();
                var anio = $('#id_anio15').val();
                var periodo = $('#id_periodo15').val();

                $.ajax({
                    type: "GET",
                    url: "/descargaarchivo",
                    data: {'action': 'excelestudiantesposgrado2',
                           'anio': anio,
                           'maestria': maestria,
                           'periodo':periodo},
                    success: function (data) {
                        if (data.result) {
                            mensajeSuccess(data.mensaje)
                        } else {
                            mensajeWarning(data.mensaje)
                        }
                    },
                    error: function () {
                        mensajeErrorSwal("Error de conexion.");
                    },
                    dataType: "json"
                });

                $('#modal_reportes15').modal('hide');
            });

            $('.reporte_periodos_posgrado').click(function () {
                $('#modal_reportes17').modal({backdrop: 'static', width: '450px'}).modal('show');
                $('#maestriagroup17').fadeIn();
                $('#id_maestria17').empty().append('<option value="0">TODAS LAS MAESTRÍAS</option>').val(0).trigger("change");

                $.ajax({
                    type: "GET",
                    url: `{{ request.path }}`,
                    data: {'action': 'cargar_carrera'},
                    success: function (data) {
                        if (data.result == 'ok') {
                            for (elemento in data.lista) {
                                $('#id_maestria17').append('<option value="' + data.lista[elemento].id + '">' + data.lista[elemento].id + ' - ' + data.lista[elemento].nombre + '</option>');
                            }
                        } else {
                            smoke.alert(data.mensaje);
                        }
                    },
                    error: function () {
                        smoke.alert("Error de conexion.");
                    },
                    dataType: "json"
                });

            });

            $('#descargar_reporte_periodos_posgrado').click(function () {
                var maestria = $('#id_maestria17').val();
                var anio = $('#id_anio17').val();
                openwindow('GET', '/descargaarchivo', {
                    action: 'excelperiodosposgrado2',
                    'maestria': maestria,
                    'anio':anio}, '_blank');

                $('#modal_reportes17').modal('hide');
            });

            $('.reporte_graduados_posgrado').click(function () {
                $('#modal_reportes16').modal({backdrop: 'static', width: '450px'}).modal('show');
                $('#maestriagroup16').fadeIn();
                $('#id_maestria16').empty().append('<option value="0">TODAS LAS MAESTRÍAS</option>').val(0).trigger("change");

                $.ajax({
                    type: "GET",
                    url: `{{ request.path }}`,
                    data: {'action': 'cargar_carrera'},
                    success: function (data) {
                        if (data.result == 'ok') {
                            for (elemento in data.lista) {
                                $('#id_maestria16').append('<option value="' + data.lista[elemento].id + '">' + data.lista[elemento].id + ' - ' + data.lista[elemento].nombre + '</option>');
                            }
                        } else {
                            smoke.alert(data.mensaje);
                        }
                    },
                    error: function () {
                        smoke.alert("Error de conexion.");
                    },
                    dataType: "json"
                });

            });

            $('#descargar_reporte_graduados_posgrado').click(function () {
                var maestria = $('#id_maestria16').val();
                var anio = $('#id_anio16').val();

                $.ajax({
                    type: "GET",
                    url: "/descargaarchivo",
                    data: {'action': 'excelgraduados2',
                           'anio': anio,
                           'maestria': maestria},
                    success: function (data) {
                        if (data.result) {
                            mensajeSuccess(data.mensaje)
                        } else {
                            mensajeWarning(data.mensaje)
                        }
                    },
                    error: function () {
                        mensajeErrorSwal("Error de conexion.");
                    },
                    dataType: "json"
                });

                $('#modal_reportes16').modal('hide');
            });

        });

        function cambiarval() {
            let inputfirma = document.getElementById('periodogroup15');
            let inputfirma2 = document.getElementById('id_chekealo');
            let inputfirma3 = document.getElementById('maestriagroup15')

            if (inputfirma2.checked) {
    			inputfirma.style.display = '';
    			inputfirma3.style.display = 'none';
            } else {
    			inputfirma.style.display = 'none';
    			inputfirma3.style.display = '';
            }
            console.log(inputfirma2.checked)
        }

        function cambiarval2() {
            let inputfirma = document.getElementById('periodogroup14');
            let inputfirma2 = document.getElementById('id_chekealo2');
            let inputfirma3 = document.getElementById('maestriagroup14')

            if (inputfirma2.checked) {
    			inputfirma.style.display = '';
    			inputfirma3.style.display = 'none';
            } else {
    			inputfirma.style.display = 'none';
    			inputfirma3.style.display = '';
            }
            console.log(inputfirma2.checked)
        }

        function reporteModal(text, action, footer = true) {
            $('.panelreporteform').empty();
            bloqueointerface();
            $.ajax({
                type: "GET",
                url: `{{ request.path }}`,
                data: {
                    'action': action,
                },
                success: function (data) {
                    $.unblockUI();
                    if (data.result === true) {
                        if (footer === true) {
                            $('#footermodalreporte').hide();
                        }
                        $('.panelreporteform').html(data.data);
                        $('#itemreporteform .paneltitlereporteform').html(text);
                        $("#itemreporteform").modal({backdrop: 'static'}).modal('show');
                    } else {
                        smoke.alert(data.mensaje);
                    }
                },
                error: function () {
                    $.unblockUI();
                    smoke.alert("Error de conexión.");
                },
                dataType: "json"
            });
        }

        $(function () {
            $("select").select2({width: '100%'});
            $.fn.select2.defaults.set('language', 'es');
            $(".select2hidden").each(function () {
                var id = $(this).attr("id");
                $("#" + id + "_select2").html('<option>' + $(this).attr("descripcion") + '</option>').trigger('change');
            });

            $('#filtro_sexo').on('click', function () {
                $('#modal_sexo').modal({backdrop: 'static', width: '620px'}).modal('show');
                $('#sexo_group').fadeIn();
            });

            $('#filtro_formacion').on('click', function () {
                $('#modal_formacion').modal({backdrop: 'static', width: '620px'}).modal('show');
                $('#formacion_group').fadeIn();
            });

            $('#download_report_cargos_academicos_directivos').click(function () {
                let sexo = $('#id_sexo').val();
                let url = '{{ request.path }}?action=cargos_academicos_directivos';
                console.log(sexo);
                url += '&sexo=' + sexo;
                window.location.href = url

                $('#modal_sexo').modal('hide');
            });

            $('#download_report_profesores_formacion').click(function () {
                let formacion = $('#id_formacion').val();
                let url = ''
                if (formacion == 1) {
                    url = '{{ request.path }}?action=matrizprofesorformacionencurso';
                } else if (formacion == 2) {
                    url = '{{ request.path }}?action=matrizprofesorformacionterminada';
                }

                console.log(formacion);
                {#url += '&formacion=' + formacion;#}
                window.location.href = url;

                $('#modal_formacion').modal('hide');
            });

            $('#btn_reporte_ponencias').on('click', function () {
                $('#modal_reporte_ponencias').modal({backdrop: 'static', width: '500px'}).modal('show');
                $('.coordinacion_select').val(null).trigger('change');
                $('.persona_select').val(null).trigger('change');
            });

            $('#btn_reporte_publicaciones').on('click', function () {
                $('#modal_reporte_publicaciones').modal({backdrop: 'static', width: '500px'}).modal('show');
                $('.coordinacion_select').val(null).trigger('change');
                $('.persona_select').val(null).trigger('change');
            });

            $('#btn_reporte_proyectos').on('click', function () {
                $('#modal_reporte_proyectos').modal({backdrop: 'static', width: '500px'}).modal('show');
                $('.coordinacion_select').val(null).trigger('change');
                $('.persona_select').val(null).trigger('change');
            });

            $('#btn_cumplimiento').on('click', function () {
                $('#modal_reporte_cumplimiento').modal({backdrop: 'static', width: '500px'}).modal('show');
                $('.coordinacion_select').val(null).trigger('change');
                $('.persona_select').val(null).trigger('change');
            });

            ItemsDisplayCoordinacion = function (item) {
                if (item.name) {
                    return $('<span>' + item.name + '</span>');
                } else {
                    if ($('.coordinacion_select').val() == 0) {
                        return '---------';
                    }
                }
            };

            ItemsDisplayPersona = function (item) {
                if (item.name) {
                    return $('<span>' + item.name + '</span>');
                } else {
                    if ($('.persona_select').val() == 0) {
                        return '---------';
                    }
                }
            };

            $(".coordinacion_select").select2({
                placeholder: "---------",
                allowClear: true,
                ajax: {
                    url: function (params) {
                        return "/reportes?action=data&model=Coordinacion&p=1&s=10&q=" + params.term;
                    },
                    dataType: 'json',
                    delay: 250,
                    data: function (params) {
                        return {
                            q: params.term,
                            page: params.page
                        };
                    },
                    processResults: function (data, params) {
                        params.page = params.page || 1;
                        return {
                            results: data.results,
                            pagination: {
                                more: (params.page * 30) < data.total_count
                            }
                        };
                    },
                    cache: true
                },
                escapeMarkup: function (markup) {
                    return markup;
                }, // let our custom formatter work
                minimumInputLength: 1,
                templateResult: ItemsDisplayCoordinacion, // omitted for brevity, see the source of this page
                templateSelection: ItemsDisplayCoordinacion // omitted for brevity, see the source of this page
            }).on("select2:select", function (evt) {
                $(".coordinacion_select").attr({"value": (evt.params.data.id)});
            });


            $(".persona_select").select2({
                placeholder: "---------",
                allowClear: true,
                ajax: {
                    url: function (params) {
                        return "/reportes?action=data&model=Persona&p=1&s=10&q=" + params.term;
                    },
                    dataType: 'json',
                    delay: 250,
                    data: function (params) {
                        return {
                            q: params.term,
                            page: params.page
                        };
                    },
                    processResults: function (data, params) {
                        params.page = params.page || 1;
                        return {
                            results: data.results,
                            pagination: {
                                more: (params.page * 30) < data.total_count
                            }
                        };
                    },
                    cache: true
                },
                escapeMarkup: function (markup) {
                    return markup;
                }, // let our custom formatter work
                minimumInputLength: 1,
                templateResult: ItemsDisplayPersona, // omitted for brevity, see the source of this page
                templateSelection: ItemsDisplayPersona // omitted for brevity, see the source of this page
            }).on("select2:select", function (evt) {
                $(".persona_select").attr({"value": (evt.params.data.id)});
            });

            $("#modal_reporte_ponencias_cerrar").click(function () {
                $("#modal_reporte_ponencias").modal('hide');
            });

            $("#modal_reporte_publicaciones_cerrar").click(function () {
                $("#modal_reporte_publicaciones").modal('hide');
            });

            $("#modal_reporte_proyectos_cerrar").click(function () {
                $("#modal_reporte_proyectos").modal('hide');
            });

            $("#modal_reporte_cumplimiento_cerrar").click(function () {
                $("#modal_reporte_cumplimiento").modal('hide');
            });

            $("#modal_reporte_ponencias_descargar").click(function () {
                let form = $('#modal_reporte_ponencias .modal-body .row-fluid').find('form');
                let dataform = form.serialize();

                $.get(`/reportes?${dataform}`).then(function (data) {
                    console.log(data);
                    if (data.result == 'ok') {
                        window.open(data.reportfile, '_blank');
                        $("#modal_reporte_ponencias").modal('hide');
                        $.unblockUI()
                    } else {
                        NotificationJG.error(data.mensaje)
                        $.unblockUI()
                    }
                }).fail(function (error) {
                    NotificationJG.error(error)
                });

            });

            $("#modal_reporte_publicaciones_descargar").click(function () {
                let form = $('#modal_reporte_publicaciones .modal-body .row-fluid').find('form');
                let dataform = form.serialize();

                $.get(`/reportes?${dataform}`).then(function (data) {
                    console.log(data);
                    if (data.result == 'ok') {
                        window.open(data.reportfile, '_blank');
                        $("#modal_reporte_publicaciones").modal('hide');
                        $.unblockUI()
                    } else {
                        NotificationJG.error(data.mensaje)
                        $.unblockUI()
                    }
                }).fail(function (error) {
                    NotificationJG.error(error)
                });

            });

            $("#modal_reporte_proyectos_descargar").click(function () {
                let form = $('#modal_reporte_proyectos .modal-body .row-fluid').find('form');
                let dataform = form.serialize();

                $.get(`/reportes?${dataform}`).then(function (data) {
                    console.log(data);
                    if (data.result == 'ok') {
                        window.open(data.reportfile, '_blank');
                        $("#modal_reporte_proyectos").modal('hide');
                        $.unblockUI()
                    } else {
                        NotificationJG.error(data.mensaje)
                        $.unblockUI()
                    }
                }).fail(function (error) {
                    NotificationJG.error(error)
                });

            });

            $("#modal_reporte_cumplimiento_descargar").click(function () {
                let form = $('#modal_reporte_cumplimiento .modal-body .row-fluid').find('form');
                let dataform = form.serialize();

                $.get(`/reportes?${dataform}`).then(function (data) {
                    console.log(data);
                    if (data.result == 'ok') {
                        window.open(data.reportfile, '_blank');
                        $("#modal_reporte_cumplimiento").modal('hide');
                        $.unblockUI()
                    } else {
                        NotificationJG.error(data.mensaje)
                        $.unblockUI()
                    }
                }).fail(function (error) {
                    NotificationJG.error(error)
                });

            });

        });

    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0/js/i18n/es.js"></script>

{% endblock %}
{% block atras %}/{% endblock %}
{% block canvas %}
    <div class="modal fade static" id="itemreporteform" style="display: none;">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            <h4><i class="fa fa-list"></i> <b class="paneltitlereporteform">FORMULARIO MODAL</b></h4>
        </div>
        <div class="modal-body">
            <form autocomplete="off" method="get"
                  enctype="multipart/form-data" action="{{ request.path }}">
                {% csrf_token %}
                <div class="row-fluid panelreporteform">
                </div>
            </form>
        </div>
        <div class="modal-footer" id="footermodalreporte">
            <a href="javascript:;" class="btn btn-default" data-dismiss="modal"><i
                    class="fa fa-window-close"></i>
                Cerrar</a>
        </div>
    </div>


    <div class='row-fluid'>
        <div class='span12'>
            <h4>{{ title }}</h4>
        </div>
    </div>
    <div class='row-fluid'>
        <div class='span12'>
            <div class="tabbable">
                <ul class="nav nav-tabs">
                    <li><a class="tabs" href="#1" data-toggle="tab">CEAACES</a></li>
                    <li><a class="tabs" href="#2" data-toggle="tab">SNIESE</a></li>
                    <li><a class="tabs" href="#3" data-toggle="tab">GENERAL</a></li>
                    <li><a class="tabs" href="#4" data-toggle="tab">CACES</a></li>
                    <li><a class="tabs" href="#5" data-toggle="tab">POSGRADO</a></li>
                </ul>
                <div class="tab-content">
                    <div class="tab-pane" id="1">
                        <div class="span2">
                            <select style="width: 200px" class="no-margin-bottom anio">
                                <option selected value="0">GENERAL</option>
                                {% for anio in anios %}
                                    <option {% if anio == anioselect %}selected{% endif %}
                                            value="{{ anio }}">{{ anio }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <br>
                        <br>
                        <div class="row-fluid">
                            <table class="table table-bordered table-striped filterable">
                                <thead>
                                <tr>
                                    <th style="width:90px;"></th>
                                    <th>Enlace</th>
                                </tr>
                                </thead>
                                <tbody>
                                {% for descarga in descargaarchivoceaaces %}
                                    <tr>
                                        <td><a class="btn btn-mini btn-warning tu"
                                               href="/descargaarchivo?action=descarga&id={{ descarga.id }}"><i
                                                class="fa fa-download"></i> Descarga</a></td>
                                        <td>{{ descarga.enlace }}</td>
                                    </tr>
                                {% empty %}
                                    <tr>
                                        <td colspan="12">NO EXISTEN ENLACES</td>
                                    </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="tab-pane" id="2">
                        <div class="span2">
                            <select style="width: 200px" class="no-margin-bottom anio">
                                <option selected value="0">GENERAL</option>
                                {% for anio in anios %}
                                    <option {% if anio == anioselect %}selected{% endif %}
                                            value="{{ anio }}">{{ anio }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <br>
                        <br>
                        <div class="row-fluid">
                            <table class="table table-bordered">
                                <thead>
                                <tr>
                                    <th style="width:90px;">Descargar</th>
                                    <th>Nombre reporte</th>
                                </tr>
                                </thead>
                                <tbody>
                                {% for descarga in descargaarchivosnieser %}
                                    <tr>
                                        <td><a class="btn btn-mini btn-warning tu"
                                               href="/descargaarchivo?action=descarga&id={{ descarga.id }}"><i
                                                class="fa fa-download"></i> Descarga</a></td>
                                        <td>{{ descarga.enlace }}</td>
                                    </tr>
                                {% empty %}
                                    <tr>
                                        <td colspan="12">NO EXISTEN ENLACES</td>
                                    </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="tab-pane" id="3">
                        <div class="row-fluid">
                            <table class="table table-bordered table-striped filterable">
                                <thead>
                                <tr>
                                    <th>Nombre de reporte</th>
                                    <th style="width:90px;">Archivo</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>Estudiantes por año</td>
                                    <td><a class="btn btn-warning matrizestudiantes_anio tu" target="_blank"><i
                                            class="fa fa-download"></i> Descargar</a></td>
                                </tr>
                                <tr>
                                    <td>Estudiantes por fecha primer nivel</td>
                                    <td><a class="btn btn-warning estudiantesfechaprimernivel tu" target="_blank"><i
                                            class="fa fa-download"></i> Descargar</a></td>
                                </tr>
                                <tr>
                                    <td>Estudiantes - Matrícula Periodo Académico.</td>
                                    <td><a class="btn btn-warning matrizestudiantes_periodo tu"><i
                                            class="fa fa-download"></i> Descargar</a></td>
                                </tr>
                                <tr>
                                    <td>Estudiantes – Prácticas Preprofesionales (se excluyen las carreras de salud).
                                    </td>
                                    <td><a class="btn btn-warning matrizpracticaspreprofesionales_anio"><i
                                            class="fa fa-download"></i> Descargar</a></td>
                                </tr>
                                <tr>
                                    <td>Graduados (fecha de graduación)</td>
                                    <td><a class="btn btn-warning matrizgraduados_anio"><i class="fa fa-download"></i>
                                        Descargar</a></td>
                                </tr>
                                {#                                <tr>#}
                                {#                                    <td>Graduados (fecha inicio primer nivel)</td>#}
                                {#                                    <td><a class="btn btn-warning matrizgraduados_anio2"><i class="fa fa-download"></i> Descargar</a></td>#}
                                {#                                </tr>#}
                                <tr>
                                    <td>Estudiantes de IPEC.</td>
                                    <td><a class="btn btn-warning matrizestudiantesipec_anio"><i
                                            class="fa fa-download"></i> Descargar</a></td>
                                </tr>
                                <tr>
                                    <td>Funcionarios</td>
                                    <td><a class="btn btn-warning" href="/descargaarchivo?action=matrizfuncionarios"
                                           target="_blank"><i class="fa fa-download"></i> Descarga</a></td>
                                </tr>
                                <tr>
                                    <td>Profesores - Distribucion Horas Periodo Academico.</td>
                                    <td><a class="btn btn-warning matrizprofesoresdistributivo_periodo"><i
                                            class="fa fa-download"></i> Descargar</a></td>
                                </tr>
                                <tr>
                                    <td>Profesores - Formación Profesional (En Curso).</td>
                                    <td><a class="btn btn-warning"
                                           href="/descargaarchivo?action=matrizprofesorformacionencurso"
                                           target="_blank"><i class="fa fa-download"></i> Descargar</a></td>
                                </tr>
                                <tr>
                                    <td>Profesores - Formación Profesional (Terminado).</td>
                                    <td><a class="btn btn-warning"
                                           href="/descargaarchivo?action=matrizprofesorformacionterminada"
                                           target="_blank"><i class="fa fa-download"></i> Descargar</a></td>
                                </tr>
                                <tr>
                                    <td>Profesores - Contratos.</td>
                                    <td><a class="btn btn-warning matrizprofesorescontrato_anio"><i
                                            class="fa fa-download"></i> Descargar</a></td>
                                </tr>
                                <tr>
                                    <td>Estudiantes obtención de cupos.</td>
                                    <td>
                                        <a href="/descargaarchivo?action=importar" class='btn btn-primary tu'><i
                                                class="fa fa-clone"></i> Importar</a><br>
                                        <a class="btn btn-warning matrizestudiantesprimernivel"><i
                                                class="fa fa-download"></i> Descargar</a>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Matriz levantamiento información Análisis Estudiante.</td>
                                    <td><a class="btn btn-warning matrizanalisisestudiantes"><i
                                            class="fa fa-download"></i> Descargar</a></td>
                                </tr>
                                <tr>
                                    <td>Matriz levantamiento información Análisis Periodo Académico.</td>
                                    <td><a class="btn btn-warning matrizanalisisperiodoacademico"><i
                                            class="fa fa-download"></i> Descargar</a></td>
                                </tr>
                                <tr>
                                    <td>Resumen de matriculados por carrera.</td>
                                    <td>
                                        <a href="javascript:void(0)" class="btn btn-success"
                                           onclick="reporteModal('REPORTE DE PERIODOS', 'formreporte', true)">
                                            <i class="fa fa-cog fa-spin"></i> Generar Reporte
                                        </a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!--- =============== PESTAñA CACES / AUTH: ROALEX =============== --->

                    <div class="tab-pane" id="4">
                        <div class="row-fluid">
                            <table class="table table-bordered">
                                <thead>
                                <tr>
                                    <th>Nombre de reporte</th>
                                    <th style="width:120px;">Archivo</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>Cargos académicos directivos</td>
                                    <td style='text-align:center'><a class="btn btn-warning" id="filtro_sexo"><i
                                            class="fa fa-download"></i> Descargar</a></td>
                                </tr>

                                <tr>
                                    <td>Profesores-contratos</td>
                                    <td style='text-align:center'><a href='/descargaarchivo?action=profesores_contratos'
                                                                     class="btn btn-warning"><i
                                            class="fa fa-download"></i> Descargar</a></td>
                                </tr>

                                <tr>
                                    <td>Profesores-formación profesional</td>
                                    <td style='text-align:center'><a class="btn btn-warning" id="filtro_formacion"><i
                                            class="fa fa-download"></i> Descargar</a></td>
                                </tr>

                                <tr>
                                    <td>Reporte de ponencias realizadas por los docentes</td>
                                    <td style='text-align:center'><a class="btn btn-warning" id="btn_reporte_ponencias"><i
                                            class="fa fa-download"></i> Descargar</a></td>
                                </tr>

                                <tr>
                                    <td>Reporte de los docentes que participan en publicaciones</td>
                                    <td style='text-align:center'><a class="btn btn-warning"
                                                                     id="btn_reporte_publicaciones"><i
                                            class="fa fa-download"></i> Descargar</a></td>
                                </tr>

                                <tr>
                                    <td>Reporte de los docentes que participan en proyectos de investigación</td>
                                    <td style='text-align:center'><a class="btn btn-warning" id="btn_reporte_proyectos"><i
                                            class="fa fa-download"></i> Descargar</a></td>
                                </tr>

                                <tr>
                                    <td>Reporte de informe de cumplimiento de los proyectos</td>
                                    <td style='text-align:center'><a class="btn btn-warning" id="btn_cumplimiento"><i
                                            class="fa fa-download"></i> Descargar</a></td>
                                </tr>

                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="tab-pane" id="5">
                        <div class="row-fluid">
                            <table class="table table-bordered">
                                <thead>
                                <tr>
                                    <th>Nombre de reporte</th>
                                    <th style="width:120px;">Archivo</th>
                                </tr>
                                </thead>
                                <tbody>
{#                                <tr>#}
{#                                    <td>Estudiantes</td>#}
{#                                    <td style='text-align:center'><a class="btn btn-warning" id="estudiantesposgrado_anio"#}
{#                                                                     href="javascript:;"><i#}
{#                                            class="fa fa-download"></i> Descargar</a></td>#}
{#                                </tr>#}
                                <tr>
                                    <td>Estudiantes Posgrado</td>
                                    <td style='text-align:center'><a class="btn btn-warning reporte_estudiantes_posgrado"
                                                                     href="javascript:;"><i
                                            class="fa fa-download"></i> Descargar</a></td>
                                </tr>
{#                                <tr>#}
{#                                    <td>Estudiantes Matriculas Periodo Académico</td>#}
{#                                    <td style='text-align:center'><a class="btn btn-warning" href="/descargaarchivo?action=excelmatriculadosposgrado2"><i#}
{#                                            class="fa fa-download"></i> Descargar</a></td>#}
{#                                    <td style='text-align:center'><a class="btn btn-warning" id="matriculadosposgrado_anio"#}
{#                                                                     href="javascript:;"><i#}
{#                                            class="fa fa-download"></i> Descargar</a></td>#}
{#                                </tr>#}
                                <tr>
                                    <td>Estudiantes Matriculas Periodo Académico</td>
                                    <td style='text-align:center'><a class="btn btn-warning reporte_matricula_periodo_posgrado"
                                                                     href="javascript:;"><i
                                            class="fa fa-download"></i> Descargar</a></td>
                                </tr>
{#                                <tr>#}
{#                                    <td>Periodos Académicos</td>#}
{#                                    <td style='text-align:center'><a class="btn btn-warning" id="periodosposgrado_anio"#}
{#                                                                      href="javascript:;"><i#}
{#                                            class="fa fa-download"></i> Descargar</a></td>#}
{#                                </tr>#}
                                <tr>
                                    <td>Periodos Académicos</td>
                                    <td style='text-align:center'><a class="btn btn-warning reporte_periodos_posgrado"
                                                                      href="javascript:;"><i
                                            class="fa fa-download"></i> Descargar</a></td>
                                </tr>
                                <tr>
                                    <td>Graduados</td>
                                    <td style='text-align:center'><a class="btn btn-warning reporte_graduados_posgrado"
                                                                     href="javascript:;"><i
                                            class="fa fa-download"></i> Descargar</a></td>
                                </tr>
{#                                <tr>#}
{#                                    <td>Graduados</td>#}
{#                                    <td style='text-align:center'><a class="btn btn-warning" id="graduadosposgrado_anio"#}
{#                                                                     href="javascript:;"><i#}
{#                                            class="fa fa-download"></i> Descargar</a></td>#}
{#                                </tr>#}
                                <tr>
                                    <td>Matriculados por cohorte, programa, paralelos...</td>
                                    <td style='text-align:center'><a class="btn btn-warning reporte_matricula_posgrado"
                                                                     href="javascript:;"><i
                                            class="fa fa-download"></i> Descargar</a></td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="modal fade static" id="modal_sexo" style="display: none;">
                        <div class="modal-header">
                            <h3 class="paneltitle">Filtrar por sexo</h3>
                        </div>
                        <div class="modal-body panelbody">
                            <div class="row-fluid">
                                <div class="span12">
                                    <div class="form-group" id="sexo_group" style="display: none">
                                        <select id="id_sexo" name="Sexo">
                                            <option value="0">TODOS</option>
                                            <option value="1">MASCULINO</option>
                                            <option value="2">FEMENINO</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <table class="pull-right">
                                <tr>
                                    <td><a class="btn btn-success" id="download_report_cargos_academicos_directivos"><i
                                            class="fa fa-download"></i>
                                        Descargar Reporte</a>
                                    </td>
                                    <td><a class="btn btn-danger" data-dismiss="modal"><i class="fa fa-close"></i>
                                        Cerrar</a></td>
                                </tr>
                            </table>
                        </div>
                    </div>


                    <div class="modal fade static" id="modal_formacion" style="display: none;">
                        <div class="modal-header">
                            <h3 class="paneltitle">Filtrar por formación</h3>
                        </div>
                        <div class="modal-body panelbody">
                            <div class="row-fluid">
                                <div class="span12">
                                    <div class="form-group" id="formacion_group" style="display: none">
                                        <select id="id_formacion" name="Formación">
                                            <option value="1">EN CURSO</option>
                                            <option value="2">TERMINADA</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <table class="pull-right">
                                <tr>
                                    <td><a class="btn btn-success" id="download_report_profesores_formacion"><i
                                            class="fa fa-download"></i>
                                        Descargar Reporte</a>
                                    </td>
                                    <td><a class="btn btn-danger" data-dismiss="modal"><i class="fa fa-close"></i>
                                        Cerrar</a></td>
                                </tr>
                            </table>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </div>

    <div class="modal fade static itemspanelaniogeneral" id="itemspanelaniogeneral" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitleaniogeneral"></h3>
        </div>
        <div class="modal-body panelbodyaniogeneral" style="width: 100%"></div>
    </div>

    <div class="modal fade static itemspanelperidogeneral" id="itemspanelperidogeneral" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitleperiodogeneral"></h3>
        </div>
        <div class="modal-body panelbodyperiodogeneral"></div>
    </div>

    <div class="modal fade static itemspanelresumen" id="itemspanelresumen" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitleresumen">Seleccione periodos</h3>
        </div>
        <div class="modal-body panelbodyresumen">

            <form id="formulario" formtype="form-horizontal" style="width: 100%; margin-bottom: 0"
                  onsubmit="return false">
                <div class="row-fluid">
                    {% for field in form_peri %}
                        {% if field.field.widget.attrs.titulo %}
                            <div style="width: 100%; height: 25px; float: left; font-weight: bold; text-align: center">{{ field.field.widget.attrs.titulo }}</div>
                        {% endif %}


                        <fieldset id="fieldset_{{ field.name }}" class="control-group nomargins"
                                  style="min-height:45px; float: left; width: 100%">

                            <div class="control-label label-text"
                                 {% if field.field.widget.attrs.labelwidth %}labelwidth="{{ field.field.widget.attrs.labelwidth }}"{% endif %}
                                 style="display: table;height: 30px;">
                                {% if field.field.widget.attrs.fieldbuttons %}
                                    <div style="display: table-cell; vertical-align: middle; line-height: 11px">
                                        {% for boton in field.field.widget.attrs.fieldbuttons %}
                                            <a href="javascript:;" class="btn btn-mini {{ boton.btnclasscolor }} tu"
                                               title="{{ boton.tooltiptext }}" id="{{ boton.id }}"><i
                                                    class="fa {{ boton.btnfaicon }}"></i></a>
                                        {% endfor %}
                                    </div>
                                {% endif %}
                                <div style="display: table-cell; vertical-align: middle; line-height: 11px">
                                    <label for="id_{{ field.name }}"
                                           style="padding-right: 20px">{{ field.label }}</label>
                                </div>
                            </div>
                            <div class="control" style="float: left; width: 100%">
                                {% if field.field.widget.attrs.select2search %}
                                    <select id="id_{{ field.name }}_select2"
                                            {% if field.field.widget.attrs.disabled %}disabled=""{% endif %}>
                                        <option value="0" selected="selected">---------</option>
                                    </select>
                                    <input name="{{ field.name }}" id="id_{{ field.name }}" value="{{ field.value }}"
                                           hidden="hidden"
                                           {% if field.field.widget.attrs.descripcion %}descripcion="{{ field.field.widget.attrs.descripcion }}"{% endif %}
                                           class="select2hidden">

                                {% else %}
                                    {{ field }}
                                {% endif %}
                                {% if field.field.widget.attrs.help_text2 %}
                                    <small class="form-text text-muted">
                                        {{ field.field.widget.attrs.help_text2 }}
                                    </small>
                                {% endif %}
                                <p class="help-text"
                                   style="font-size: xx-small; margin-bottom: 0; height: 13px; line-height: 13px">{{ field.help_text }} </p>
                            </div>

                        </fieldset>
                    {% endfor %}
                </div>
            </form>
        </div>
    </div>
    {#====================================================================================================================================================================PONENCIAS REALIZADAS POR DOCENTES==========================================#}
    <div class="modal fade static modal-sm" id="modal_reporte_ponencias" style="display: none; width: 400px!important;"
         role="dialog">
        <div class="modal-header">
            <h4>Reporte de ponencias realizadas por docentes.</h4>
        </div>
        <div class="modal-body">
            <div class="row-fluid">
                <form>
                    <input type="hidden" name="rid" value="{{ reporte_ponencias.id }}">
                    <input type="hidden" name="action" value="run">
                    <fieldset class="control-group nomargins" style="float: left; padding-right: 10px; width: 100%">
                        <label class="control-label" for="formato_reporte">Formato Reporte:</label>
                        <div class="controls">
                            <select name="rt" required="" style="width: 100%">
                                <option value="xlsx">Excel</option>
                                <option value="pdf">Pdf</option>
                            </select>
                            <p class="help-text"></p>
                        </div>
                    </fieldset>

                    <fieldset class="control-group nomargins" style="float: left; padding-right: 10px; width: 100%">
                        <label class="control-label" for="formato_reporte">Faculdad:</label>
                        <div class="controls">
                            <select class="coordinacion_select" name="facultad" required="" style="width: 100%">
                                <option value="0">----------</option>
                            </select>
                            <p class="help-text"></p>
                        </div>
                    </fieldset>

                    <fieldset class="control-group nomargins" style="float: left; padding-right: 10px; width: 100%">
                        <label class="control-label" for="formato_reporte">Docente:</label>
                        <div class="controls">
                            <select class="persona_select" name="persona" required="" style="width: 100%">
                                <option value="0">----------</option>
                            </select>
                            <p class="help-text"></p>
                        </div>
                    </fieldset>
                    {#                <fieldset id="fieldset_id_fecha_desde" class="control-group nomargins" style="float: left; padding-right: 10px; width:50%">#}
                    {#                        <label class="control-label" for="id_fecha_desde">Fecha desde:</label>#}
                    {#                        <div class="controls">#}
                    {#                            <input class="selectorfecha" formwidth="50%" id="id_fecha_desde"  style="width:100%" type="text" value="">#}
                    {#                            <p class="help-text"> </p>#}
                    {#                        </div>#}
                    {#                </fieldset>#}
                    {#                <fieldset id="fieldset_id_fecha_hasta" class="control-group nomargins" style="float: left; padding-right: 10px; width:50%">#}
                    {#                        <label class="control-label" for="id_fecha_hasta">Fecha hasta:</label>#}
                    {#                        <div class="controls">#}
                    {#                            <input class="selectorfecha" formwidth="50%" id="id_fecha_hasta"  style="width:100%" type="text" value="">#}
                    {#                            <p class="help-text"> </p>#}
                    {#                        </div>#}
                    {#                </fieldset>#}
                    {#                <input type="hidden" id="id_aplicada" value="">#}
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <a id="modal_reporte_ponencias_descargar" class="btn btn-success">Descargar</a>
            <a id="modal_reporte_ponencias_cerrar" class="btn btn-danger">Cerrar</a>
        </div>
    </div>

    {#====================================================================================================================================================================DOCENTES QUE PARTICIPAN EN PUBLICACIONES==========================================#}

    <div class="modal fade static modal-sm" id="modal_reporte_publicaciones"
         style="display: none; width: 400px!important;" role="dialog">
        <div class="modal-header">
            <h4>Reporte de docentes que participan en publicaciones.</h4>
        </div>
        <div class="modal-body">
            <div class="row-fluid">
                <form>
                    <input type="hidden" name="rid" value="{{ reporte_publicaciones.id }}">
                    <input type="hidden" name="action" value="run">
                    <fieldset class="control-group nomargins" style="float: left; padding-right: 10px; width: 100%">
                        <label class="control-label" for="formato_reporte">Formato Reporte:</label>
                        <div class="controls">
                            <select name="rt" required="" style="width: 100%">
                                <option value="xlsx">Excel</option>
                                <option value="pdf">Pdf</option>
                            </select>
                            <p class="help-text"></p>
                        </div>
                    </fieldset>

                    <fieldset class="control-group nomargins" style="float: left; padding-right: 10px; width: 100%">
                        <label class="control-label" for="formato_reporte">Faculdad:</label>
                        <div class="controls">
                            <select class="coordinacion_select" name="facultad" required="" style="width: 100%">
                                <option value="0">----------</option>
                            </select>
                            <p class="help-text"></p>
                        </div>
                    </fieldset>

                    <fieldset class="control-group nomargins" style="float: left; padding-right: 10px; width: 100%">
                        <label class="control-label" for="formato_reporte">Docente:</label>
                        <div class="controls">
                            <select class="persona_select" name="docente" required="" style="width: 100%">
                                <option value="0">----------</option>
                            </select>
                            <p class="help-text"></p>
                        </div>
                    </fieldset>
                    {#                <fieldset id="fieldset_id_fecha_desde" class="control-group nomargins" style="float: left; padding-right: 10px; width:50%">#}
                    {#                        <label class="control-label" for="id_fecha_desde">Fecha desde:</label>#}
                    {#                        <div class="controls">#}
                    {#                            <input class="selectorfecha" formwidth="50%" id="id_fecha_desde"  style="width:100%" type="text" value="">#}
                    {#                            <p class="help-text"> </p>#}
                    {#                        </div>#}
                    {#                </fieldset>#}
                    {#                <fieldset id="fieldset_id_fecha_hasta" class="control-group nomargins" style="float: left; padding-right: 10px; width:50%">#}
                    {#                        <label class="control-label" for="id_fecha_hasta">Fecha hasta:</label>#}
                    {#                        <div class="controls">#}
                    {#                            <input class="selectorfecha" formwidth="50%" id="id_fecha_hasta"  style="width:100%" type="text" value="">#}
                    {#                            <p class="help-text"> </p>#}
                    {#                        </div>#}
                    {#                </fieldset>#}
                    {#                <input type="hidden" id="id_aplicada" value="">#}
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <a id="modal_reporte_publicaciones_descargar" class="btn btn-success">Descargar</a>
            <a id="modal_reporte_publicaciones_cerrar" class="btn btn-danger">Cerrar</a>
        </div>
    </div>


    {#====================================================================================================================================================================DOCENTES QUE PARTICIPAN EN PROYECTOS==========================================#}

    <div class="modal fade static modal-sm" id="modal_reporte_proyectos" style="display: none; width: 400px!important;"
         role="dialog">
        <div class="modal-header">
            <h4>Reporte de docentes que participan en proyectos de investigación.</h4>
        </div>
        <div class="modal-body">
            <div class="row-fluid">
                <form>
                    <input type="hidden" name="rid" value="{{ reporte_proyectos.id }}">
                    <input type="hidden" name="action" value="run">
                    <fieldset class="control-group nomargins" style="float: left; padding-right: 10px; width: 100%">
                        <label class="control-label" for="formato_reporte">Formato Reporte:</label>
                        <div class="controls">
                            <select name="rt" required="" style="width: 100%">
                                <option value="xlsx">Excel</option>
                                <option value="pdf">Pdf</option>
                            </select>
                            <p class="help-text"></p>
                        </div>
                    </fieldset>

                    <fieldset class="control-group nomargins" style="float: left; padding-right: 10px; width: 100%">
                        <label class="control-label" for="formato_reporte">Faculdad:</label>
                        <div class="controls">
                            <select class="coordinacion_select" name="facultad" required="" style="width: 100%">
                                <option value="0">----------</option>
                            </select>
                            <p class="help-text"></p>
                        </div>
                    </fieldset>

                    <fieldset class="control-group nomargins" style="float: left; padding-right: 10px; width: 100%">
                        <label class="control-label" for="formato_reporte">Docente:</label>
                        <div class="controls">
                            <select class="persona_select" name="persona" required="" style="width: 100%">
                                <option value="0">----------</option>
                            </select>
                            <p class="help-text"></p>
                        </div>
                    </fieldset>
                    {#                <fieldset id="fieldset_id_fecha_desde" class="control-group nomargins" style="float: left; padding-right: 10px; width:50%">#}
                    {#                        <label class="control-label" for="id_fecha_desde">Fecha desde:</label>#}
                    {#                        <div class="controls">#}
                    {#                            <input class="selectorfecha" formwidth="50%" id="id_fecha_desde"  style="width:100%" type="text" value="">#}
                    {#                            <p class="help-text"> </p>#}
                    {#                        </div>#}
                    {#                </fieldset>#}
                    {#                <fieldset id="fieldset_id_fecha_hasta" class="control-group nomargins" style="float: left; padding-right: 10px; width:50%">#}
                    {#                        <label class="control-label" for="id_fecha_hasta">Fecha hasta:</label>#}
                    {#                        <div class="controls">#}
                    {#                            <input class="selectorfecha" formwidth="50%" id="id_fecha_hasta"  style="width:100%" type="text" value="">#}
                    {#                            <p class="help-text"> </p>#}
                    {#                        </div>#}
                    {#                </fieldset>#}
                    {#                <input type="hidden" id="id_aplicada" value="">#}
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <a id="modal_reporte_proyectos_descargar" class="btn btn-success">Descargar</a>
            <a id="modal_reporte_proyectos_cerrar" class="btn btn-danger">Cerrar</a>
        </div>
    </div>


    {#====================================================================================================================================================================CUMPLIMIENTO DE PROYECTOS==========================================#}

    <div class="modal fade static modal-sm" id="modal_reporte_cumplimiento"
         style="display: none; width: 400px!important;" role="dialog">
        <div class="modal-header">
            <h4>Reporte de cumplimiento de los proyectos de investigación.</h4>
        </div>
        <div class="modal-body">
            <div class="row-fluid">
                <form>
                    <input type="hidden" name="rid" value="{{ reporte_cumplimiento.id }}">
                    <input type="hidden" name="action" value="run">
                    <fieldset class="control-group nomargins" style="float: left; padding-right: 10px; width: 100%">
                        <label class="control-label" for="formato_reporte">Formato Reporte:</label>
                        <div class="controls">
                            <select name="rt" required="" style="width: 100%">
                                <option value="xlsx">Excel</option>
                                <option value="pdf">Pdf</option>
                            </select>
                            <p class="help-text"></p>
                        </div>
                    </fieldset>

                    <fieldset class="control-group nomargins" style="float: left; padding-right: 10px; width: 100%">
                        <label class="control-label" for="formato_reporte">Faculdad:</label>
                        <div class="controls">
                            <select class="coordinacion_select" name="facultad" required="" style="width: 100%">
                                <option value="0">----------</option>
                            </select>
                            <p class="help-text"></p>
                        </div>
                    </fieldset>

                    <fieldset class="control-group nomargins" style="float: left; padding-right: 10px; width: 100%">
                        <label class="control-label" for="formato_reporte">Docente:</label>
                        <div class="controls">
                            <select class="persona_select" name="persona" required="" style="width: 100%">
                                <option value="0">----------</option>
                            </select>
                            <p class="help-text"></p>
                        </div>
                    </fieldset>
                    {#                <fieldset id="fieldset_id_fecha_desde" class="control-group nomargins" style="float: left; padding-right: 10px; width:50%">#}
                    {#                        <label class="control-label" for="id_fecha_desde">Fecha desde:</label>#}
                    {#                        <div class="controls">#}
                    {#                            <input class="selectorfecha" formwidth="50%" id="id_fecha_desde"  style="width:100%" type="text" value="">#}
                    {#                            <p class="help-text"> </p>#}
                    {#                        </div>#}
                    {#                </fieldset>#}
                    {#                <fieldset id="fieldset_id_fecha_hasta" class="control-group nomargins" style="float: left; padding-right: 10px; width:50%">#}
                    {#                        <label class="control-label" for="id_fecha_hasta">Fecha hasta:</label>#}
                    {#                        <div class="controls">#}
                    {#                            <input class="selectorfecha" formwidth="50%" id="id_fecha_hasta"  style="width:100%" type="text" value="">#}
                    {#                            <p class="help-text"> </p>#}
                    {#                        </div>#}
                    {#                </fieldset>#}
                    {#                <input type="hidden" id="id_aplicada" value="">#}
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <a id="modal_reporte_cumplimiento_descargar" class="btn btn-success">Descargar</a>
            <a id="modal_reporte_cumplimiento_cerrar" class="btn btn-danger">Cerrar</a>
        </div>
    </div>

    <div class="modal fade static" id="modal_reportes13" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Reporte de matriculados posgrado</h3>
        </div>
        <div class="modal-body panelbody">
            <div class="row-fluid">
                <div class="span12">

                    <div class="form-group" id="maestriagroup13">
                        <label for="id_maestria13"><b>Maestría:</b></label>
                        <select class="form-control" name="maestria13" id="id_maestria13" style="width: 100%">
                            <option value="0">TODOS</option>
                        </select>
                    </div>

                    <div class="form-group" id="periodogroup13">
                        <label for="id_periodo13"><b>Cohortes:</b></label>
                        <select class="form-control" name="periodo13" id="id_periodo13" style="width: 100%">
                            <option value="0">TODOS</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal-footer">
            <table class="pull-right">
                <tr>
                    <td><a class="btn btn-info " id="descargar_reporte_matricula_posgrado"><i class="fa fa-plus"></i> Descargar
                        Reporte</a></td>
                    <td><a class="btn btn-danger" data-dismiss="modal"><i class="fa fa-close"></i> Cerrar</a></td>
                </tr>
            </table>
        </div>
    </div>

    <div class="modal fade static" id="modal_reportes14" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Reporte de matriculados periodo académico</h3>
        </div>
        <div class="modal-body panelbody">
            <div class="row-fluid">
                <div class="span12">
                    ¿Filtrar por periodo? <input type="checkbox" id="id_chekealo2" onchange="cambiarval2()"><br>
                    <div class="form-group" id="aniogroup14">
                        <label for="id_anio14"><b>Años:</b></label>
                        <select name="anio14" class="form-control select2-hidden-accessible"
                                id="id_anio14" multiple="" tabindex="-1" aria-hidden="true"
                                style="width: 100%">
                            <option value="0" selected>TODOS LOS AÑOS</option>
                            {% for anio in eAnios %}
                                <option value="{{ anio }}">{{ anio }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group" id="maestriagroup14">
                        <label for="id_maestria14"><b>Maestría:</b></label>
                        <select name="maestria14" class="form-control select2-hidden-accessible"
                                id="id_maestria14" multiple="" tabindex="-1" aria-hidden="true"
                                style="width: 100%">
                        </select>
                    </div>
                    <div class="form-group" id="periodogroup14">
                        <label for="id_periodo14"><b>Periodo:</b></label>
                        <select name="periodo14" class="form-control select2-hidden-accessible"
                                id="id_periodo14" multiple="" tabindex="-1" aria-hidden="true"
                                style="width: 100%">
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal-footer">
            <table class="pull-right">
                <tr>
                    <td><a class="btn btn-info " id="descargar_reporte_matricula_periodo_posgrado"><i class="fa fa-plus"></i> Descargar
                        Reporte</a></td>
                    <td><a class="btn btn-danger" data-dismiss="modal"><i class="fa fa-close"></i> Cerrar</a></td>
                </tr>
            </table>
        </div>
    </div>

    <div class="modal fade static" id="modal_reportes15" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Reporte de estudiantes posgrado</h3>
        </div>
        <div class="modal-body panelbody">
            <div class="row-fluid">
                <div class="span12">
                    ¿Filtrar por periodo? <input type="checkbox" id="id_chekealo" onchange="cambiarval()"><br>
                    <div class="form-group" id="aniogroup15">
                        <label for="id_anio15"><b>Años:</b></label>
                        <select name="anio15" class="form-control select2-hidden-accessible"
                                id="id_anio15" multiple="" tabindex="-1" aria-hidden="true"
                                style="width: 100%">
                            <option value="0" selected>TODOS LOS AÑOS</option>
                            {% for anio in eAnios %}
                                <option value="{{ anio }}">{{ anio }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group" id="maestriagroup15">
                        <label for="id_maestria15"><b>Maestría:</b></label>
                        <select name="maestria15" class="form-control select2-hidden-accessible"
                                id="id_maestria15" multiple="" tabindex="-1" aria-hidden="true"
                                style="width: 100%">
                        </select>
                    </div>
                    <div class="form-group" id="periodogroup15">
                        <label for="id_periodo15"><b>Periodo:</b></label>
                        <select name="periodo15" class="form-control select2-hidden-accessible"
                                id="id_periodo15" multiple="" tabindex="-1" aria-hidden="true"
                                style="width: 100%">
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal-footer">
            <table class="pull-right">
                <tr>
                    <td><a class="btn btn-info " id="descargar_reporte_estudiantes_posgrado"><i class="fa fa-plus"></i> Descargar
                        Reporte</a></td>
                    <td><a class="btn btn-danger" data-dismiss="modal"><i class="fa fa-close"></i> Cerrar</a></td>
                </tr>
            </table>
        </div>
    </div>

    <div class="modal fade static" id="modal_reportes16" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Reporte de graduados posgrado</h3>
        </div>
        <div class="modal-body panelbody">
            <div class="row-fluid">
                <div class="span12">
                    <div class="form-group" id="aniogroup16">
                        <label for="id_anio16"><b>Años:</b></label>
                        <select name="anio16" class="form-control select2-hidden-accessible"
                                id="id_anio16" multiple="" tabindex="-1" aria-hidden="true"
                                style="width: 100%">
                            <option value="0" selected>TODOS LOS AÑOS</option>
                            {% for anio in eAnios %}
                                <option value="{{ anio }}">{{ anio }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group" id="maestriagroup16">
                        <label for="id_maestria16"><b>Maestría:</b></label>
                        <select name="maestria16" class="form-control select2-hidden-accessible"
                                id="id_maestria16" multiple="" tabindex="-1" aria-hidden="true"
                                style="width: 100%">
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal-footer">
            <table class="pull-right">
                <tr>
                    <td><a class="btn btn-info " id="descargar_reporte_graduados_posgrado"><i class="fa fa-plus"></i> Descargar
                        Reporte</a></td>
                    <td><a class="btn btn-danger" data-dismiss="modal"><i class="fa fa-close"></i> Cerrar</a></td>
                </tr>
            </table>
        </div>
    </div>

    <div class="modal fade static" id="modal_reportes17" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Reporte de periodos académicos posgrado</h3>
        </div>
        <div class="modal-body panelbody">
            <div class="row-fluid">
                <div class="span12">
                    <div class="form-group" id="aniogroup17">
                        <label for="id_anio17"><b>Años:</b></label>
                        <select name="anio17" class="form-control select2-hidden-accessible"
                                id="id_anio17" multiple="" tabindex="-1" aria-hidden="true"
                                style="width: 100%">
                            <option value="0" selected>TODOS LOS AÑOS</option>
                            {% for anio in eAnios %}
                                <option value="{{ anio }}">{{ anio }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group" id="maestriagroup17">
                        <label for="id_maestria17"><b>Maestría:</b></label>
                        <select name="maestria17" class="form-control select2-hidden-accessible"
                                id="id_maestria17" multiple="" tabindex="-1" aria-hidden="true"
                                style="width: 100%">
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal-footer">
            <table class="pull-right">
                <tr>
                    <td><a class="btn btn-info " id="descargar_reporte_periodos_posgrado"><i class="fa fa-plus"></i> Descargar
                        Reporte</a></td>
                    <td><a class="btn btn-danger" data-dismiss="modal"><i class="fa fa-close"></i> Cerrar</a></td>
                </tr>
            </table>
        </div>
    </div>
{% endblock %}
