{% extends "basebs.html" %}
{% load sga_extras %}
{% block heading %}
    <style>
        table.dataTable tbody th, table.dataTable tbody td {
            padding: 5px 3px 5px 10px !important;
        }
    </style>
    <script>
        $(document).ready(function () {
            var table_solicitado = $('.resultados_SOLICITADO').DataTable({"autoWidth": false, "pageLength": 100});
            var table_programado = $('.resultados_PROGRAMADO').DataTable({"autoWidth": false, "pageLength": 100, paging: false});
            {#var table_ejcutado = $('.resultados_EJECUTADO').DataTable({"autoWidth": false, "pageLength": 100});#}
            //var table_cancelado = $('.resultados_CANCELADO').DataTable({"autoWidth": false, "pageLength": 100});
            $('.resultados_SOLICITADO thead tr').clone(true).appendTo('.resultados_SOLICITADO thead');
            $('.resultados_SOLICITADO thead tr:eq(1) th').each(function (i) {
                var title = $(this).text();
                if (i >= 1 && i <= 5) {
                    $(this).html('<input type="text" style="width: 100%;" class="data-filtro" placeholder="Buscar ' + title + '" />');

                } else {
                    $(this).html('<input type="hidden"/>');
                }

                $('input', this).on('keyup change', function () {
                    if (table_solicitado.column(i).search() !== this.value) {
                        table_solicitado
                            .column(i)
                            .search(this.value)
                            .draw();
                    }
                });
            });


            {#var table_programado = $('.resultados_PROGRAMADO').DataTable();#}
            {#$('.resultados_PROGRAMADO thead tr').clone(true).appendTo('.resultados_PROGRAMADO thead');#}
            {#$('.resultados_PROGRAMADO thead tr:eq(1) th').each(function (i) {#}
            {#    var title = $(this).text();#}
            {#    if (i >= 1 && i <= 4 ) {#}
            {#        $(this).html('<input type="text" style="width: 150px" class="data-filtro" placeholder="Buscar ' + title + '" />');#}
            {##}
            {#    } else {#}
            {#        $(this).html('<input type="hidden"/>');#}
            {#    }#}
            {##}
            {#    $('input', this).on('keyup change', function () {#}
            {#        if (table_programado.column(i).search() !== this.value) {#}
            {#            table_programado#}
            {#                .column(i)#}
            {#                .search(this.value)#}
            {#                .draw();#}
            {#        }#}
            {#    });#}
            {##}
            {#var table_ejecutado = $('.resultados_EJECUTADO').DataTable();#}
            {#$('.resultados_EJECUTADO thead tr').clone(true).appendTo('.resultados_EJECUTADO thead');#}
            {#$('.resultados_EJECUTADO thead tr:eq(1) th').each(function (i) {#}
            {#    var title = $(this).text();#}
            {#    if (i >= 1 && i <= 4 ) {#}
            {#        $(this).html('<input type="text" style="width: 150px" class="data-filtro" placeholder="Buscar ' + title + '" />');#}
            {##}
            {#    } else {#}
            {#        $(this).html('<input type="hidden"/>');#}
            {#    }#}
            {##}
            {#    $('input', this).on('keyup change', function () {#}
            {#        if (table_ejecutado.column(i).search() !== this.value) {#}
            {#            table_ejecutado#}
            {#                .column(i)#}
            {#                .search(this.value)#}
            {#                .draw();#}
            {#        }#}
            {#    });#}


            $("#btnbuscarestado2").click(function () {
                var term = $("#inputsearchestado2").val().toUpperCase();
                location.href = "/pro_tutoriaacademica?s2=" + term;
            });

            $('#inputsearchestado2').keyup(function (e) {
                if (e.keyCode == 13) {
                    $("#btnbuscarestado2").trigger("click");
                }
            });


            $("#btnbuscarestado3").click(function () {
                var term = $("#inputsearchestado3").val().toUpperCase();
                location.href = "/pro_tutoriaacademica?s3=" + term;
            });

            $('#inputsearchestado3').keyup(function (e) {
                if (e.keyCode == 13) {
                    $("#btnbuscarestado3").trigger("click");
                }
            });

            $("#btnbuscarestado4").click(function () {
                var term = $("#inputsearchestado4").val().toUpperCase();
                location.href = "/pro_tutoriaacademica?s4=" + term;
            });

            $('#inputsearchestado4').keyup(function (e) {
                if (e.keyCode == 13) {
                    $("#btnbuscarestado4").trigger("click");
                }
            });

        });
        $(function () {
            $("select").select2({minimumResultsForSearch: 5});

            $('.reporte_ejecucion_tutorias').click(function () {
                $('#modal_reportes2').modal({backdrop: 'static', width: '450px'}).modal('show');
                $('#periodo_group2').fadeIn();
                $('#estado_group2').fadeIn();

                $('#id_periodo2').empty().append('<option value="">----------</option>').val(0).trigger("change");

                $.ajax({
                    type: "GET",
                    url: `{{ request.path }}`,
                    data: {'action': 'cargar_periodo'},
                    success: function (data) {
                        if (data.result == 'ok') {
                            for (elemento in data.lista) {
                                $('#id_periodo2').append('<option value="' + data.lista[elemento].id + '">' + data.lista[elemento].nombre + '</option>');
                            }
                        } else {
                            smoke.alert(data.mensaje);
                        }
                    },
                    error: function () {
                        smoke.alert("Error de conexion.");
                    },
                    dataType: "json"
                });
            });

            $('#download_report2').click(function () {
                var periodo = $('#id_periodo2').val();
                var estado = $('#id_estado2').val();
                openwindow('GET', '/pro_tutoriaacademica', {action: 'reportetutoria', 'periodo': periodo, 'estado': estado}, '_blank');
                $('#modal_reportes2').modal('hide');
            });

            var tutoria = localStorage.getItem('tutoria');
            if (!tutoria) {
                tutoria = "#1";
                localStorage.setItem("tutoria", tutoria);
            }

            $('.tabs').each(function () {
                if ($(this).attr('href') == tutoria) {
                    $(this).trigger('click');
                }
            }).click(function () {
                localStorage.setItem("tutoria", $(this).attr('href'));
            });

            $("#search").click(function () {
                var term = $("#searchinput").val().toUpperCase();
                location.href = "/pro_tutoriaacademica?s=" + term;
            });

            $('#searchinput').keyup(function (e) {
                if (e.keyCode == 13) {
                    $("#search").trigger("click");
                }
            });

            $("#programarsolicitudes").click(function () {
                var lista = actualizar_lista();
                if (lista.length > 0) {
                    location.href = "pro_tutoriaacademica?action=programarsolicitudes&listasolicitudes=" + lista;
                } else {
                    smoke.alert("Debe seleccionar al menos una solicitud.");
                }
            });

            $("#reprogramarsolicitudes").click(function () {
                var lista = actualizar_lista_rep();
                if (lista.length > 0) {
                    location.href = "pro_tutoriaacademica?action=reprogramarsolicitudes&listasolicitudes=" + lista;
                } else {
                    smoke.alert("Debe seleccionar al menos una solicitud a reprogramar.");
                }
            });

            $("#asistenciamasivo").click(function () {
                $('.text-danger').hide();
                $("#itemspaneljustificacionmasivo").modal({backdrop: 'static', width: '500'}).modal('show');

            });

            $('.selectortodos').click(function () {
                if ($('.selectortodos').is(":checked")) {
                    $('.selector').each(function () {
                        var ids = $(this).attr('ids');
                        if ($('.sol' + ids).is(":checked")) {
                            $(this).prop('checked', true);
                        } else {
                            $(this).prop('checked', true);
                        }
                    });
                } else {
                    $('.selector').each(function () {
                        var ids = $(this).attr('ids');
                        if ($('.sol' + ids).is(":checked")) {
                            $(this).prop('checked', false);
                        } else {
                            $(this).prop('checked', false);
                        }
                    });
                }
            });

            $('.selectortodosrep').click(function () {
                if ($('.selectortodosrep').is(":checked")) {
                    $('.selectorrep').each(function () {
                        var ids = $(this).attr('ids');
                        if ($('.sol' + ids).is(":checked")) {
                            $(this).prop('checked', true);
                        } else {
                            $(this).prop('checked', true);
                        }
                    });
                } else {
                    $('.selectorrep').each(function () {
                        var ids = $(this).attr('ids');
                        if ($('.sol' + ids).is(":checked")) {
                            $(this).prop('checked', false);
                        } else {
                            $(this).prop('checked', false);
                        }
                    });
                }
            });

            $('#tab_programado').on('click', function (e) {
                $('#programarsolicitudes').hide();
                $('#reprogramarsolicitudes').show();
                $('#asistenciamasivo').hide();
                $('#tabla_indicaciones').hide();
            });
            $('#tab_solicitado').on('click', function (e) {
                $('#programarsolicitudes').show();
                $('#reprogramarsolicitudes').hide();
                $('#asistenciamasivo').hide();
                $('#tabla_indicaciones').hide();
            });
            $('#tab_ejecutado').on('click', function (e) {
                $('#programarsolicitudes').hide();
                $('#reprogramarsolicitudes').hide();
                $('#asistenciamasivo').hide();
                $('#tabla_indicaciones').show();
            });
            $('#tab_cancelado').on('click', function (e) {
                $('#programarsolicitudes').hide();
                $('#reprogramarsolicitudes').hide();
                $('#asistenciamasivo').show();
                $('#tabla_indicaciones').hide();
            });

            $('.tabs').each(function () {
                if ($(this).attr('href') === '#1' && $(this).parent().hasClass('active')) {
                    $('#programarsolicitudes').show();
                    $('#reprogramarsolicitudes').hide();
                    $('#asistenciamasivo').hide();
                    $('#tabla_indicaciones').hide();
                }
                if ($(this).attr('href') === '#2' && $(this).parent().hasClass('active')) {
                    $('#reprogramarsolicitudes').show();
                    $('#programarsolicitudes').hide;
                    $('#asistenciamasivo').hide();
                    $('#tabla_indicaciones').hide();
                }
                if ($(this).attr('href') === '#3' && $(this).parent().hasClass('active')) {
                    $('#reprogramarsolicitudes').hide();
                    $('#programarsolicitudes').hide;
                    $('#asistenciamasivo').hide();
                    $('#tabla_indicaciones').show();
                }
                if ($(this).attr('href') === '#4' && $(this).parent().hasClass('active')) {
                    $('#reprogramarsolicitudes').hide();
                    $('#programarsolicitudes').hide;
                    $('#asistenciamasivo').show();
                    $('#tabla_indicaciones').hide();
                }
            });

            actualizar_lista = function () {
                var lista = '';
                $('.selector').each(function () {
                    if ($(this).is(":checked")) {
                        lista += $(this).attr('ids') + ',';
                    }
                });
                if (lista.length > 0) {
                    lista = lista.substring(0, lista.length - 1);
                }
                return lista;
            };

            actualizar_lista_rep = function () {
                var lista = '';
                $('.selectorrep').each(function () {
                    if ($(this).is(":checked")) {
                        lista += $(this).attr('ids') + ',';
                    }
                });
                if (lista.length > 0) {
                    lista = lista.substring(0, lista.length - 1);
                }
                return lista;
            };

            $(".ingresarobservacion").click(function () {
                var ids = $(this).attr("ids");
                $("#id_solicitud").val(ids)
                $("#itemspanel").modal({backdrop: 'static', width: '900'}).modal('show');
            });


            $("#itemspanel .btn-adicionar").click(function () {
                var id_solicitud = $("#id_solicitud").val();
                var id_respuestapregunta = 0;
                if ($("#id_respuestapregunta").is(':checked')) {
                    var id_respuestapregunta = 1;
                }
                var id_observacion = $("#id_observacion").val();
                if (id_solicitud > 0 && id_observacion != "") {
                    $.post("/pro_tutoriaacademica", {
                        'action': 'ingresarobservacion',
                        'id_solicitud': id_solicitud,
                        'id_respuestapregunta': id_respuestapregunta,
                        'id_observacion': id_observacion
                    }, function (data) {
                        $.unblockUI();
                        if (data.result == 'ok') {
                            $("#itemspanel").modal("hide");
                            location.reload();
                        } else {
                            NotificationJG.warning(data.mensaje);
                        }
                    }, "json");
                }
            });

            $(".btn-cerrar").click(function () {
                $("#itemspanel").modal("hide");
            });


            $(".cancelartutoria").click(function () {
                var ids = $(this).attr("ids");
                $("#id_solicitudcancelar").val(ids)
                $("#itemspanelcancelar").modal({backdrop: 'static', width: '900'}).modal('show');
            });


            $("#itemspanelcancelar .btn-adicionar-cancelar").click(function () {
                var id_solicitud = $("#id_solicitudcancelar").val();
                var id_observacion = $("#id_observacioncancelar").val();
                if (id_solicitud > 0 && id_observacion != "") {
                    $.post("/pro_tutoriaacademica", {
                        'action': 'cancelarsolicitud',
                        'id': id_solicitud,
                        'id_observacion': id_observacion
                    }, function (data) {
                        $.unblockUI();
                        if (data.result == 'ok') {
                            $("#itemspanelcancelar").modal("hide");
                            location.reload();
                        } else {
                            NotificationJG.warning(data.mensaje);
                        }
                    }, "json");
                }
            });

            $(".btn-cerrar-cancelar").click(function () {
                $("#itemspanelcancelar").modal("hide");
            });


            $(".addclasetutoria").click(function () {
                $.post("/pro_tutoriaacademica", {'action': 'addclasetutoria'}, function (data) {
                    if (data.result == 'ok') {
                        var d = 0;
                    }
                }, 'json');
            });

            $(".asistenciamanual").on('click', function () {
                $('.text-danger').hide();
                $("#itemspaneljustificacion").modal({backdrop: 'static', width: '500'}).modal('show');
                let pk = $(this).attr('idsol');
                $("#id_solicitud_justificacion").val(pk);
            });

            $("#itemspaneljustificacion .btn-adicionar").click(function () {
                var id_solicitud = $("#id_solicitud_justificacion").val();
                var id_justificacion = $("#id_justificacion").val();
                if (id_solicitud !== "" && id_justificacion !== "") {
                    Swal.fire({
                        title: `Desea registrar la asistencia de este alumno manualmente?`,
                        text: "Esta acción es irreversible",
                        type: 'warning',
                        showCancelButton: true,
                        allowOutsideClick: false,
                        confirmButtonColor: '#3085d6',
                        cancelButtonColor: '#d33',
                        confirmButtonText: 'Si, deseo hacerlo',
                        cancelButtonText: 'Cancelar'
                    }).then((result) => {
                        if (result.value) {
                            bloqueointerface();
                            $.ajax({
                                type: "POST",
                                url: "/pro_tutoriaacademica",
                                data: {'action': 'asitenciamanual', 'pk': id_solicitud, 'justificacion': id_justificacion},
                                success: function (data) {
                                    if (data.result === 'ok') {
                                        location.reload();
                                    } else {
                                        $.unblockUI();
                                        NotificationJG.error(data.mensaje, 'Advertencia!', 10000);
                                    }
                                },
                                error: function () {
                                    $.unblockUI();
                                    smoke.alert("Error de conexión.");
                                },
                                dataType: "json"
                            });
                        } else {
                            NotificationJG.error('Acción Anulada', 'Advertencia!', 10000);
                        }
                    });
                } else {
                    $('.text-danger').show();
                }
            });

            $("#itemspaneljustificacionmasivo .btn-adicionarmasivo").click(function () {
                var id_solicitud = $("#id_solicitud_justificacionmasivo").val();
                var id_justificacion = $("#id_justificacionmasivo").val();

                if (id_solicitud !== "" && id_justificacion !== "") {
                    Swal.fire({
                        title: `Desea registrar la asistencia de todos los alumnos?`,
                        text: "Esta acción es irreversible",
                        type: 'warning',
                        showCancelButton: true,
                        allowOutsideClick: false,
                        confirmButtonColor: '#3085d6',
                        cancelButtonColor: '#d33',
                        confirmButtonText: 'Si, deseo hacerlo',
                        cancelButtonText: 'Cancelar'
                    }).then((result) => {
                        if (result.value) {
                            bloqueointerface();
                            $.ajax({
                                type: "POST",
                                url: "/pro_tutoriaacademica",
                                data: {'action': 'asitenciamanualmasivo', 'pk': id_solicitud, 'justificacion': id_justificacion},
                                success: function (data) {
                                    if (data.result === 'ok') {
                                        location.reload();
                                    } else {
                                        $.unblockUI();
                                        NotificationJG.error(data.mensaje, 'Advertencia!', 10000);
                                    }
                                },
                                error: function () {
                                    $.unblockUI();
                                    smoke.alert("Error de conexión.");
                                },
                                dataType: "json"
                            });
                        } else {
                            NotificationJG.error('Acción Anulada', 'Advertencia!', 10000);
                        }
                    });
                } else {
                    $('.text-danger').show();
                }
            });

            $('#itemspaneljustificacion').on('hidden.bs.modal', function (e) {
                $('#id_justificacion').val('');
            });

            $('#itemspaneljustificacionmasivo').on('hidden.bs.modal', function (e) {
                $('#id_justificacionmasivo').val('');
            });

        });
    </script>
{% endblock %}
{% block canvas %}

    {#    <div style="float:right;" class="span12" id="tabla_indicaciones">#}
    {#        <div class='span12'>#}
    {#            <table class='table table-bordered' cellpadding="0" cellspacing="0" style="width: 11%;position: relative;text-align: right">#}
    {#                <thead>#}
    {#                <tr>#}
    {#                    <th style="width: 2%; text-align: center"><span class="label label-success"><i class="fa fa-question"></i></span></th>#}
    {#                    <th style="width: 6%">Pregunta respondida</th>#}
    {#                    <th style="width: 2%; text-align: center"><span class="label label-warning"><i class="fa fa-question"></i></span></th>#}
    {#                    <th style="width: 6%">Pregunta No respondida</th>#}
    {#                </tr>#}
    {#                        <tr>#}
    {#                            <th style="width: 2%; text-align: center"><span class="label label-warning"><i class="fa fa-question"></i></span></th>#}
    {#                            <th style="width: 6%">Pregunta No respondida</th>#}
    {#                        </tr>#}
    {#                <tr>#}
    {#                    <th style="width: 2%; text-align: center"><span class="label label-success tu"><i class="fa fa-check"></i> </span></th>#}
    {#                    <th style="width: 6%">Registro asistencia</th>#}
    {#                    <th style="width: 2%; text-align: center"><span class="label label-warning tu"><i class="fa fa-check"></i> </span></th>#}
    {#                    <th style="width: 6%">Registro No asistencia</th>#}
    {#                </tr>#}
    {#                <tr>#}
    {#                    <th style="width: 2%; text-align: center"><span class="label label-info tu"><b data-toggle="tooltip" data-placement="top" title="{{ solicitud.justificacionasistencia }}"></b><i class="fa fa-hand-grab-o"></i></span></th>#}
    {#                    <th style="width: 6%">Asistencia manual</th>#}
    {#                    <th style="width: 2%; text-align: center"><span class="label label-warning tu"><b data-toggle="tooltip" data-placement="top" title="{{ solicitud.justificacionasistencia }}"></b><i class="fa fa-hand-grab-o"></i></span></th>#}
    {#                    <th style="width: 6%">Asistencia No manual</th>#}
    {#                </tr>#}
    {#                </thead>#}
    {#            </table>#}
    {#        </div>#}
    {#    </div>#}
    <div class='row-fluid'>
        <div class='span12'>
            <h4>{{ title }}</h4>
        </div>
    </div>
    <div class='row-fluid'>
        <div class="span5"><!--span5-->
            <div class="btn-group ">
                <a class="btn dropdown-toggle " data-toggle="dropdown" href="#"> Gestión de tutorías <span
                        class="caret"></span></a>
                <ul class="dropdown-menu">
                    {% if periodo.clasificacion == 2 %}
                        <li>
                            <a href="/pro_tutoriaacademica?action=registrarhorario" class='bloqueo_pantalla'><span
                                    class="fa fa-plus "></span> Registrar horario de tutoría</a>
                        </li>
                    {% endif %}
                    <li>
                        <a href="/pro_tutoriaacademica?action=agregartutoriamanual" class='bloqueo_pantalla'><span
                                class="fa fa-plus "></span> Registrar tutoría manual</a>
                    </li>
                    <li>
                        <a href="/pro_tutoriaacademica?action=convocartutoriamanual" class='bloqueo_pantalla'><span
                                class="fa fa-address-book"></span> Convocar tutoría directa</a>
                    </li>
                    <li>
                        <a href="/pro_tutoriaacademica?action=tutoriacalculada" class="bloqueo_pantalla"><span
                                class="fa fa-cogs"></span> Convocar tutoría calculada</a>
                    </li>
                    <li>
                        <a href="/pro_tutoriaacademica?action=vertutoriaconvocada" class="bloqueo_pantalla"><span
                                class="fa fa-eye"></span> Ver tutorías convocadas</a>
                    </li>
                    <li>
                        <a href="/pro_tutoriaacademica?action=verasistencias" class="bloqueo_pantalla"><span
                                class="fa fa-check"></span> Ver registro de asistencias tutorías</a>
                    </li>
                    {% if periodo.tipo.id == 3 %}
                        <li>
                            <a href="/pro_tutoriaacademica?action=verregistrotutorias" class="bloqueo_pantalla"><span
                                    class="fa fa-close"></span> Ver registro de asistencias tutorías no ejecutadas</a>
                        </li>
                    {% endif %}
                </ul>
            </div>
            <a href="javascript:;" class="btn btn-warning" id="programarsolicitudes" style="display: none"><span class="fa fa-cogs"></span>
                Programar tutorías solicitadas</a>
            <a href="javascript:;" class="btn btn-danger" id="reprogramarsolicitudes" style="display: none"><span class="fa fa-clock-o"></span>
                Reprogramar tutorías</a>
            <a href="javascript:;" class="btn btn-info" id="asistenciamasivo" idsol="" style="display: none"><span class="fa fa-clock-o"></span>
                Masivo Solicitudes</a>
            <a href="javascript:;" class='btn btn-success reporte_ejecucion_tutorias'><span class="fa fa-table"></span> Reporte </a>


        </div>

    </div>

    <ul class="nav nav-tabs" style=" justify-content: right;">

        <li>
            <a class="tabs active" href="#1" data-toggle="tab" id="tab_solicitado">
                <i class="fa fa-list-alt"></i> SOLICITADO
                <span title="Solicitudes" class="btn btn-default">
                    {% with solicitudes=profesor|args:1|args:periodo|call:'solicitudes_tutoria_academica' %}
                        {{ solicitudes.count }}
                    {% endwith %}
                </span>&nbsp;
            </a>
        </li>
        <li>
            <a class="tabs" href="#2" data-toggle="tab" id="tab_programado"><i class="fa fa-list-alt"></i> PROGRAMADO
                <span title="Solicitudes" class="btn btn-default">
                    {% with solicitudes=profesor|args:2|args:periodo|call:'solicitudes_tutoria_academica' %}
                        {{ solicitudes.count }}
                    {% endwith %}
                </span>&nbsp;
            </a>
        </li>
        <li>
            <a class="tabs" href="#3" data-toggle="tab" id="tab_ejecutado"><i class="fa fa-list-alt"></i> EJECUTADO
                <span title="Solicitudes" class="btn btn-default">
                    {% with solicitudes=profesor|args:3|args:periodo|call:'solicitudes_tutoria_academica' %}
                        {{ solicitudes.count }}
                    {% endwith %}
                </span>&nbsp;
            </a>
        </li>
        <li>
            <a class="tabs" href="#4" data-toggle="tab" id="tab_cancelado"><i class="fa fa-list-alt"></i> CANCELADO
                <span title="Solicitudes" class="btn btn-default">
                    {% with solicitudes=profesor|args:4|args:periodo|call:'solicitudes_tutoria_academica' %}
                        {{ solicitudes.count }}
                    {% endwith %}
                </span>&nbsp;
            </a>
        </li>

    </ul>



    <div class="tab-content">
        <div class="row-fluid" id="tabla_indicaciones" style="float: right">
            <div class='span12'>
                <div></div>
                <table class='table table-bordered' cellpadding="0" cellspacing="0" style="width: 30%;float: right">
                    <thead>
                    <tr style="height: 30px">
                        <th style="width: 1%; text-align: center;display: table-cell"><span class="label label-success"><i class="fa fa-question"></i></span></th>
                        <th style="width: 6%;text-align: center; display: table-cell">Pregunta respondida</th>
                        <th style="width: 1%; text-align: center;display: table-cell"><span class="label label-warning"><i class="fa fa-question"></i></span></th>
                        <th style="width: 6%;text-align: center;display: table-cell">Pregunta No respondida</th>
                    </tr>

                    <tr style="height: 30px">
                        <th style="width: 1%; text-align: center;display: table-cell"><span class="label label-success tu"><i class="fa fa-check"></i> </span></th>
                        <th style="width: 6%;text-align: center;display: table-cell">Registro asistencia</th>
                        <th style="width: 1%; text-align: center;display: table-cell"><span class="label label-warning tu"><i class="fa fa-check"></i> </span></th>
                        <th style="width: 6%;text-align: center;display: table-cell">Registro No asistencia</th>
                    </tr>
                    <tr style="height: 30px">
                        <th style="width: 1%; text-align: center;display: table-cell"><span class="label label-info tu"><b data-toggle="tooltip" data-placement="top" title="{{ solicitud.justificacionasistencia }}"></b><i class="fa fa-hand-grab-o"></i></span></th>
                        <th style="width: 6%;text-align: center;display: table-cell">Asistencia manual</th>
                        <th style="width: 1%; text-align: center;display: table-cell"><span class="label label-warning tu"><b data-toggle="tooltip" data-placement="top" title="{{ solicitud.justificacionasistencia }}"></b><i class="fa fa-hand-grab-o"></i></span></th>
                        <th style="width: 6%;text-align: center;display: table-cell">Asistencia No manual</th>
                    </tr>
                    </thead>
                </table>
            </div>
        </div>
        <div id="1" class="tab-pane">
            <div class="row-fluid">
                <div class="span12">
                    <div class="alert alert-info">
                        <a href="javascript:;" class="close" data-dismiss="alert">×</a>
                        <h4 class="alert-heading">Pasos para programar solicitudes de tutorías:</h4>
                        <ul>
                            <li>1.- Seleccionar la solicitud mediante el checkbox, se debe tener en cuenta que deben seleccionar varias solicitudes pero con un mismo tópico, horario, tema y asignatura. <i class="fa fa-check-square-o fa-3x" aria-hidden="true"></i></li>
                            <li>2.- Una vez seleccionadas las solicitudes de acuerdo a los parámetros establecidos, se debe dirigir al botón <span class="label label-warning"><i class="fa fa-cogs"></i> Programar tutorías solicitadas.</span></li>
                        </ul>
                    </div>

                </div>
            </div>
            <div class="row-fluid">
                <div class='span12'>
                    <table class='table table-bordered resultados_SOLICITADO' cellpadding="0" cellspacing="0">
                        <thead>
                        <tr>
                            <th style="text-align: center; padding: 0;"><input style="margin: 4px 0 12px; width: 30px; transform: scale(2);" type="checkbox" idn="{{ profesor.id }}" class="selectortodos" data-toggle="tooltip" title="Seleccionar todos"
                                                                               data-placement="right"></th>
                            <th style="width: 10%">Estudiante</th>
                            <th style="width: 10%">Asignatura</th>
                            <th style="width: 10%">Tema</th>
                            <th style="width: 14%">Observacion <br>Estudiante</th>
                            <th style="width: 8%">Fecha <br>Solicitud</th>
                            {#                            <th style="width: 8%">Fecha <br>Tutoria</th>#}
                            <th style="width: 14%">Horario</th>
                            <th style="width: 5%">Tipo</th>
                            <th style="width: 5%">Topico</th>
                            <th style="width: 5%">Tipo <br>Tutoria</th>
                            {#                            <th style="width: 200px">Estados</th>#}
                            <th style="width: 10%">Detalle final</th>
                            <th style="width: 5%"></th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for solicitud in solicitudes_estado1 %}
                            <tr>
                                <td style="text-align: right; padding: 0">
                                    {% if solicitud.estado == 1 %}
                                        <input id="sol{{ solicitud.id }}" type="checkbox" idp="{{ profesor.id }}" style="width: 30px; transform: scale(2);" data-toggle="tooltip" title="Seleccionar"
                                               data-placement="right"
                                               ids="{{ solicitud.id }}" class="selector"
                                               {% if solicitud.estado == 2 %}checked{% endif %}>
                                    {% endif %}
                                </td>
                                <td style="width: 12%">
                                    {#                                    <b>Estudiante:</b> #}
                                    {{ solicitud.materiaasignada.matricula.inscripcion.persona.nombre_completo_inverso }}
                                    {#                                    <hr>#}
                                </td>
                                <td style="width: 12%">
                                    {#                                    <b>Asignatura:</b> #}
                                    {{ solicitud.materiaasignada.materia.nombre_completo }}
                                </td>
                                <td style="width: 10%">
                                    {% if solicitud.temas %}
                                        {#                                        <b>Tema:</b><br>#}
                                        {% for detalletema in solicitud.temas %}
                                            <b>Sem:. </b>{{ detalletema.tema.silabosemanal.numsemana }}<br>
                                            {{ detalletema.tema.temaunidadresultadoprogramaanalitico.descripcion }}<br>
                                            ({{ detalletema.tema.silabosemanal.fechainiciosemana|date:"Y-m-d" }} /
                                            {{ detalletema.tema.silabosemanal.fechafinciosemana|date:"Y-m-d" }})<br>
                                        {% endfor %}
                                        <hr>
                                    {% endif %}
                                </td>
                                <td style="width: 14%">
                                    {% if solicitud.observacion_estudiante %}
                                        {#                                        <b>Observación estudiante:</b><br> #}
                                        {{ solicitud.observacion_estudiante|default_if_none:"" }}
                                    {% endif %}
                                </td>
                                <td style="width: 8%">
                                    {% if solicitud.fechasolicitud %}
                                        {#                                        <b>Fecha solicitud:</b> #}
                                        <p style="display: none">{{ solicitud.fechasolicitud|date:"Y-m-d"|default_if_none:"" }}</p>{{ solicitud.fechasolicitud|date:"d-m-Y"|default_if_none:"" }}<br>
                                        <b>Hora: </b>{{ solicitud.fechasolicitud|date:"H:i"|default_if_none:"" }}
                                        {#                                        <hr>#}
                                    {% endif %}
                                </td>
                                {#                                <td style="width: 8%">#}
                                {#                                    {% if solicitud.fechatutoria %}#}
                                {#                                        {% if solicitud.horario %}#}
                                {#                                            <hr>#}
                                {#                                        {% endif %}#}
                                {#                                        <b>Fecha tutoria:</b> #}
                                {#                                        <p style="display: none">{{ solicitud.fechatutoria|date:"Y-m-d"|default_if_none:"" }}</p>#}
                                {#                                        {{ solicitud.fechatutoria|date:"d-m-Y"|default_if_none:"" }}<br>#}
                                {#                                        <br>#}
                                {#                                    {% endif %}#}
                                {#                                    {% if solicitud.tutoriacomienza %}#}
                                {#                                        <b>Desde:</b> {{ solicitud.tutoriacomienza|date:"H:i"|default_if_none:"" }} <br>#}
                                {#                                    {% endif %}#}
                                {#                                    {% if solicitud.tutoriatermina %}#}
                                {#                                        <b>Hasta:</b>#}
                                {#                                        {{ solicitud.tutoriatermina|date:"H:i"|default_if_none:"" }}#}
                                {#                                    {% endif %}#}
                                {#                                </td>#}
                                <td style="width: 14%">
                                    {% if solicitud.horario %}
                                        {#                                        <b>Horario:</b> <br>#}
                                        {{ solicitud.horario|default_if_none:"" }}
                                    {% endif %}
                                </td>
                                {#                                <td>#}
                                {#                                    {%  if solicitud.estado == 1  %}#}
                                {#                                        <b>Estado:</b><br>#}
                                {#                                        <span class="smaller label label-warning">#}
                                {#                                                    {{ solicitud.get_estado_display }}#}
                                {#                                                </span>#}
                                {#                                    {% elif solicitud.estado == 2 %}#}
                                {#                                        <b>Estado:</b><br>#}
                                {#                                        <span class="smaller label label-success">#}
                                {#                                                    {{ solicitud.get_estado_display }}#}
                                {#                                                </span>#}
                                {#                                    {% elif solicitud.estado == 3 %}#}
                                {#                                        <b>Estado:</b><br>#}
                                {#                                        <span class="smaller label label-info">#}
                                {#                                                    {{ solicitud.get_estado_display }}#}
                                {#                                                </span>#}
                                {#                                    {% elif solicitud.estado == 4 %}#}
                                {#                                        <b>Estado:</b><br>#}
                                {#                                        <span class="smaller label label-important">#}
                                {#                                                    {{ solicitud.get_estado_display }}#}
                                {#                                                </span>#}
                                {#                                    {% endif %}#}
                                {#                                    <br>#}
                                <td style="width: 5%">{% if solicitud.tipo == 1 %}
                                    {#                                    <b>Tipo:</b> <br>#}
                                    <span class="smaller label label-info">
                                                    {{ solicitud.get_tipo_display }}
                                                </span>
                                {% elif solicitud.tipo == 2 %}
                                    {#                                    <b>Tipo:</b> <br>#}
                                    <span class="smaller label label-inverse">
                                                    {{ solicitud.get_tipo_display }}
                                                </span>
                                {% else %}
                                    {#                                    <b>Tipo:</b> <br>#}
                                    <span class="smaller label label-warning">
                                                    {{ solicitud.get_tipo_display }}
                                                </span>
                                {% endif %}</td>
                                {# Tipo #}

                                {#                                    <br>#}
                                <td style="width: 5%">
                                    {% if solicitud.topico == 1 %}
                                        {#                                        <b>Tópico:</b> <br>#}
                                        <span class="label label-success tu">{{ solicitud.get_topico_display }}</span>
                                    {% elif solicitud.topico == 2 %}
                                        {#                                        <b>Tópico:</b><br>#}
                                        <span class="label label-info tu">{{ solicitud.get_topico_display }}</span>
                                    {% endif %}
                                    <br>
                                    {% if solicitud.manual %}
                                        {#                                        <br><br>#}
                                        <span class="label label-primary tu"> Ingreso manual de profesor. </span>
                                    {% endif %}
                                </td>
                                {# topico #}
                                <td style="width: 5%">
                                    {% if solicitud.tipotutoria %}
                                        {#                                        <br><br>#}
                                        {% if solicitud.tipotutoria == 1 %}
                                            {#                                            <b>Tipo de tutoría:</b> <br>#}
                                            <span class="label label-warning tu">{{ solicitud.get_tipotutoria_display }}</span>
                                        {% elif solicitud.tipotutoria == 2 %}
                                            {#                                            <b>Tipo de tutoría:</b><br>#}
                                            <span class="label label-info tu">{{ solicitud.get_tipotutoria_display }}</span>
                                        {% elif solicitud.tipotutoria == 3 %}
                                            {#                                            <b>Tipo de tutoría:</b><br>#}
                                            <span class="label label-inverse tu">{{ solicitud.get_tipotutoria_display }}</span>
                                        {% else %}
                                            {#                                            <b>Tipo de tutoría:</b><br>#}
                                            <span class="label label-default tu">{{ solicitud.get_tipotutoria_display }}</span>
                                        {% endif %}
                                    {% endif %}
                                </td>
                                <td style="width: 10%">
                                    {% if solicitud.observacion %}
                                        {#                                        <b>Observación docente:</b><br>#}
                                        {{ solicitud.observacion|default_if_none:"" }}
                                        <br>
                                    {% endif %}
                                    {% if solicitud.estado == 3 %}
                                        <b>¿Los inconvenientes en el aprendizaje del estudiante, responde a factores que
                                            no están asociados a lo académico.?</b><br>
                                        {% if solicitud.respuestapregunta %}
                                            <label class="label label-warning">SI</label>
                                        {% else %}
                                            <label class="label label-info">NO</label>
                                        {% endif %}
                                        <br>
                                    {% endif %}

                                    {% if solicitud.asistencia %}
                                        <span class="label label-success tu">  <b>Registro asistencia:</b> <i
                                                class="fa fa-check"></i> </span>
                                    {% else %}
                                        <span class="label label-warning tu"> <b>Registro asistencia:</b> <i
                                                class="fa fa-close"></i> </span>
                                    {% endif %}
                                </td>
                                <td style="width: 5%">
                                    {% if solicitud.estado > 1 %}
                                        <div class="btn-group">
                                            <a class="btn btn-mini dropdown-toggle" data-toggle="dropdown"
                                               href="javascript:;">Acciones<span class="caret"></span></a>
                                            <ul class="dropdown-menu pull-right list-group">
                                                {% if solicitud.estado == 2 and solicitud.fechatutoria and not asistencia %}
                                                    <li><a class="cancelartutoria" href="javascript:;"
                                                           ids="{{ solicitud.id }}"><i class="fa fa-archive"></i> Cancelar
                                                        tutoria. </a></li>
                                                {% endif %}
                                                {% if solicitud.estado == 3 %}
                                                    <li><a href="javascript:;" class="ingresarobservacion"
                                                           ids="{{ solicitud.id }}"><i class="fa fa-address-book"></i>
                                                        Ingresar observación. </a></li>
                                                {% endif %}
                                                {% if solicitud.manual %}
                                                    <li><a class="eliminacionmodal" href="javascript:;"
                                                           nhref="/pro_tutoriaacademica?action=delsolicitud&id={{ solicitud.id|encrypt }}"><i
                                                            class="fa fa-times fa-fw fa fa-remove"></i> Eliminar</a></li>
                                                {% endif %}
                                            </ul>
                                        </div>
                                    {% endif %}
                                </td>
                            </tr>
                            {% empty %}
                            <tr>
                                <td colspan="9">
                                    NO EXISTEN REGISTROS EN EL SISTEMA
                                </td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div id="2" class="tab-pane">
            <div class="row-fluid">
                <div class="span12">
                    <div class="alert alert-warning">
                        <a href="javascript:;" class="close" data-dismiss="alert">×</a>
                        <h4 class="alert-heading">Pasos para reprogramar de tutorías:</h4>
                        <ul>
                            <ol>1.- Seleccionar la tutoria mediante el checkbox, se debe tener en cuenta que deben
                                seleccionar varias solicitudes pero con un mismo Tópico, horario, tema, asignatura y la tutoria debe ser 24 horas de la fecha de ejecucion. <i class="fa fa-check-square-o fa-3x" aria-hidden="true"></i>
                            </ol>
                            <ol>2.- Una vez seleccionadas las solicitudes de acuerdo a los parámetros establecidos, se
                                debe dirigir al botón <span class="label label-important"><i class="fa fa-clock-o"></i> Reprogramar tutorías</span>
                            </ol>
                        </ul>
                    </div>

                </div>
            </div>
            <div class='row-fluid'>
                <div class="span12">
                    <form class="form-search">
                        <input type='text' id='inputsearchestado2' value='{{ search2 }}' autocomplete="off"/>
                        <a href="javascript:;" id='btnbuscarestado2' class='btn btn-info'><span
                                class="fa fa-search "></span> Buscar</a>
                        {% if search2 %}
                            <a href="/pro_tutoriaacademica" id='allresults' class='btn btn-info'><span
                                    class="fa fa-refresh "></span> Todos</a>
                        {% endif %}
                    </form>
                </div>
            </div>
            <div class="row-fluid">
                <div class='span12'>
                    <table class='table table-bordered resultados_PROGRAMADO' cellpadding="0" cellspacing="0" style="width: 100%">
                        <thead>
                        <tr>
                            {#                            <th style="width: 200px">Solicitud</th>#}
                            {#                            <th style="width: 100px">Tema</th>#}
                            {#                            <th style="width: 100px">Fechas</th>#}
                            {#                            <th style="width: 200px">Estados</th>#}
                            {#                            <th style="width: 500px">Detalle final</th>#}
                            {#                            <th style="width: 50px"></th>#}
                            <th style="text-align: center; padding: 0;"><input style="margin: 4px 0 12px; width: 30px; transform: scale(2);" type="checkbox" idn="{{ profesor.id }}" class="selectortodosrep"></th>
                            <th style="width: 10%">Estudiante</th>
                            <th style="width: 10%">Asignatura</th>
                            <th style="width: 10%">Tema</th>
                            <th style="width: 10%">Observacion <br>Estudiante</th>
                            <th style="width: 8%">Fecha <br>Solicitud</th>
                            <th style="width: 8%">Fecha <br>Tutoria</th>
                            <th style="width: 10%">Horario</th>
                            <th style="width: 5%">Tipo</th>
                            <th style="width: 5%">Topico</th>
                            <th style="width: 5%">Tipo <br>Tutoria</th>
                            {#                            <th style="width: 200px">Estados</th>#}
                            <th style="width: 10%">Detalle final</th>
                            <th style="width: 5%"></th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for solicitud in solicitudes_estado2 %}
                            <tr>
                                <td style="text-align: center; padding: 0">
                                    {% if solicitud.fechatoperep %}
                                        <input id="sol{{ solicitud.id }}" type="checkbox" idp="{{ profesor.id }}"
                                               ids="{{ solicitud.id }}" class="selectorrep" style="width: 30px; transform: scale(2);">
                                        {#                                               {% if solicitud.estado == 2 %}checked{% endif %}#}

                                    {% endif %}
                                </td>
                                <td>
                                    {#                                    <b>Estudiante:</b> #}
                                    {{ solicitud.materiaasignada.matricula.inscripcion.persona.nombre_completo_inverso }}<br>
                                    {#                                    <hr>#}
                                </td>
                                <td>
                                    {#                                    <b>Asignatura:</b> #}
                                    {{ solicitud.materiaasignada.materia.nombre_completo }}<br>
                                </td>
                                <td>
                                    {% if solicitud.temas %}
                                        {#                                        <b>Tema:</b><br>#}
                                        {% for detalletema in solicitud.temas %}
                                            <b>Sem:. </b>{{ detalletema.tema.silabosemanal.numsemana }}<br>
                                            {{ detalletema.tema.temaunidadresultadoprogramaanalitico.descripcion }}<br>
                                            ({{ detalletema.tema.silabosemanal.fechainiciosemana|date:"Y-m-d" }} /
                                            {{ detalletema.tema.silabosemanal.fechafinciosemana|date:"Y-m-d" }})<br>
                                        {% endfor %}
                                        <hr>
                                    {% endif %}
                                </td>
                                <td>
                                    {% if solicitud.observacion_estudiante %}
                                        {#                                        <b>Observación estudiante:</b><br>#}
                                        {{ solicitud.observacion_estudiante|default_if_none:"" }}
                                    {% endif %}
                                </td>
                                <td>
                                    {% if solicitud.fechasolicitud %}
                                        {#                                        <b>Fecha solicitud:</b>#}
                                        <p style="display: none">{{ solicitud.fechasolicitud|date:"Y-m-d"|default_if_none:"" }}</p>
                                        {{ solicitud.fechasolicitud|date:"d-m-Y"|default_if_none:"" }}<br>
                                        <b>Hora: </b>{{ solicitud.fechasolicitud|date:"H:i"|default_if_none:"" }}
                                        {#                                        <hr>#}
                                    {% endif %}
                                </td>
                                <td>
                                    {% if solicitud.fechatutoria %}
                                        {#                                        {% if solicitud.horario %}#}
                                        {#                                            <hr>#}
                                        {#                                        {% endif %}#}
                                        {#                                        <b>Fecha tutoria:</b>#}
                                        <p style="display: none">{{ solicitud.fechatutoria|date:"Y-m-d"|default_if_none:"" }}</p>
                                        {{ solicitud.fechatutoria|date:"d-m-Y"|default_if_none:"" }} <br>
                                        {% if solicitud.tutoriacomienza %}
                                            <b>Desde:</b> {{ solicitud.tutoriacomienza|date:"H:i"|default_if_none:"" }}
                                            <br>
                                        {% endif %}
                                        {% if solicitud.tutoriatermina %}
                                            <b>Hasta:</b> {{ solicitud.tutoriatermina|date:"H:i"|default_if_none:"" }}
                                        {% endif %}
                                    {% endif %}
                                </td>
                                <td>
                                    {% if solicitud.horario %}
                                        {#                                        <b>Horario:</b> <br>#}
                                        {{ solicitud.horario|default_if_none:"" }}
                                    {% endif %}

                                </td>
                                <td>
                                    {#                                    {% if solicitud.estado == 1 %}#}
                                    {#                                        <b>Estado:</b><br>#}
                                    {#                                        <span class="smaller label label-warning">#}
                                    {#                                                    {{ solicitud.get_estado_display }}#}
                                    {#                                                </span>#}
                                    {#                                    {% elif solicitud.estado == 2 %}#}
                                    {#                                        <b>Estado:</b><br>#}
                                    {#                                        <span class="smaller label label-success">#}
                                    {#                                                    {{ solicitud.get_estado_display }}#}
                                    {#                                                </span>#}
                                    {#                                    {% elif solicitud.estado == 3 %}#}
                                    {#                                        <b>Estado:</b><br>#}
                                    {#                                        <span class="smaller label label-info">#}
                                    {#                                                    {{ solicitud.get_estado_display }}#}
                                    {#                                                </span>#}
                                    {#                                    {% elif solicitud.estado == 4 %}#}
                                    {#                                        <b>Estado:</b><br>#}
                                    {#                                        <span class="smaller label label-important">#}
                                    {#                                                    {{ solicitud.get_estado_display }}#}
                                    {#                                                </span>#}
                                    {#                                    {% endif %}#}
                                    {#                                    <br>#}
                                    {% if solicitud.tipo == 1 %}
                                        {#                                        <b>Tipo:</b> <br>#}
                                        <span class="smaller label label-info">
                                                    {{ solicitud.get_tipo_display }}
                                                </span>
                                    {% elif solicitud.tipo == 2 %}
                                        {#                                        <b>Tipo:</b> <br>#}
                                        <span class="smaller label label-inverse">
                                                    {{ solicitud.get_tipo_display }}
                                                </span>
                                    {% else %}
                                        {#                                        <b>Tipo:</b> <br>#}
                                        <span class="smaller label label-warning">
                                                    {{ solicitud.get_tipo_display }}
                                                </span>
                                    {% endif %}
                                    {#                                    <br>#}
                                </td>
                                <td>
                                    {% if solicitud.topico == 1 %}
                                        {#                                        <b>Tópico:</b> <br>#}
                                        <span class="label label-success tu">{{ solicitud.get_topico_display }}</span>
                                    {% elif solicitud.topico == 2 %}
                                        {#                                        <b>Tópico:</b><br>#}
                                        <span class="label label-info tu">{{ solicitud.get_topico_display }}</span>
                                    {% endif %}
                                    {% if solicitud.manual %}
                                        <br><br>
                                        <span class="label label-primary tu"> Ingreso manual de profesor. </span>
                                    {% endif %}
                                </td>
                                <td>
                                    {% if solicitud.tipotutoria %}
                                        {#                                        <br><br>#}
                                        {% if solicitud.tipotutoria == 1 %}
                                            {#                                            <b>Tipo de tutoría:</b> <br>#}
                                            <span class="label label-warning tu">{{ solicitud.get_tipotutoria_display }}</span>
                                        {% elif solicitud.tipotutoria == 2 %}
                                            {#                                            <b>Tipo de tutoría:</b><br>#}
                                            <span class="label label-info tu">{{ solicitud.get_tipotutoria_display }}</span>
                                        {% elif solicitud.tipotutoria == 3 %}
                                            {#                                            <b>Tipo de tutoría:</b><br>#}
                                            <span class="label label-inverse tu">{{ solicitud.get_tipotutoria_display }}</span>
                                        {% else %}
                                            {#                                            <b>Tipo de tutoría:</b><br>#}
                                            <span class="label label-default tu">{{ solicitud.get_tipotutoria_display }}</span>
                                        {% endif %}
                                    {% endif %}
                                </td>
                                <td>
                                    {% if solicitud.observacion %}
                                        {#                                        <b>Observación docente:</b><br>#}
                                        {{ solicitud.observacion|default_if_none:"" }}
                                        <br>
                                    {% endif %}
                                    {% if solicitud.estado == 3 %}
                                        <b>¿Los inconvenientes en el aprendizaje del estudiante, responde a factores que
                                            no están asociados a lo académico.?</b><br>
                                        {% if solicitud.respuestapregunta %}
                                            <label class="label label-warning">SI</label>
                                        {% else %}
                                            <label class="label label-info">NO</label>
                                        {% endif %}
                                    {% endif %}

                                    {% if solicitud.asistencia %}
                                        <br>
                                        <span class="label label-success tu">  <b>Registro asistencia:</b> <i
                                                class="fa fa-check"></i> </span>
                                    {% else %}
                                        <span class="label label-warning tu"> <b>Registro asistencia:</b> <i
                                                class="fa fa-close"></i> </span>
                                    {% endif %}
                                </td>
                                <td>
                                    <div class="btn-group">
                                        <a class="btn btn-mini dropdown-toggle" data-toggle="dropdown"
                                           href="javascript:;">Acciones<span class="caret"></span></a>
                                        <ul class="dropdown-menu pull-right list-group">
                                            {% if solicitud.estado == 2 and solicitud.fechatutoria and not asistencia %}
                                                <li><a class="cancelartutoria" href="javascript:;"
                                                       ids="{{ solicitud.id }}"><i class="fa fa-archive"></i> Cancelar
                                                    tutoria. </a></li>
                                            {% endif %}
                                            {% if solicitud.estado == 3 %}
                                                <li><a href="javascript:;" class="ingresarobservacion"
                                                       ids="{{ solicitud.id }}"><i class="fa fa-address-book"></i>
                                                    Ingresar observación. </a></li>
                                            {% endif %}
                                            {% if solicitud.manual %}
                                                <li><a class="eliminacionmodal" href="javascript:;"
                                                       nhref="/pro_tutoriaacademica?action=delsolicitud&id={{ solicitud.id|encrypt }}"><i
                                                        class="fa fa-times fa-fw fa fa-remove"></i> Eliminar</a></li>
                                            {% endif %}
                                        </ul>
                                    </div>
                                </td>
                            </tr>
                            {% empty %}
                            <tr>
                                <td colspan="10">
                                    NO EXISTEN REGISTROS EN EL SISTEMA
                                </td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                    <div class='row-fluid'>
                        {% if paging_estado2.num_pages > 20 %}
                            <div class='pagination'>
                                <ul>
                                    {% if paging_estado2.primera_pagina %}
                                        <li><a href="/pro_tutoriaacademica?page_estado2=1">1</a></li>
                                        <li>
                                            <a href="/adm_requerimiento?page_estado2={{ paging_estado2.ellipsis_izquierda }}"
                                               class="active">...</a></li>
                                    {% endif %}
                                    {% for pagenumber in paging_estado2.paginas %}
                                        <li {% if pagenumber == page_estado2.number %}class='active'{% endif %}>
                                            <a href="/pro_tutoriaacademica?page_estado2={{ pagenumber }}">{{ pagenumber }}</a>
                                        </li>
                                    {% endfor %}
                                    {% if paging_estado2.ultima_pagina %}
                                        <li>
                                            <a href="/pro_tutoriaacademica?page_estado2={{ paging_estado2.ellipsis_derecha }}"
                                               class="active">...</a></li>
                                        <li>
                                            <a href="/pro_tutoriaacademica?page_estado2={{ paging_estado2.num_pages }}">{{ paging_estado2.num_pages }}</a>
                                        </li>
                                    {% endif %}
                                </ul>
                            </div>
                        {% else %}
                            <div class='pagination'>
                                <ul>
                                    {% for pagenumber in paging_estado2.page_range %}
                                        <li {% if pagenumber == page_estado2.number %}class='active'{% endif %}>
                                            <a href="/pro_tutoriaacademica?{% if search2 %}s2={{ search1 }}&{% endif %}page_estado2={{ pagenumber }}">{{ pagenumber }}</a>
                                        </li>
                                    {% endfor %}
                                </ul>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>

        <div id="3" class="tab-pane">
            <div class='row-fluid'>
                <div class="span12">
                    <form class="form-search">
                        <input type='text' id='inputsearchestado3' value='{{ search3 }}' autocomplete="off"/>
                        <a href="javascript:;" id='btnbuscarestado3' class='btn btn-info'><span
                                class="fa fa-search "></span> Buscar</a>
                        {% if search3 %}
                            <a href="/pro_tutoriaacademica" id='allresults' class='btn btn-info'><span
                                    class="fa fa-refresh "></span> Todos</a>
                        {% endif %}
                    </form>
                </div>
            </div>

            <div class="row-fluid">
                <div class='span12'>
                    <table class='table table-bordered resultados_EJECUTADO' cellpadding="0" cellspacing="0">
                        <thead>
                        <tr>
                            {#                            <th style="width: 200px">Solicitud</th>#}
                            {#                            <th style="width: 100px">Tema</th>#}
                            {#                            <th style="width: 100px">Fechas</th>#}
                            {#                            <th style="width: 200px">Estados</th>#}
                            {#                            <th style="width: 500px">Detalle final</th>#}
                            {#                            <th style="width: 50px"></th>#}
                            <th style="width: 10%; text-align: center">Estudiante</th>
                            <th style="width: 10%; text-align: center">Asignatura</th>
                            <th style="width: 10%; text-align: center">Tema</th>
                            <th style="width: 10%; text-align: center">Observaciones </th>
                            <th style="width: 8%; text-align: center">Fecha <br>Solicitud</th>
                            <th style="width: 8%; text-align: center">Fecha <br>Tutoria</th>
                            <th style="width: 10%; text-align: center">Horario</th>
                            <th style="width: 5%; text-align: center">Tipo</th>
                            <th style="width: 5%; text-align: center">Topico</th>
                            <th style="width: 5%; text-align: center">Tipo <br>Tutoria</th>
                            <th style="width: 7%; text-align: center">Detalle final</th>
                            <th style="width: 5%; text-align: center"></th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for solicitud in solicitudes_estado3 %}
                            <tr>
                                <td>
                                    {#                                    <b>Estudiante:</b> #}
                                    {{ solicitud.materiaasignada.matricula.inscripcion.persona.nombre_completo_inverso }}
                                    {#                                    <hr>#}
                                </td>
                                <td>
                                    {#                                    <b>Asignatura:</b> #}
                                    {{ solicitud.materiaasignada.materia.nombre_completo }}
                                </td>
                                <td>
                                    {% if solicitud.temas %}
                                        {#                                        <b>Tema:</b><br>#}
                                        {% for detalletema in solicitud.temas %}
                                            <b>Sem:. </b>{{ detalletema.tema.silabosemanal.numsemana }}<br>
                                            {{ detalletema.tema.temaunidadresultadoprogramaanalitico.descripcion }}<br>
                                            ({{ detalletema.tema.silabosemanal.fechainiciosemana|date:"Y-m-d" }} /
                                            {{ detalletema.tema.silabosemanal.fechafinciosemana|date:"Y-m-d" }})<br>
                                        {% endfor %}
                                        {#                                        <hr>#}
                                    {% endif %}
                                </td>
                                <td>
                                    {% if solicitud.observacion_estudiante %}
                                        <b>Estudiante:</b><br>
                                        {{ solicitud.observacion_estudiante|default_if_none:"" }}<br>
                                    {% endif %}
                                    {% if solicitud.observacion_estudiante %}
                                        <b>Docente:</b><br>
                                        {{ solicitud.observacion|default_if_none:"" }}
                                        <br>
                                    {% endif %}
                                </td>
                                <td>
                                    {% if solicitud.fechasolicitud %}
                                        {#                                        <b>Fecha solicitud:</b>#}
                                        <p style="display: none">{{ solicitud.fechasolicitud|date:"Y-m-d"|default_if_none:"" }}</p>
                                        {{ solicitud.fechasolicitud|date:"d-m-Y H:i"|default_if_none:"" }}
                                        <hr>
                                    {% endif %}
                                </td>
                                <td>
                                    {% if solicitud.fechatutoria %}
                                        {#                                        {% if solicitud.horario %}#}
                                        {#                                            <hr>#}
                                        {#                                        {% endif %}#}
                                        {#                                        <b>Fecha tutoria:</b>#}
                                        <p style="display: none">{{ solicitud.fechatutoria|date:"Y-m-d"|default_if_none:"" }}</p>
                                        {{ solicitud.fechatutoria|date:"d-m-Y"|default_if_none:"" }} <br>
                                    {% endif %}
                                    {% if solicitud.tutoriacomienza %}
                                        <b>Desde:</b> {{ solicitud.tutoriacomienza|date:"H:i"|default_if_none:"" }} <br>
                                    {% endif %}
                                    {% if solicitud.tutoriatermina %}
                                        <b>Hasta:</b> {{ solicitud.tutoriatermina|date:"H:i"|default_if_none:"" }}
                                    {% endif %}
                                </td>
                                <td>
                                    {% if solicitud.horario %}
                                        <b>Horario:</b> <br>{{ solicitud.horario|default_if_none:"" }}
                                    {% endif %}
                                </td>
                                <td>
                                    {% if solicitud.estado == 1 %}
                                        <b>Estado:</b><br>
                                        <span class="smaller label label-warning"></span>
                                        {% if solicitud.fechatutoria %}
                                            {% if solicitud.horario %}
                                                <hr>
                                            {% endif %}
                                            <b>Fecha tutoria:</b>
                                            {{ solicitud.fechatutoria|date:"d-m-Y"|default_if_none:"" }} <br>
                                        {% endif %}
                                        {% if solicitud.tutoriacomienza %}
                                            <b>Desde:</b> {{ solicitud.tutoriacomienza|date:"H:i"|default_if_none:"" }}
                                            <br>
                                        {% endif %}
                                        {% if solicitud.tutoriatermina %}
                                            <b>Hasta:</b> {{ solicitud.tutoriatermina|date:"H:i"|default_if_none:"" }}
                                        {% endif %}
                                        {#                                            {% if solicitud.tipotutoria == 2 %}#}
                                        {#                                                {%  if solicitud.disponibletutoria %}#}
                                        {#                                                    <a href="{{ solicitud.profesor.urlzoom }}" target="_blank"  style="background-color: #2d8cff!important;" class='btn btn-warning addclasetutoria'>#}
                                        {#                                                        <i class="fa fa-video-camera"></i> Ingresar a la tutoría#}
                                        {#                                                    </a>#}
                                        {#                                                {% endif %}#}
                                    {% endif %}
                                    {#                                    {% if solicitud.estado == 1 %}#}
                                    {#                                        <b>Estado:</b><br>#}
                                    {#                                        <span class="smaller label label-warning">#}
                                    {#                                                    {{ solicitud.get_estado_display }}#}
                                    {#                                                </span>#}
                                    {#                                    {% elif solicitud.estado == 2 %}#}
                                    {#                                        <b>Estado:</b><br>#}
                                    {#                                        <span class="smaller label label-success">#}
                                    {#                                                    {{ solicitud.get_estado_display }}#}
                                    {#                                                </span>#}
                                    {#                                    {% elif solicitud.estado == 3 %}#}
                                    {#                                        <b>Estado:</b><br>#}
                                    {#                                        <span class="smaller label label-info">#}
                                    {#                                                    {{ solicitud.get_estado_display }}#}
                                    {#                                                </span>#}
                                    {#                                    {% elif solicitud.estado == 4 %}#}
                                    {#                                        <b>Estado:</b><br>#}
                                    {#                                        <span class="smaller label label-important">#}
                                    {#                                                    {{ solicitud.get_estado_display }}#}
                                    {#                                                </span>#}
                                    {#                                    {% endif %}#}
                                    {#                                    <br>#}
                                    {% if solicitud.tipo == 1 %}
                                        {#                                        <b>Tipo:</b> <br>#}
                                        <span class="smaller label label-info">
                                                    {{ solicitud.get_tipo_display }}
                                                </span>
                                    {% elif solicitud.tipo == 2 %}
                                        {#                                        <b>Tipo:</b> <br>#}
                                        <span class="smaller label label-inverse">
                                                    {{ solicitud.get_tipo_display }}
                                                </span>
                                    {% else %}
                                        {#                                        <b>Tipo:</b> <br>#}
                                        <span class="smaller label label-warning">
                                                    {{ solicitud.get_tipo_display }}
                                                </span>
                                    {% endif %}
                                    {#                                    <br>#}
                                </td>

                                <td>
                                    {% if solicitud.topico == 1 %}
                                        {#                                        <b>Tópico:</b> <br>#}
                                        <span class="label label-success tu">{{ solicitud.get_topico_display }}</span>
                                    {% elif solicitud.topico == 2 %}
                                        {#                                        <b>Tópico:</b><br>#}
                                        <span class="label label-info tu">{{ solicitud.get_topico_display }}</span>
                                    {% endif %}
                                </td>
                                <td>
                                    {% if solicitud.tipotutoria %}
                                        {#                                        <br><br>#}
                                        {% if solicitud.tipotutoria == 1 %}
                                            {#                                            <b>Tipo de tutoría:</b> <br>#}
                                            <span class="label label-warning tu">{{ solicitud.get_tipotutoria_display }}</span>
                                        {% elif solicitud.tipotutoria == 2 %}
                                            {#                                            <b>Tipo de tutoría:</b><br>#}
                                            <span class="label label-info tu">{{ solicitud.get_tipotutoria_display }}</span>
                                        {% elif solicitud.tipotutoria == 3 %}
                                            {#                                            <b>Tipo de tutoría:</b><br>#}
                                            <span class="label label-inverse tu">{{ solicitud.get_tipotutoria_display }}</span>
                                        {% else %}
                                            {#                                            <b>Tipo de tutoría:</b><br>#}
                                            <span class="label label-default tu">{{ solicitud.get_tipotutoria_display }}</span>
                                        {% endif %}
                                    {% endif %}
                                </td>
                                <td style="text-align: center">

                                    {% if solicitud.estado == 3 %}
                                        {#                                        <b>¿Los inconvenientes en el aprendizaje del estudiante, responde a factores que#}
                                        {#                                            no están asociados a lo académico.?</b>&nbsp;&nbsp;#}

                                        {% if solicitud.respuestapregunta %}
                                            {#                                            <label class="label label-warning">SI</label>#}
                                            <span class="label label-success"><i class="fa fa-question"></i></span>
                                        {% else %}
                                            {#                                            <label class="label label-info">NO</label>#}
                                            <span class="label label-warning"><i class="fa fa-question"></i></span>
                                        {% endif %}
                                    {% endif %}
                                    {#                                    <br><br>#}
                                    {% if solicitud.asistencia %}
                                        <span class="label label-success tu"> <!--<b>Registro asistencia:</b>--> <i
                                                class="fa fa-check"></i> </span>
                                        {% if solicitud.asistenciamanual %}<!--<br>-->
                                            <span class="label label-info tu"><b data-toggle="tooltip" data-placement="top"
                                                                                 title="{{ solicitud.justificacionasistencia }}">
                                                <!--Asistencia manual--></b> <i class="fa fa-hand-grab-o"></i> </span>
                                        {% endif %}
                                    {% else %}
                                        <span class="label label-warning tu"> <b>Registro asistencia:</b> <i
                                                class="fa fa-close"></i> </span>
                                    {% endif %}
                                    {% if solicitud.manual %}
                                        <br>
                                        <span class="label label-primary tu"> Ingreso manual de profesor. </span>
                                    {% endif %}
                                </td>
                                <td>
                                    <div class="btn-group">
                                        <a class="btn btn-mini dropdown-toggle" data-toggle="dropdown"
                                           href="javascript:;">Acciones<span class="caret"></span></a>
                                        <ul class="dropdown-menu pull-right list-group">
                                            {% if solicitud.estado == 2 and solicitud.fechatutoria and not asistencia %}
                                                <li><a class="cancelartutoria" href="javascript:;"
                                                       ids="{{ solicitud.id }}"><i class="fa fa-archive"></i> Cancelar
                                                    tutoria. </a></li>
                                            {% endif %}
                                            {% if solicitud.estado == 3 %}
                                                <li><a href="javascript:;" class="ingresarobservacion"
                                                       ids="{{ solicitud.id }}"><i class="fa fa-address-book"></i>
                                                    Ingresar observación. </a></li>
                                            {% endif %}
                                            {% if solicitud.manual %}
                                                <li><a class="eliminacionmodal" href="javascript:;"
                                                       nhref="/pro_tutoriaacademica?action=delsolicitud&id={{ solicitud.id|encrypt }}"><i
                                                        class="fa fa-times fa-fw fa fa-remove"></i> Eliminar</a></li>
                                            {% endif %}
                                        </ul>
                                    </div>
                                </td>
                            </tr>
                            {% empty %}
                            <tr>
                                <td colspan="10">
                                    NO EXISTEN REGISTROS EN EL SISTEMA
                                </td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                    <div class='row-fluid'>
                        {% if paging_estado3.num_pages > 20 %}
                            <div class='pagination'>
                                <ul>
                                    {% if paging_estado3.primera_pagina %}
                                        <li><a href="/pro_tutoriaacademica?page_estado3=1">1</a></li>
                                        <li>
                                            <a href="/adm_requerimiento?page_estado3={{ paging_estado3.ellipsis_izquierda }}"
                                               class="active">...</a></li>
                                    {% endif %}
                                    {% for pagenumber in paging_estado3.paginas %}
                                        <li {% if pagenumber == page_estado3.number %}class='active'{% endif %}>
                                            <a href="/pro_tutoriaacademica?page_estado3={{ pagenumber }}">{{ pagenumber }}</a>
                                        </li>
                                    {% endfor %}
                                    {% if paging_estado3.ultima_pagina %}
                                        <li>
                                            <a href="/pro_tutoriaacademica?page_estado3={{ paging_estado3.ellipsis_derecha }}"
                                               class="active">...</a></li>
                                        <li>
                                            <a href="/pro_tutoriaacademica?page_estado3={{ paging_estado3.num_pages }}">{{ paging_estado3.num_pages }}</a>
                                        </li>
                                    {% endif %}
                                </ul>
                            </div>
                        {% else %}
                            <div class='pagination'>
                                <ul>
                                    {% for pagenumber in paging_estado3.page_range %}
                                        <li {% if pagenumber == page_estado3.number %}class='active'{% endif %}>
                                            <a href="/pro_tutoriaacademica?{% if search3 %}s3={{ search3 }}&{% endif %}page_estado3={{ pagenumber }}">{{ pagenumber }}</a>
                                        </li>
                                    {% endfor %}
                                </ul>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        <div id="4" class="tab-pane">
            <div class='row-fluid'>
                <div class="span12">
                    <form class="form-search">
                        <input type='text' id='inputsearchestado4' value='{{ search4 }}' autocomplete="off"/>
                        <a href="javascript:;" id='btnbuscarestado4' class='btn btn-info'><span
                                class="fa fa-search "></span> Buscar</a>
                        {% if search4 %}
                            <a href="/pro_tutoriaacademica" id='allresults' class='btn btn-info'><span
                                    class="fa fa-refresh "></span> Todos</a>
                        {% endif %}
                    </form>
                </div>
            </div>
            <div class="row-fluid">
                <div class='span12'>
                    <table class='table table-bordered resultados_CANCELADO' cellpadding="0" cellspacing="0">
                        <thead>
                        <tr>
                            {#                            <th style="width: 200px">Solicitud</th>#}
                            {#                            <th style="width: 100px">Tema</th>#}
                            {#                            <th style="width: 100px">Fechas</th>#}
                            {#                            <th style="width: 200px">Estados</th>#}
                            {#                            <th style="width: 500px">Detalle final</th>#}
                            {#                            <th style="width: 50px"></th>#}
                            <th style="width: 10%">Estudiante</th>
                            <th style="width: 10%">Asignatura</th>
                            <th style="width: 10%">Tema</th>
                            <th style="width: 10%">Observacion <br>Estudiante</th>
                            <th style="width: 8%">Fecha <br>Solicitud</th>
                            <th style="width: 8%">Fecha <br>Tutoria</th>
                            <th style="width: 10%">Horario</th>
                            <th style="width: 5%">Tipo</th>
                            <th style="width: 5%">Topico</th>
                            <th style="width: 5%">Tipo <br>Tutoria</th>
                            <th style="width: 10%">Detalle final</th>
                            <th style="width: 5%"></th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for solicitud in solicitudes_estado4 %}
                            <tr>
                                <td>
                                    {#                                    <b>Estudiante:</b> #}
                                    {{ solicitud.materiaasignada.matricula.inscripcion.persona.nombre_completo_inverso }}
                                    {#                                    <hr>#}
                                </td>
                                <td>
                                    {#                                    <b>Asignatura:</b> #}
                                    {{ solicitud.materiaasignada.materia.nombre_completo }}
                                </td>
                                <td>
                                    {% if solicitud.temas %}
                                        <b>Tema:</b><br>
                                        {% for detalletema in solicitud.temas %}
                                            <b>Sem:. </b>{{ detalletema.tema.silabosemanal.numsemana }}<br>
                                            {{ detalletema.tema.temaunidadresultadoprogramaanalitico.descripcion }}<br>
                                            ({{ detalletema.tema.silabosemanal.fechainiciosemana|date:"Y-m-d" }} /
                                            {{ detalletema.tema.silabosemanal.fechafinciosemana|date:"Y-m-d" }})<br>
                                        {% endfor %}
                                        {#                                        <hr>#}
                                    {% endif %}
                                </td>
                                <td>
                                    {% if solicitud.observacion_estudiante %}
                                        {#                                        <b>Observación estudiante:</b><br>#}
                                        {{ solicitud.observacion_estudiante|default_if_none:"" }}
                                    {% endif %}
                                </td>
                                <td>
                                    {% if solicitud.fechasolicitud %}
                                        {#                                        <b>Fecha solicitud:</b>#}
                                        {{ solicitud.fechasolicitud|date:"d-m-Y H:i"|default_if_none:"" }}
                                        {#                                        <hr>#}
                                    {% endif %}
                                </td>
                                <td>
                                    {% if solicitud.fechatutoria %}
                                        {#                                        {% if solicitud.horario %}#}
                                        {#                                            <hr>#}
                                        {#                                        {% endif %}#}
                                        {#                                        <b>Fecha tutoria:</b>#}
                                        {{ solicitud.fechatutoria|date:"d-m-Y"|default_if_none:"" }} <br>
                                    {% endif %}
                                    {% if solicitud.tutoriacomienza %}
                                        <b>Desde:</b> {{ solicitud.tutoriacomienza|date:"H:i"|default_if_none:"" }} <br>
                                    {% endif %}
                                    {% if solicitud.tutoriatermina %}
                                        <b>Hasta:</b> {{ solicitud.tutoriatermina|date:"H:i"|default_if_none:"" }}
                                    {% endif %}
                                </td>
                                <td>
                                    {% if solicitud.horario %}
                                        {#                                        <b>Horario:</b> <br>#}
                                        {{ solicitud.horario|default_if_none:"" }}
                                    {% endif %}
                                </td>
                                <td>
                                    {#                                    {% if solicitud.estado == 1 %}#}
                                    {#                                        <b>Estado:</b><br>#}
                                    {#                                        <span class="smaller label label-warning">#}
                                    {#                                                    {{ solicitud.get_estado_display }}#}
                                    {#                                                </span>#}
                                    {#                                    {% elif solicitud.estado == 2 %}#}
                                    {#                                        <b>Estado:</b><br>#}
                                    {#                                        <span class="smaller label label-success">#}
                                    {#                                                    {{ solicitud.get_estado_display }}#}
                                    {#                                                </span>#}
                                    {#                                    {% elif solicitud.estado == 3 %}#}
                                    {#                                        <b>Estado:</b><br>#}
                                    {#                                        <span class="smaller label label-info">#}
                                    {#                                                    {{ solicitud.get_estado_display }}#}
                                    {#                                                </span>#}
                                    {#                                    {% elif solicitud.estado == 4 %}#}
                                    {#                                        <b>Estado:</b><br>#}
                                    {#                                        <span class="smaller label label-important">#}
                                    {#                                                    {{ solicitud.get_estado_display }}#}
                                    {#                                                </span>#}
                                    {#                                    {% endif %}#}
                                    {#                                    <br>#}
                                    {% if solicitud.tipo == 1 %}
                                        {#                                        <b>Tipo:</b> <br>#}
                                        <span class="smaller label label-info">
                                                    {{ solicitud.get_tipo_display }}
                                                </span>
                                    {% elif solicitud.tipo == 2 %}
                                        {#                                        <b>Tipo:</b> <br>#}
                                        <span class="smaller label label-inverse">
                                                    {{ solicitud.get_tipo_display }}
                                                </span>
                                    {% else %}
                                        {#                                        <b>Tipo:</b> <br>#}
                                        <span class="smaller label label-warning">
                                                    {{ solicitud.get_tipo_display }}
                                                </span>
                                    {% endif %}
                                    {#                                    <br>#}
                                </td>
                                <td>
                                    {% if solicitud.topico == 1 %}
                                        {#                                        <b>Tópico:</b> <br>#}
                                        <span class="label label-success tu">{{ solicitud.get_topico_display }}</span>
                                    {% elif solicitud.topico == 2 %}
                                        {#                                        <b>Tópico:</b><br>#}
                                        <span class="label label-info tu">{{ solicitud.get_topico_display }}</span>
                                    {% endif %}
                                </td>
                                <td>
                                    {% if solicitud.tipotutoria %}
                                        {#                                        <br><br>#}
                                        {% if solicitud.tipotutoria == 1 %}
                                            {#                                            <b>Tipo de tutoría:</b> <br>#}
                                            <span class="label label-warning tu">{{ solicitud.get_tipotutoria_display }}</span>
                                        {% elif solicitud.tipotutoria == 2 %}
                                            {#                                            <b>Tipo de tutoría:</b><br>#}
                                            <span class="label label-info tu">{{ solicitud.get_tipotutoria_display }}</span>
                                        {% elif solicitud.tipotutoria == 3 %}
                                            {#                                            <b>Tipo de tutoría:</b><br>#}
                                            <span class="label label-inverse tu">{{ solicitud.get_tipotutoria_display }}</span>
                                        {% else %}
                                            {#                                            <b>Tipo de tutoría:</b><br>#}
                                            <span class="label label-default tu">{{ solicitud.get_tipotutoria_display }}</span>
                                        {% endif %}
                                    {% endif %}
                                </td>
                                <td>
                                    {% if solicitud.observacion %}
                                        {#                                        <b>Observación docente:</b><br>#}
                                        {{ solicitud.observacion|default_if_none:"" }}
                                        <br>
                                    {% endif %}
                                    {% if solicitud.estado == 3 %}
                                        <b>¿Los inconvenientes en el aprendizaje del estudiante, responde a factores que
                                            no están asociados a lo académico.?</b><br>
                                        {% if solicitud.respuestapregunta %}
                                            <label class="label label-warning">SI</label>
                                        {% else %}
                                            <label class="label label-info">NOO</label>
                                        {% endif %}
                                        <br>
                                    {% endif %}

                                    {% if solicitud.asistencia %}
                                        <span class="label label-success tu">  <b>Registro asistencia:</b> <i
                                                class="fa fa-check"></i> </span>
                                    {% else %}
                                        <span class="label label-warning tu"> <b>Registro asistencia:</b> <i
                                                class="fa fa-close"></i> </span>
                                    {% endif %}
                                    {% if solicitud.manual %}
                                        {#                                        <br><br>#}
                                        <span class="label label-primary tu"> Ingreso manual de profesor. </span>
                                    {% endif %}
                                </td>
                                <td>
                                    <div class="btn-group">
                                        <a class="btn btn-mini dropdown-toggle" data-toggle="dropdown"
                                           href="javascript:;">Acciones<span class="caret"></span></a>
                                        <ul class="dropdown-menu pull-right list-group">
                                            {% if not solicitud.asistencia and not solicitud.asistenciamanual %}
                                                <li><a class="asistenciamanual" href="javascript:;"
                                                       idsol="{{ solicitud.id|encrypt }}"><i class="fa fa-check-circle"></i> Registrar asistencia manual</a>
                                                </li>
                                            {% endif %}
                                            {% if solicitud.estado == 2 and solicitud.fechatutoria and not asistencia %}
                                                <li><a class="cancelartutoria" href="javascript:;"
                                                       ids="{{ solicitud.id }}"><i class="fa fa-archive"></i> Cancelar
                                                    tutoria. </a></li>
                                            {% endif %}
                                            {% if solicitud.estado == 3 %}
                                                <li><a href="javascript:;" class="ingresarobservacion"
                                                       ids="{{ solicitud.id }}"><i class="fa fa-address-book"></i>
                                                    Ingresar observación. </a></li>
                                            {% endif %}
                                            {% if solicitud.manual %}
                                                <li><a class="eliminacionmodal" href="javascript:;"
                                                       nhref="/pro_tutoriaacademica?action=delsolicitud&id={{ solicitud.id|encrypt }}"><i
                                                        class="fa fa-times fa-fw fa fa-remove"></i> Eliminar</a></li>
                                            {% endif %}
                                        </ul>
                                    </div>
                                </td>
                            </tr>
                            {% empty %}
                            <tr>
                                <td colspan="10">
                                    NO EXISTEN REGISTROS EN EL SISTEMA
                                </td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                    <div class='row-fluid'>
                        {% if paging_estado4.num_pages > 20 %}
                            <div class='pagination'>
                                <ul>
                                    {% if paging_estado4.primera_pagina %}
                                        <li><a href="/pro_tutoriaacademica?page_estado4=1">1</a></li>
                                        <li>
                                            <a href="/adm_requerimiento?page_estado4={{ paging_estado4.ellipsis_izquierda }}"
                                               class="active">...</a></li>
                                    {% endif %}
                                    {% for pagenumber in paging_estado4.paginas %}
                                        <li {% if pagenumber == page_estado4.number %}class='active'{% endif %}>
                                            <a href="/pro_tutoriaacademica?page_estado4={{ pagenumber }}">{{ pagenumber }}</a>
                                        </li>
                                    {% endfor %}
                                    {% if paging_estado4.ultima_pagina %}
                                        <li>
                                            <a href="/pro_tutoriaacademica?page_estado4={{ paging_estado4.ellipsis_derecha }}"
                                               class="active">...</a></li>
                                        <li>
                                            <a href="/pro_tutoriaacademica?page_estado4={{ paging_estado4.num_pages }}">{{ paging_estado4.num_pages }}</a>
                                        </li>
                                    {% endif %}
                                </ul>
                            </div>
                        {% else %}
                            <div class='pagination'>
                                <ul>
                                    {% for pagenumber in paging_estado4.page_range %}
                                        <li {% if pagenumber == page_estado4.number %}class='active'{% endif %}>
                                            <a href="/pro_tutoriaacademica?{% if search4 %}s4={{ search4 }}&{% endif %}page_estado4={{ pagenumber }}">{{ pagenumber }}</a>
                                        </li>
                                    {% endfor %}
                                </ul>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade static" id="itemspanel" style="display: none;">
        <div class="modal-header">
            <h4><i class="fa fa-list"></i> <b class="paneltitle">INGRESAR OBSERVACIÓN</b></h4>
        </div>
        <div class="modal-body">
            <div class="row-fluid panelbody">
                <input type="hidden" id="id_solicitud" value="0">
                <b style="margin-bottom: 0; height: 13px; line-height: 13px">
                    ¿Los inconvenientes en el aprendizaje del estudiante, responde a factores que no están asociados a
                    lo académico.?
                </b><br>
                <input style="text-align: left;" formwidth="100%" id="id_respuestapregunta" name="respuestapregunta"
                       type="checkbox"><br><br>
                <label >Ingresar observación:</label>
                <textarea id="id_observacion" style="width: 100%" rows="3"></textarea><br>

            </div>


        </div>
        <div class="modal-footer">
            <a href="javascript:;" class="btn btn-adicionar btn-success"><i class="fa fa-save"></i> Guardar</a>
            <a href="javascript:;" class="btn btn-cerrar btn-danger"><i class="fa fa-close"></i>Cerrar</a>
        </div>
    </div>

    <div class="modal fade static" id="itemspanelcancelar" style="display: none;">
        <div class="modal-header">
            <h4><i class="fa fa-list"></i> <b class="paneltitle">CANCELAR TUTORÍA</b></h4>
        </div>
        <div class="modal-body">
            <div class="row-fluid panelbody">
                <input type="hidden" id="id_solicitudcancelar" value="0">
                <label>Ingresar observación:</label>
                <textarea id="id_observacioncancelar" style="width: 100%" rows="3"></textarea><br>
            </div>
        </div>
        <div class="modal-footer">
            <a href="javascript:;" class="btn btn-adicionar-cancelar btn-success"><i class="fa fa-save"></i> Guardar</a>
            <a href="javascript:;" class="btn btn-cerrar-cancelar btn-info"><i class="fa fa-close"></i>Cerrar</a>
        </div>
    </div>

    <div class="modal fade static" id="itemspaneljustificacion" style="display: none;">
        <div class="modal-header">
            <h4><i class="fa fa-check-circle"></i> <b class="paneltitle">INGRESO DE ASISTENCIA MANUAL</b></h4>
        </div>
        <div class="modal-body">
            <div class="row-fluid panelbody">
                <input type="hidden" id="id_solicitud_justificacion" value="0">
                <label style="font-size: 14px" for="id_justificacion"><b>Ingrese el motivo de la falta:</b></label>
                <textarea id="id_justificacion" style="width: 100%" rows="3" required></textarea>
                <p class="text-danger" style="display: none; color: red">Debe ingresar un motivo</p>
            </div>
        </div>
        <div class="modal-footer">
            <a href="javascript:;" class="btn btn-adicionar btn-success"><i class="fa fa-save"></i> Guardar</a>
            <a href="javascript:;" class="btn btn-cerrar btn-danger" data-dismiss="modal"><i class="fa fa-close"></i> Cerrar</a>
        </div>
    </div>

    <div class="modal fade static" id="itemspaneljustificacionmasivo" style="display: none;">
        <div class="modal-header">
            <h4><i class="fa fa-check-circle"></i> <b class="paneltitle">INGRESO DE ASISTENCIA MASIVO</b></h4>
        </div>
        <div class="modal-body">
            <div class="row-fluid panelbody">
                <input type="hidden" id="id_solicitud_justificacion" value="0">
                <label style="font-size: 14px" for="id_justificacionmasivo"><b>Ingrese el motivo de la falta:</b></label>
                <textarea id="id_justificacionmasivo" style="width: 100%" rows="3" required></textarea>
                <p class="text-danger" style="display: none; color: red">Debe ingresar un motivo</p>
            </div>
        </div>
        <div class="modal-footer">
            <a href="javascript:;" class="btn btn-adicionarmasivo btn-success"><i class="fa fa-save"></i> Guardar</a>
            <a href="javascript:;" class="btn btn-cerrar btn-danger" data-dismiss="modal"><i class="fa fa-close"></i> Cerrar</a>
        </div>
    </div>

    {#    Reporte Tutorias Modal#}
    <div class="modal fade static" id="modal_reportes2" style="display: none;">
        <div class="modal-header">
            <h3 class="paneltitle">Reporte de Tutorías</h3>
        </div>
        <div class="modal-body panelbody">
            <div class="row-fluid">
                <div class="span12">


                    <div class="form-group" id="periodo_group2" style="display: none">
                        <span> <b> Periodo: </b>  </span>
                        <form class="form-search">
                            <select id="id_periodo2" name="Periodo" style="width: 415px;">
                                <option value="0">--------</option>
                            </select>
                        </form>
                        <br>
                    </div>

                    <div class="form-group" id="estado_group2" style="display: none">
                        <span> <b> Estado: </b> </span>
                        <form class="form-search">
                            <select id="id_estado2" name="Estado" style="width: 415px;">
                                <option value="0">--------</option>
                                <option value="1">SOLICITADO</option>
                                <option value="2">PROGRAMADO</option>
                                <option value="3">EJECUTADO</option>
                                <option value="4">CANCELADO</option>
                            </select>
                        </form>
                    </div>

                </div>
            </div>
        </div>

        <div class="modal-footer">
            <table class="pull-right">
                <tr>
                    <td><a class="btn btn-success " id="download_report2"><i class="fa fa-download"></i> Descargar Reporte</a>
                    </td>
                    <td><a class="btn btn-danger" data-dismiss="modal"><i class="fa fa-close"></i> Cerrar</a></td>
                </tr>
            </table>
        </div>
    </div>

{% endblock %}
